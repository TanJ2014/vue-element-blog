{"version":3,"sources":["webpack:///src/pages/PostArticle/PostArticle.vue","webpack:///./src/pages/PostArticle/PostArticle.vue?16a7","webpack:///./src/pages/PostArticle/PostArticle.vue","webpack:///./static/kindeditor/kindeditor-all.js","webpack:///./src/pages/PostArticle/PostArticle.vue?a5a2"],"names":["PostArticle","data","form","title","content","plate","id","editor","methods","kind","K","this","KindEditor","create","items","console","log","onSubmit","sync","document","getElementById","value","html","add","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","$message","message","duration","type","abrupt","loginUserId","Object","api","sent","status","$router","push","stop","watch","computed","extends_default","vuex_esm","mounted","$store","dispatch","PostArticle_PostArticle","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","gutter","span","offset","ref","model","placeholder","maxlength","show-word-limit","callback","$$v","$set","expression","_v","name","_l","item","key","label","plateName","on","click","$event","go","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","oldInitSettings","window","undefined","_VERSION","_ua","navigator","userAgent","toLowerCase","_IE","indexOf","_NEWIE","_GECKO","_WEBKIT","_OPERA","_MOBILE","_IOS","test","_QUIRKS","compatMode","_IERANGE","getSelection","_matches","exec","_V","_TIME","Date","getTime","_round","Math","round","DEBUG","VERSION","IE","GECKO","WEBKIT","OPERA","V","TIME","each","_each","isArray","_isArray","isFunction","_isFunction","inArray","_inArray","inString","_inString","trim","_trim","addUnit","_addUnit","removeUnit","_removeUnit","escape","_escape","unescape","_unescape","toCamel","_toCamel","toHex","_toHex","toMap","_toMap","toArray","_toArray","undef","_undef","invalidUrl","_invalidUrl","addParam","_addParam","extend","_extend","json","_json","_INLINE_TAG_MAP","_BLOCK_TAG_MAP","_SINGLE_TAG_MAP","_STYLE_TAG_MAP","_CONTROL_TAG_MAP","_PRE_TAG_MAP","_NOSPLIT_TAG_MAP","_AUTOCLOSE_TAG_MAP","_FILL_ATTR_MAP","basePath","_getBasePath","options","designMode","fullscreenMode","filterMode","wellFormatMode","shadowMode","loadStyleMode","themesPath","langPath","pluginsPath","themeType","langType","urlType","newlineTag","resizeType","syncType","pasteType","dialogAlignType","useContextmenu","fullscreenShortcut","bodyClass","indentChar","cssPath","cssData","minWidth","minHeight","minChangeSize","zIndex","noDisableItems","colorTable","fontSizeTable","htmlTags","font","div","table","td,th","embed","img","p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6","pre","hr","br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del","iframe","layout","_INPUT_KEY_MAP","_CURSORMOVE_KEY_MAP","_CHANGE_KEY_MAP","val","_EVENT_PROPS","split","KEvent","init","el","event","self","doc","ownerDocument","target","srcElement","nodeType","parentNode","relatedTarget","fromElement","toElement","pageX","clientX","d","documentElement","body","scrollLeft","clientLeft","pageY","clientY","scrollTop","clientTop","which","charCode","keyCode","metaKey","ctrlKey","button","preventDefault","ev","returnValue","stopPropagation","cancelBubble","_eventExpendo","_eventId","_eventData","_readyFinished","attachEvent","events","ctrl","_ctrl","ready","_ready","formatUrl","_formatUrl","formatHtml","_formatHtml","getCssList","_getCssList","getAttrList","_getAttrList","mediaType","_mediaType","mediaAttrs","_mediaAttrs","mediaEmbed","_mediaEmbed","mediaImg","_mediaImg","clearMsWord","_clearMsWord","tmpl","_tmpl","_getSetAttrDiv","createElement","setAttribute","_GET_SET_ATTRIBUTE","className","query","_query","queryAll","_queryAll","KNode","node","length","i","len","constructor","_getDoc","_getNodeName","win","_getWin","fn","call","bind","_bind","unbind","_unbind","fire","_fire","hasAttr","_getAttr","attr","outer","k","v","_setAttr","removeAttr","_removeAttr","get","eq","hasClass","cls","_hasClass","addClass","removeClass","replace","RegExp","innerHTML","_setHtml","text","innerText","textContent","hasVal","_hasVal","css","style","_computedCss","width","offsetWidth","height","offsetHeight","opacity","filter","pos","x","y","getBoundingClientRect","box","_getScrollPos","left","top","offsetLeft","offsetTop","offsetParent","clone","bool","cloneNode","append","expr","appendChild","_get","appendTo","before","insertBefore","after","nextSibling","replaceWith","nodes","newNode","replaceChild","empty","child","firstChild","removeChild","remove","keepChilds","show","_originDisplay","hide","display","isSingle","isInline","isBlock","isStyle","isControl","contains","otherNode","_contains","parent","children","list","nodeValue","first","last","index","sibling","previousSibling","scan","order","walk","n","lastChild","prototype","_K","root","charAt","substr","childNodes","arguments","NodeClass","_START_TO_START","_START_TO_END","_END_TO_END","_END_TO_START","_BOOKMARK_ID","KRange","startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestor","getParents","parents","parentA","parentB","parentsA","parentsB","lenA","lenB","setStart","_updateCollapsed","setEnd","setStartBefore","setStartAfter","setEndBefore","setEndAfter","selectNode","selectNodeContents","knode","collapse","toStart","compareBoundaryPoints","how","range","rangeA","rangeB","arr","nodeA","nodeB","nodeC","posA","posB","cmp","compareEndPoints","diff","cloneRange","toString","rng","cloneContents","_copyAndDelete","deleteContents","extractContents","insertNode","c","sc","so","ec","eo","nodeCount","nodeName","splitText","surroundContents","hasControlRange","createRange","e","createControlRange","addElement","down","createTextRange","setEndPoint","_getEndRange","downPos","isStart","right","up","upPos","enlarge","toBlock","enlargePos","shrink","createBookmark","serialize","endNode","startNode","start","end","moveToBookmark","bookmark","RangeClass","_range","START_TO_START","START_TO_END","END_TO_END","END_TO_START","KCmd","sel","_getSel","selection","forceReset","_getRng","select","hasDummy","hasU200b","dummy","moveToElementText","ex","focus","createTextNode","removeAllRanges","addRange","scrollTo","wrapper","copyWrapper","ancestor","_inPreElement","_wrapNode","map","tempRange","needSplit","_hasAttrOrCss","frag","dummyParent","ksc","_removeAttrOrCss","kscp","sb","_isEmptyNode","sa","startBefore","startDummy","endDummy","nodeList","cmpStart","startAfter","endAfter","commonNode","find","cNode","tagName","state","queryCommandState","lc","_nativeCommandValue","h1,h2,h3,h4,h5,h6,p,div,pre,address","*","toggle","bold","strong","b","italic","em","underline","u","strikethrough","s","forecolor","hilitecolor","fontsize","fontname","fontfamily","removeformat","inserthtml","quickMode","insertHtml","createDocumentFragment","outerHTML","pasteHTML","temp","newRange","_toRange","pasteHtml","print","insertimage","url","border","align","createlink","setAttr","_nativeCommand","unlink","queryCommandSupported","CmdClass","cmd","_cmd","KWidget","z","_alignEl","alignEl","position","z-index","autoPos","src","autoScroll","scrollPos","diffX","diffY","updateProp","w","h","clientWidth","clientHeight","docEl","_docElement","draggable","moveEl","moveFn","_drag","WidgetClass","widget","_widget","_direction","getElementsByTagName","dir","KEdit","beforeGetHtml","beforeSetHtml","afterSetHtml","isDocumentDomain","location","protocol","host","domain","srcScript","iframeSrc","encodeURIComponent","_iframeDoc","open","write","_getInitHtml","close","contentWindow","afterChange","_mousedownHandler","blur","mousedown","keydown","_elementVal","disabled","contentEditable","removeAttribute","afterCreate","textarea","tabIndex","isNaN","parseInt","setWidth","setHeight","setTimeout","isFull","design","input","timeoutHandler","keyup","altKey","mouseup","contextmenu","EditClass","edit","_edit","iframeDoc","KToolbar","hover","method","disableMode","noDisableItemMap","_itemMap","mouseover","mouseout","_selectToolbar","unselect","enable","disable","disableAll","getAttribute","ToolbarClass","toolbar","_toolbar","KMenu","centerLineMode","addItem","centerDiv","itemDiv","leftDiv","rightDiv","iconClass","checked","beforeRemove","MenuClass","menu","_menu","KColorPicker","colors","selectedColor","_cells","cellPadding","cellSpacing","row","insertRow","cell","insertCell","colSpan","_addAttr","j","color","noColor","ColorPickerClass","colorpicker","_colorpicker","KUploadButton","fieldName","extraParams","afterError","str","alert","hiddenElements","join","fileBox","submit","tempForm","afterUpload","UploadButtonClass","uploadbutton","_uploadbutton","KDialog","previewBtn","yesBtn","noBtn","closeBtn","showMask","contentDiv","iframeMask","headerDiv","closeIcon","clickEl","beforeDrag","bodyDiv","footerDiv","btn","_createButton","mask","docWidth","max","scrollWidth","docHeight","scrollHeight","isLoading","setMaskIndex","msg","loading","hideLoading","DialogClass","dialog","_dialog","tabs","_tabs","loadScript","_loadScript","loadStyle","_loadStyle","ajax","_ajax","_language","KEditor","lang","mixed","_lang","loadPlugin","_pluginStatus","_plugins","handler","_handlers","clickToolbar","updateState","addContextmenu","_contextmenus","isCreated","overflow","container","toolbarDiv","editDiv","statusbar","_scrollPos","_fullscreenExecuted","htmlList","menuName","hideMenu","editHeight","_removeBookmarkTag","_removeTempTag","_docMousedownFn","_bindContextmenuEvent","_bindNewlineEvent","_bindTabEvent","_bindFocusEvent","addBookmark","readonlyMode","readonly","initContent","_undoStack","pop","_fullscreenResizeHandler","initResize","resize","dialogs","hideDialog","fullHtml","isEmpty","isDirty","selectedHtml","count","mode","changeFlag","apply","appendHtml","checkSize","abs","_firstAddBookmark","_addBookmarkToStack","undo","_undoToRedo","_redoStack","redo","fullscreen","isReadonly","createMenu","hideContextmenu","createDialog","firstDialog","parentDialog","errorDialog","_instances","_eachEditor","splice","EditorClass","_editor","_create","instances","plugin","_plugin","shortcutKeys","selectall","hasForm","resetBtn","loaded","blocks","heights","h1","h2","h3","H4","p","curVal","getSelectedLink","getSelectedImage","_getImageFromRange","getSelectedFlash","getSelectedMedia","getSelectedAnchor","uName","toUpperCase","cond","getSelectedTable","getSelectedRow","getSelectedCell","pasting","white-space","execCommand","movePastedData","full","tag","$0","$1","$2","$3","imgAttrs","styles","code","href","match","_addClassToTag","obj","hasOwnProperty","delimiter","unit","hex","Array","slice","defaultVal","param","proto","childProto","cx","lastIndex","charCodeAt","eval","els","substring","lastIndexOf","_bindEvent","addEventListener","_useCapture","_unbindEvent","removeEventListener","detachEvent","_getId","_setId","_removeId","kevent","shiftKey","readyFunc","readyState","toplevel","frameElement","doScroll","ieReadyFunc","reg","_formatCss","pathname","m","getRealPath","path","parts","paths","part","getRelativePath","depth","prefix","wellFormatted","fontSizeList","htmlTagMap","script","tagStack","$4","$5","$6","startNewline","startSlash","endSlash","endNewline","attrMap","fontStyleMap","fontStyle","styleMap","_mediaClass","srcTag","blankPath","Function","exprList","mergedResults","stripslashes","cmpTag","tagA","tagB","byId","byClass","getElementsByClassName","querySelectorAll","byAttr","matches","getElementsByName","byName","re","results","subResults","l","isChild","lenth","parentWindow","defaultView","camelKey","getComputedStyle","getPropertyValue","currentStyle","_VALUE_TAG_MAP","_docHeight","_docWidth","scrollX","scrollY","isCopy","isDelete","splitTextNode","centerNode","center","copyRange","incStart","incEnd","textNode","removeNodes","extractNodes","nextNode","childFlag","testRange","_moveToElementText","_getStartEnd","parentElement","pointRange","duplicate","startPos","nodeRange","moveStart","prevNode","kchild","tr2td","cells","queryCommandValue","rangeCount","getRangeAt","_singleKeyMap","newMap","_hasAttrOrCssByKey","mapKey","_removeAttrOrCssByKey","allFlag","_getInnerNode","inner","_mergeWrapper","lastA","childA","merged","_mergeAttrs","nodeWrapper","iframeFix","docs","mousemove","moveListener","upListener","selectListener","releaseCapture","setCapture","kdoc","contentDocument","arg","afterSelect","liList","ul","li","tab","selectedIndex","panel","head","charset","onload","onreadystatechange","_chopQuery","link","links","absoluteUrl","rel","dataType","xhr","XMLHttpRequest","ActiveXObject","responseText","params","setRequestHeader","send","_parseLangKey","ns","maxWidth","shift","prevItem","visibility","menuHeight","brSkipTagMap","pSkipTagMap","getAncestorTagName","afterTab","afterFocus","afterBlur","stack","fromStack","toStack","setOption","se","source","preview","cut","copy","paste","plainpaste","wordpaste","justifyleft","justifycenter","justifyright","justifyfull","insertorderedlist","insertunorderedlist","indent","outdent","subscript","superscript","formatblock","image","multiimage","flash","media","tablecell","emoticons","about","filemanager","baidumap","lineheight","clearhtml","pagebreak","quickformat","insertfile","template","anchor","yes","no","editImage","deleteImage","editFlash","deleteFlash","editMedia","deleteMedia","editLink","deleteLink","editAnchor","deleteAnchor","tableprop","tablecellprop","tableinsert","tabledelete","tablecolinsertleft","tablecolinsertright","tablerowinsertabove","tablerowinsertbelow","tablerowmerge","tablecolmerge","tablerowsplit","tablecolsplit","tablecoldelete","tablerowdelete","pleaseSelectFile","invalidImg","invalidMedia","invalidWidth","invalidHeight","invalidBorder","invalidRows","invalidCols","invalidPadding","invalidSpacing","invalidJson","uploadSuccess","cutError","copyError","pasteError","ajaxLoading","uploadLoading","uploadError","plainpaste.comment","wordpaste.comment","code.pleaseInput","link.url","link.linkType","link.newWindow","link.selfWindow","flash.url","flash.width","flash.height","flash.upload","flash.viewServer","media.url","media.width","media.height","media.autostart","media.upload","media.viewServer","image.remoteImage","image.localImage","image.remoteUrl","image.localUrl","image.size","image.width","image.height","image.resetSize","image.align","image.defaultAlign","image.leftAlign","image.rightAlign","image.imgTitle","image.upload","image.viewServer","multiimage.uploadDesc","multiimage.startUpload","multiimage.clearAll","multiimage.insertAll","multiimage.queueLimitExceeded","multiimage.fileExceedsSizeLimit","multiimage.zeroByteFile","multiimage.invalidFiletype","multiimage.unknownError","multiimage.pending","multiimage.uploadError","filemanager.emptyFolder","filemanager.moveup","filemanager.viewType","filemanager.viewImage","filemanager.listImage","filemanager.orderType","filemanager.fileName","filemanager.fileSize","filemanager.fileType","insertfile.url","insertfile.title","insertfile.upload","insertfile.viewServer","table.cells","table.rows","table.cols","table.size","table.width","table.height","table.percent","table.px","table.space","table.padding","table.spacing","table.align","table.textAlign","table.verticalAlign","table.alignDefault","table.alignLeft","table.alignCenter","table.alignRight","table.alignTop","table.alignMiddle","table.alignBottom","table.alignBaseline","table.border","table.borderWidth","table.borderColor","table.backgroundColor","map.address","map.search","baidumap.address","baidumap.search","baidumap.insertDynamicMap","anchor.name","formatblock.formatBlock","h4","fontname.fontName","SimSun","NSimSun","FangSong_GB2312","KaiTi_GB2312","SimHei","Microsoft YaHei","Arial","Arial Black","Times New Roman","Courier New","Tahoma","Verdana","lineheight.lineHeight","1","1.5","2","2.5","3","template.selectTemplate","template.replaceContent","template.fileList","1.html","2.html","3.html","nameBox","delete","autoHeightMode","resetHeight","scroll","overflowY","mapWidth","mapHeight","address","search","insertDynamicMap","centerObj","getCenter","lng","lat","checkbox","zoom","searchBtn","addressBox","geocoder","getZoom","maptype","getMapTypeId","div,hr,br,tbody,tr,p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6","pleaseInput","emoticonsPath","allowPreview","allowPreviewEmoticons","currentPageNum","previewDiv","previewImg","rows","cols","startNum","pages","ceil","colsHalf","floor","wrapperDiv","elements","bindCellEvent","num","createEmoticonsTable","pageNum","parentDiv","removeEvent","pageDiv","bindPageEvent","createPageTable","fileManagerJson","imgPath","bindTitle","filename","filesize","datetime","is_dir","filemanagerDialog","dirName","viewType","clickFn","moveup","viewImage","listImage","orderType","fileName","fileSize","fileType","moveupLink","viewTypeBox","orderTypeBox","reloadPage","func","showLoading","elList","bindEvent","result","createFunc","fileUrl","current_url","dirPath","current_dir_path","is_photo","createCommon","changeFunc","createView","createList","moveup_dir_path","change","fileList","file_list","iconUrl","cell0","has_file","emptyFolder","photoDiv","allowFlashUpload","allowFileManager","formatUploadUrl","extraFileUploadParams","filePostName","uploadJson","upload","viewServer","urlBox","widthBox","heightBox","quality","viewServerBtn","error","afterSelectFile","allowImageUpload","allowImageRemote","imageTabIndex","fillDescAfterUploadImage","imageDialog","imageUrl","imageWidth","imageHeight","imageTitle","imageAlign","showRemote","showLocal","remoteUrl","size","resetSize","imgTitle","localUrl","dialogWidth","dialogHeight","localUrlBox","titleBox","alignBox","refreshBtn","remoteImage","localImage","originalWidth","originalHeight","setSize","tempImg","allowFileUpload","fileDialog","fileTitle","lineHeight","linkType","typeBox","Option","newWindow","selfWindow","allowMediaUpload","autostart","autostartBox","loop","KSWFUpload","showError","progressbars","uploadDesc","startButtonValue","settings","debug","upload_url","uploadUrl","flash_url","flashUrl","file_post_name","button_placeholder","button_image_url","buttonImageUrl","button_width","buttonWidth","button_height","buttonHeight","button_cursor","SWFUpload","CURSOR","HAND","file_types","fileTypes","file_types_description","fileTypesDesc","file_upload_limit","fileUploadLimit","file_size_limit","fileSizeLimit","post_params","postParams","file_queued_handler","file","fileIconUrl","appendFile","file_queue_error_handler","errorCode","errorName","QUEUE_ERROR","QUEUE_LIMIT_EXCEEDED","queueLimitExceeded","FILE_EXCEEDS_SIZE_LIMIT","fileExceedsSizeLimit","ZERO_BYTE_FILE","zeroByteFile","INVALID_FILETYPE","invalidFiletype","unknownError","upload_start_handler","upload_progress_handler","bytesLoaded","bytesTotal","percent","progressbar","bar","upload_error_handler","filestatus","FILE_STATUS","ERROR","errorMessage","upload_success_handler","serverData","swfu","startUpload","getUrlList","COMPLETE","removeFile","fileId","cancelUpload","removeFiles","statusDiv","pendingMessage","destroy","swfupload","element","imageSizeLimit","imageUploadLimit","imageFileTypes","multiImageDialog","uploadLimit","sizeLimit","insertAll","clearAll","pending","urlList","initSWFUpload","customSettings","eventQueue","movieName","movieCount","movieElement","initSettings","loadFlash","displayDebugInfo","version","UPLOAD_ERROR","HTTP_ERROR","MISSING_UPLOAD_URL","IO_ERROR","SECURITY_ERROR","UPLOAD_LIMIT_EXCEEDED","UPLOAD_FAILED","SPECIFIED_FILE_ID_NOT_FOUND","FILE_VALIDATION_FAILED","FILE_CANCELLED","UPLOAD_STOPPED","QUEUED","IN_PROGRESS","CANCELLED","BUTTON_ACTION","SELECT_FILE","SELECT_FILES","START_UPLOAD","ARROW","WINDOW_MODE","WINDOW","TRANSPARENT","OPAQUE","completeURL","hostname","port","indexSlash","ensureDefault","settingName","defaultValue","debug_enabled","return_upload_start_handler","returnUploadStart","debugMessage","custom_settings","prevent_swf_caching","preserve_relative_urls","targetElement","tempParent","button_placeholder_id","getFlashHTML","getMovieElement","classid","button_window_mode","getFlashVars","paramString","buildParamString","httpSuccessString","http_success","use_query_string","requeue_on_error","assume_success_timeout","file_queue_limit","button_text","button_text_top_padding","button_text_left_padding","button_text_style","button_action","button_disabled","paramStringPairs","ex1","ex2","swfupload_loaded_handler","file_dialog_start_handler","upload_complete_handler","debug_handler","addSetting","default_value","getSetting","callFlash","functionName","argumentArray","returnString","CallFunction","__flash__argumentsToXML","post","unescapeFilePostParams","selectFile","selectFiles","fileID","triggerErrorEvent","stopUpload","getStats","setStats","statsObject","getFile","addFileParam","removeFileParam","setUploadURL","setPostParams","paramsObject","addPostParam","removePostParam","setFileTypes","types","description","setFileSizeLimit","setFileUploadLimit","setFileQueueLimit","fileQueueLimit","setFilePostName","setUseQueryString","useQueryString","setRequeueOnError","requeueOnError","setHTTPSuccess","http_status_codes","setAssumeSuccessTimeout","timeout_seconds","setDebugEnabled","debugEnabled","setButtonImageURL","buttonImageURL","setButtonDimensions","movie","setButtonText","setButtonTextPadding","setButtonTextStyle","setButtonDisabled","isDisabled","setButtonAction","buttonAction","setButtonCursor","cursor","queueEvent","handlerName","executeNextEvent","f","uk","unescapedPost","String","fromCharCode","testExternalInterface","flashReady","cleanUp","instance","flashEx","fileDialogStart","fileQueued","fileQueueError","fileDialogComplete","numFilesSelected","numFilesQueued","numFilesInQueue","uploadStart","uploadProgress","bytesComplete","responseReceived","uploadComplete","exceptionMessage","exceptionValues","Console","writeLine","documentForm","fontFamily","margin","queue","queueSettings","queue_cancelled_flag","queue_upload_count","user_upload_complete_handler","user_upload_start_handler","uploadCompleteHandler","uploadStartHandler","queue_complete_handler","cancelQueue","stats","files_queued","pagebreakHtml","tail","comment","blockMap","getFirstChild","subList","_setColor","pickerList","_initColorPicker","dialogDiv","colorBox","removePicker","picker","_getCellIndex","rowSpanCount","rowSpan","cellIndex","prop","isInsert","px","space","padding","spacing","alignDefault","alignLeft","alignCenter","alignRight","borderWidth","borderColor","backgroundColor","rowsBox","colsBox","widthType","widthTypeBox","heightType","heightTypeBox","paddingBox","spacingBox","borderBox","bgColor","tableWidth","tableHeight","cellprop","textAlign","verticalAlign","alignTop","alignMiddle","alignBottom","alignBaseline","textAlignBox","verticalAlignBox","background-color","text-align","vertical-align","border-width","border-style","border-color","cellWidth","cellHeight","insert","colinsert","newRow","newCell","colinsertleft","colinsertright","rowinsert","rowIndex","rowinsertabove","rowinsertbelow","rowmerge","nextRowIndex","nextRow","nextCell","deleteCell","colmerge","nextCellIndex","rowsplit","colsplit","coldelete","rowdelete","deleteRow","htmlPath","getFilePath","selectTemplate","replaceContent","selectBox"],"mappings":"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","file":"static/js/7.36f8943cf07b4601697b.js","sourcesContent":["<template>\n  <div class=\"postArticle\">\n    <!--<div class=\"dsds\" v-html=\"form.desc\"></div>-->\n    <el-row :gutter=\"20\" class=\"mg-top-15\">\n      <el-col :span=\"22\" :offset=\"1\">\n        <div class=\"grid-content bg-purple postArticle-content\">\n          <el-form ref=\"form\" :model=\"form\">\n            <el-form-item>\n              <el-input type=\"text\" placeholder=\"请输入文章标题\" v-model=\"form.title\" maxlength=\"50\" show-word-limit></el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-input type=\"textarea\" v-model=\"form.content\" id=\"editor_id\" name=\"content\"></el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-select class=\"mg-top-15 choosePlate\" v-model=\"form.plate\" placeholder=\"请选择文章所属版块\">\n                <el-option v-for=\"item in allPlates\" :key=\"item.id\" :label=\"item.plateName\" :value=\"item.id\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item>\n              <el-button type=\"primary\" @click=\"onSubmit\">立即发表</el-button>\n              <el-button @click=\"$router.go(-1)\">返回</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\n  import '../../../static/kindeditor/kindeditor-all'\n  import '../../../static/kindeditor/lang/zh-CN'\n  import {reqPostArticle} from '../../api/index'\n  import {mapState} from 'vuex'\n  export default {\n    data () {\n      return {\n        form:{\n          title:\"\",\n          content:\"\",\n          plate:\"\",\n          id: 0,\n        },\n        editor:\"\",\n      }\n    },\n    methods: {\n      kind(K){\n       this.editor =  KindEditor.create(K,{\n              items : ['source', '|', 'undo', 'redo', '|', 'preview', 'template', 'cut', 'copy', 'paste',\n                'plainpaste', 'wordpaste', '|', 'justifyleft', 'justifycenter', 'justifyright',\n                'justifyfull', 'insertorderedlist', 'insertunorderedlist', 'indent', 'outdent', 'subscript',\n                'superscript', 'clearhtml', 'quickformat', 'selectall', '|', 'fullscreen', '/',\n                'formatblock', 'fontname', 'fontsize', '|', 'forecolor', 'hilitecolor', 'bold',\n                'italic', 'underline', 'strikethrough', 'lineheight', 'removeformat', '|', 'image','multiimage',\n                'flash', 'media', 'insertfile', 'table', 'hr', 'baidumap', 'pagebreak',\n                'anchor', 'link', 'unlink']\n            }\n          )\n        console.log(K)\n      },\n      onSubmit(){\n        this.editor.sync();\n        this.form.content = document.getElementById('editor_id').value;\n        this.editor.html(this.form.content);\n        this.add()\n      },\n      async add(){\n        if(!this.form.title||!this.form.content||!this.form.plate){\n          this.$message({\n            message: '标题、内容及所属版块均不能为空',\n            duration: 2000,\n            type: 'error'\n          })\n          return\n        }\n        this.form.id = this.loginUserId\n          console.log(this.form)\n        let result = await reqPostArticle(this.form)\n        if(result.status===1){\n          this.$message({\n            message: '发表成功',\n            type: 'success'\n          });\n          this.$router.push('/personalcenter/'+this.loginUserId)\n        }else{\n          this.$message({\n            message: '发表出错',\n            type: 'error'\n          });\n        }\n      }\n    },\n    watch: {\n\n    },\n    computed:{\n      ...mapState(['loginUserId','allPlates'])\n    },\n    mounted(){\n        this.kind('#editor_id')\n        this.$store.dispatch('getAllPlates')\n    }\n  }\n</script>\n\n<style>\n.postArticle{\n  padding: 10px;\n}\n.postArticle .postArticle-content{\n  background-color: white;\n}\n.mg-top-15{\n  margin-top: 15px;\n}\n.postArticle-content{\n  padding: 20px 40px;\n  padding-bottom: 60px;\n}\n.ke-container-default{\n  width: 100%!important;\n}\n.ke-container {\n  display: block;\n  border: 1px solid #F0F2F2;\n}\n.ke-toolbar {\n  border-bottom: 1px solid #F5F6F7;\n  background-color: #F5F6F7;\n}\n.ke-statusbar {\n  background-color: #F5F6F7;\n  border-top: 1px solid #F5F6F7;\n}\n  .ke-edit-iframe{\n    min-height: 600px;\n  }\n  .choosePlate{\n    width: 30%;\n  }\n\n  .ke-edit{\n    height: auto!important;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/PostArticle/PostArticle.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"postArticle\"},[_c('el-row',{staticClass:\"mg-top-15\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":22,\"offset\":1}},[_c('div',{staticClass:\"grid-content bg-purple postArticle-content\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form}},[_c('el-form-item',[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入文章标题\",\"maxlength\":\"50\",\"show-word-limit\":\"\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-input',{attrs:{\"type\":\"textarea\",\"id\":\"editor_id\",\"name\":\"content\"},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-select',{staticClass:\"mg-top-15 choosePlate\",attrs:{\"placeholder\":\"请选择文章所属版块\"},model:{value:(_vm.form.plate),callback:function ($$v) {_vm.$set(_vm.form, \"plate\", $$v)},expression:\"form.plate\"}},_vm._l((_vm.allPlates),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.plateName,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"立即发表\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"返回\")])],1)],1)],1)])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-07d9cd4a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/PostArticle/PostArticle.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-07d9cd4a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./PostArticle.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./PostArticle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./PostArticle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-07d9cd4a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./PostArticle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/PostArticle/PostArticle.vue\n// module id = null\n// module chunks = ","/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2016 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @website http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n* @version 4.1.11 (2016-03-31)\r\n*******************************************************************************/\r\n(function (window, undefined) {\r\n\tif (window.KindEditor) {\r\n\t\treturn;\r\n\t}\r\n\n\r\nif (!window.console) {\r\n\twindow.console = {};\r\n}\r\nif (!console.log) {\r\n\tconsole.log = function () {};\r\n}\r\nvar _VERSION = '4.1.11 (2016-03-31)',\r\n\t_ua = navigator.userAgent.toLowerCase(),\r\n\t_IE = _ua.indexOf('msie') > -1 && _ua.indexOf('opera') == -1,\r\n\t_NEWIE = _ua.indexOf('msie') == -1 && _ua.indexOf('trident') > -1,\r\n\t_GECKO = _ua.indexOf('gecko') > -1 && _ua.indexOf('khtml') == -1,\r\n\t_WEBKIT = _ua.indexOf('applewebkit') > -1,\r\n\t_OPERA = _ua.indexOf('opera') > -1,\r\n\t_MOBILE = _ua.indexOf('mobile') > -1,\r\n\t_IOS = /ipad|iphone|ipod/.test(_ua),\r\n\t_QUIRKS = document.compatMode != 'CSS1Compat',\r\n\t_IERANGE = !window.getSelection,\r\n\t_matches = /(?:msie|firefox|webkit|opera)[\\/:\\s](\\d+)/.exec(_ua),\r\n\t_V = _matches ? _matches[1] : '0',\r\n\t_TIME = new Date().getTime();\r\nfunction _isArray(val) {\r\n\tif (!val) {\r\n\t\treturn false;\r\n\t}\r\n\treturn Object.prototype.toString.call(val) === '[object Array]';\r\n}\r\nfunction _isFunction(val) {\r\n\tif (!val) {\r\n\t\treturn false;\r\n\t}\r\n\treturn Object.prototype.toString.call(val) === '[object Function]';\r\n}\r\nfunction _inArray(val, arr) {\r\n\tfor (var i = 0, len = arr.length; i < len; i++) {\r\n\t\tif (val === arr[i]) {\r\n\t\t\treturn i;\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\nfunction _each(obj, fn) {\r\n\tif (_isArray(obj)) {\r\n\t\tfor (var i = 0, len = obj.length; i < len; i++) {\r\n\t\t\tif (fn.call(obj[i], i, obj[i]) === false) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tfor (var key in obj) {\r\n\t\t\tif (obj.hasOwnProperty(key)) {\r\n\t\t\t\tif (fn.call(obj[key], key, obj[key]) === false) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\nfunction _trim(str) {\r\n\treturn str.replace(/(?:^[ \\t\\n\\r]+)|(?:[ \\t\\n\\r]+$)/g, '');\r\n}\r\nfunction _inString(val, str, delimiter) {\r\n\tdelimiter = delimiter === undefined ? ',' : delimiter;\r\n\treturn (delimiter + str + delimiter).indexOf(delimiter + val + delimiter) >= 0;\r\n}\r\nfunction _addUnit(val, unit) {\r\n\tunit = unit || 'px';\r\n\treturn val && /^-?\\d+(?:\\.\\d+)?$/.test(val) ? val + unit : val;\r\n}\r\nfunction _removeUnit(val) {\r\n\tvar match;\r\n\treturn val && (match = /(\\d+)/.exec(val)) ? parseInt(match[1], 10) : 0;\r\n}\r\nfunction _escape(val) {\r\n\treturn val.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\r\n}\r\nfunction _unescape(val) {\r\n\treturn val.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&quot;/g, '\"').replace(/&amp;/g, '&');\r\n}\r\nfunction _toCamel(str) {\r\n\tvar arr = str.split('-');\r\n\tstr = '';\r\n\t_each(arr, function(key, val) {\r\n\t\tstr += (key > 0) ? val.charAt(0).toUpperCase() + val.substr(1) : val;\r\n\t});\r\n\treturn str;\r\n}\r\nfunction _toHex(val) {\r\n\tfunction hex(d) {\r\n\t\tvar s = parseInt(d, 10).toString(16).toUpperCase();\r\n\t\treturn s.length > 1 ? s : '0' + s;\r\n\t}\r\n\treturn val.replace(/rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)/ig,\r\n\t\tfunction($0, $1, $2, $3) {\r\n\t\t\treturn '#' + hex($1) + hex($2) + hex($3);\r\n\t\t}\r\n\t);\r\n}\r\nfunction _toMap(val, delimiter) {\r\n\tdelimiter = delimiter === undefined ? ',' : delimiter;\r\n\tvar map = {}, arr = _isArray(val) ? val : val.split(delimiter), match;\r\n\t_each(arr, function(key, val) {\r\n\t\tif ((match = /^(\\d+)\\.\\.(\\d+)$/.exec(val))) {\r\n\t\t\tfor (var i = parseInt(match[1], 10); i <= parseInt(match[2], 10); i++) {\r\n\t\t\t\tmap[i.toString()] = true;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tmap[val] = true;\r\n\t\t}\r\n\t});\r\n\treturn map;\r\n}\r\nfunction _toArray(obj, offset) {\r\n\treturn Array.prototype.slice.call(obj, offset || 0);\r\n}\r\nfunction _undef(val, defaultVal) {\r\n\treturn val === undefined ? defaultVal : val;\r\n}\r\nfunction _invalidUrl(url) {\r\n\treturn !url || /[<>\"]/.test(url);\r\n}\r\nfunction _addParam(url, param) {\r\n\treturn url.indexOf('?') >= 0 ? url + '&' + param : url + '?' + param;\r\n}\r\nfunction _extend(child, parent, proto) {\r\n\tif (!proto) {\r\n\t\tproto = parent;\r\n\t\tparent = null;\r\n\t}\r\n\tvar childProto;\r\n\tif (parent) {\r\n\t\tvar fn = function () {};\r\n\t\tfn.prototype = parent.prototype;\r\n\t\tchildProto = new fn();\r\n\t\t_each(proto, function(key, val) {\r\n\t\t\tchildProto[key] = val;\r\n\t\t});\r\n\t} else {\r\n\t\tchildProto = proto;\r\n\t}\r\n\tchildProto.constructor = child;\r\n\tchild.prototype = childProto;\r\n\tchild.parent = parent ? parent.prototype : null;\r\n}\r\n\r\r\nfunction _json(text) {\r\n\tvar match;\r\n\tif ((match = /\\{[\\s\\S]*\\}|\\[[\\s\\S]*\\]/.exec(text))) {\r\n\t\ttext = match[0];\r\n\t}\r\n\tvar cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\r\n\tcx.lastIndex = 0;\r\n\tif (cx.test(text)) {\r\n\t\ttext = text.replace(cx, function (a) {\r\n\t\t\treturn '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\r\n\t\t});\r\n\t}\r\n\tif (/^[\\],:{}\\s]*$/.\r\n\ttest(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@').\r\n\treplace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']').\r\n\treplace(/(?:^|:|,)(?:\\s*\\[)+/g, ''))) {\r\n\t\treturn eval('(' + text + ')');\r\n\t}\r\n\tthrow 'JSON parse error';\r\n}\r\nvar _round = Math.round;\r\nvar K = {\r\n\tDEBUG : false,\r\n\tVERSION : _VERSION,\r\n\tIE : _IE,\r\n\tGECKO : _GECKO,\r\n\tWEBKIT : _WEBKIT,\r\n\tOPERA : _OPERA,\r\n\tV : _V,\r\n\tTIME : _TIME,\r\n\teach : _each,\r\n\tisArray : _isArray,\r\n\tisFunction : _isFunction,\r\n\tinArray : _inArray,\r\n\tinString : _inString,\r\n\ttrim : _trim,\r\n\taddUnit : _addUnit,\r\n\tremoveUnit : _removeUnit,\r\n\tescape : _escape,\r\n\tunescape : _unescape,\r\n\ttoCamel : _toCamel,\r\n\ttoHex : _toHex,\r\n\ttoMap : _toMap,\r\n\ttoArray : _toArray,\r\n\tundef : _undef,\r\n\tinvalidUrl : _invalidUrl,\r\n\taddParam : _addParam,\r\n\textend : _extend,\r\n\tjson : _json\r\n};\r\nvar _INLINE_TAG_MAP = _toMap('a,abbr,acronym,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,img,input,ins,kbd,label,map,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var'),\r\n\t_BLOCK_TAG_MAP = _toMap('address,applet,blockquote,body,center,dd,dir,div,dl,dt,fieldset,form,frameset,h1,h2,h3,h4,h5,h6,head,hr,html,iframe,ins,isindex,li,map,menu,meta,noframes,noscript,object,ol,p,pre,script,style,table,tbody,td,tfoot,th,thead,title,tr,ul'),\r\n\t_SINGLE_TAG_MAP = _toMap('area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed'),\r\n\t_STYLE_TAG_MAP = _toMap('b,basefont,big,del,em,font,i,s,small,span,strike,strong,sub,sup,u'),\r\n\t_CONTROL_TAG_MAP = _toMap('img,table,input,textarea,button'),\r\n\t_PRE_TAG_MAP = _toMap('pre,style,script'),\r\n\t_NOSPLIT_TAG_MAP = _toMap('html,head,body,td,tr,table,ol,ul,li'),\r\n\t_AUTOCLOSE_TAG_MAP = _toMap('colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr'),\r\n\t_FILL_ATTR_MAP = _toMap('checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected'),\r\n\t_VALUE_TAG_MAP = _toMap('input,button,textarea,select');\r\n\n\r\nfunction _getBasePath() {\r\n\tvar els = document.getElementsByTagName('script'), src;\r\n\tfor (var i = 0, len = els.length; i < len; i++) {\r\n\t\tsrc = els[i].src || '';\r\n\t\tif (/kindeditor[\\w\\-\\.]*\\.js/.test(src)) {\r\n\t\t\treturn src.substring(0, src.lastIndexOf('/') + 1);\r\n\t\t}\r\n\t}\r\n\treturn '';\r\n}\r\nK.basePath = _getBasePath();\r\nK.options = {\r\n\tdesignMode : true,\r\n\tfullscreenMode : false,\r\n\tfilterMode : true,\r\n\twellFormatMode : true,\r\n\tshadowMode : true,\r\n\tloadStyleMode : true,\r\n\tbasePath : K.basePath,\r\n\tthemesPath : K.basePath + 'themes/',\r\n\tlangPath : K.basePath + 'lang/',\r\n\tpluginsPath : K.basePath + 'plugins/',\r\n\tthemeType : 'default',\r\n\tlangType : 'zh-CN',\r\n\turlType : '',\r\n\tnewlineTag : 'p',\r\n\tresizeType : 2,\r\n\tsyncType : 'form',\r\n\tpasteType : 2,\r\n\tdialogAlignType : 'page',\r\n\tuseContextmenu : true,\r\n\tfullscreenShortcut : false,\r\n\tbodyClass : 'ke-content',\r\n\tindentChar : '\\t',\r\n\tcssPath : '',\r\n\tcssData : '',\r\n\tminWidth : 650,\r\n\tminHeight : 100,\r\n\tminChangeSize : 50,\r\n\tzIndex : 811213,\r\n\titems : [\r\n\t\t'source', '|', 'undo', 'redo', '|', 'preview', 'print', 'template', 'code', 'cut', 'copy', 'paste',\r\n\t\t'plainpaste', 'wordpaste', '|', 'justifyleft', 'justifycenter', 'justifyright',\r\n\t\t'justifyfull', 'insertorderedlist', 'insertunorderedlist', 'indent', 'outdent', 'subscript',\r\n\t\t'superscript', 'clearhtml', 'quickformat', 'selectall', '|', 'fullscreen', '/',\r\n\t\t'formatblock', 'fontname', 'fontsize', '|', 'forecolor', 'hilitecolor', 'bold',\r\n\t\t'italic', 'underline', 'strikethrough', 'lineheight', 'removeformat', '|', 'image', 'multiimage',\r\n\t\t'flash', 'media', 'insertfile', 'table', 'hr', 'emoticons', 'baidumap', 'pagebreak',\r\n\t\t'anchor', 'link', 'unlink', '|', 'about'\r\n\t],\r\n\tnoDisableItems : ['source', 'fullscreen'],\r\n\tcolorTable : [\r\n\t\t['#E53333', '#E56600', '#FF9900', '#64451D', '#DFC5A4', '#FFE500'],\r\n\t\t['#009900', '#006600', '#99BB00', '#B8D100', '#60D978', '#00D5FF'],\r\n\t\t['#337FE5', '#003399', '#4C33E5', '#9933E5', '#CC33E5', '#EE33EE'],\r\n\t\t['#FFFFFF', '#CCCCCC', '#999999', '#666666', '#333333', '#000000']\r\n\t],\r\n\tfontSizeTable : ['9px', '10px', '12px', '14px', '16px', '18px', '24px', '32px'],\r\n\thtmlTags : {\r\n\t\tfont : ['id', 'class', 'color', 'size', 'face', '.background-color'],\r\n\t\tspan : [\r\n\t\t\t'id', 'class', '.color', '.background-color', '.font-size', '.font-family', '.background',\r\n\t\t\t'.font-weight', '.font-style', '.text-decoration', '.vertical-align', '.line-height'\r\n\t\t],\r\n\t\tdiv : [\r\n\t\t\t'id', 'class', 'align', '.border', '.margin', '.padding', '.text-align', '.color',\r\n\t\t\t'.background-color', '.font-size', '.font-family', '.font-weight', '.background',\r\n\t\t\t'.font-style', '.text-decoration', '.vertical-align', '.margin-left'\r\n\t\t],\r\n\t\ttable: [\r\n\t\t\t'id', 'class', 'border', 'cellspacing', 'cellpadding', 'width', 'height', 'align', 'bordercolor',\r\n\t\t\t'.padding', '.margin', '.border', 'bgcolor', '.text-align', '.color', '.background-color',\r\n\t\t\t'.font-size', '.font-family', '.font-weight', '.font-style', '.text-decoration', '.background',\r\n\t\t\t'.width', '.height', '.border-collapse'\r\n\t\t],\r\n\t\t'td,th': [\r\n\t\t\t'id', 'class', 'align', 'valign', 'width', 'height', 'colspan', 'rowspan', 'bgcolor',\r\n\t\t\t'.text-align', '.color', '.background-color', '.font-size', '.font-family', '.font-weight',\r\n\t\t\t'.font-style', '.text-decoration', '.vertical-align', '.background', '.border'\r\n\t\t],\r\n\t\ta : ['id', 'class', 'href', 'target', 'name'],\r\n\t\tembed : ['id', 'class', 'src', 'width', 'height', 'type', 'loop', 'autostart', 'quality', '.width', '.height', 'align', 'allowscriptaccess', 'wmode'],\r\n\t\timg : ['id', 'class', 'src', 'width', 'height', 'border', 'alt', 'title', 'align', '.width', '.height', '.border'],\r\n\t\t'p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6' : [\r\n\t\t\t'id', 'class', 'align', '.text-align', '.color', '.background-color', '.font-size', '.font-family', '.background',\r\n\t\t\t'.font-weight', '.font-style', '.text-decoration', '.vertical-align', '.text-indent', '.margin-left'\r\n\t\t],\r\n\t\tpre : ['id', 'class'],\r\n\t\thr : ['id', 'class', '.page-break-after'],\r\n\t\t'br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del' : ['id', 'class'],\r\n\t\tiframe : ['id', 'class', 'src', 'frameborder', 'width', 'height', '.width', '.height']\r\n\t},\r\n\tlayout : '<div class=\"container\"><div class=\"toolbar\"></div><div class=\"edit\"></div><div class=\"statusbar\"></div></div>'\r\n};\r\n\n\r\nvar _useCapture = false;\r\n\r\r\nvar _INPUT_KEY_MAP = _toMap('8,9,13,32,46,48..57,59,61,65..90,106,109..111,188,190..192,219..222');\r\r\nvar _CURSORMOVE_KEY_MAP = _toMap('33..40');\r\r\nvar _CHANGE_KEY_MAP = {};\r\n_each(_INPUT_KEY_MAP, function(key, val) {\r\n\t_CHANGE_KEY_MAP[key] = val;\r\n});\r\n_each(_CURSORMOVE_KEY_MAP, function(key, val) {\r\n\t_CHANGE_KEY_MAP[key] = val;\r\n});\r\n\r\r\nfunction _bindEvent(el, type, fn) {\r\n\tif (el.addEventListener){\r\n\t\tel.addEventListener(type, fn, _useCapture);\r\n\t} else if (el.attachEvent){\r\n\t\tel.attachEvent('on' + type, fn);\r\n\t}\r\n}\r\r\nfunction _unbindEvent(el, type, fn) {\r\n\tif (el.removeEventListener){\r\n\t\tel.removeEventListener(type, fn, _useCapture);\r\n\t} else if (el.detachEvent){\r\n\t\tel.detachEvent('on' + type, fn);\r\n\t}\r\n}\r\nvar _EVENT_PROPS = ('altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,' +\r\n\t'data,detail,eventPhase,fromElement,handler,keyCode,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,' +\r\n\t'pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which').split(',');\r\n\r\r\nfunction KEvent(el, event) {\r\n\tthis.init(el, event);\r\n}\r\n_extend(KEvent, {\r\n\tinit : function(el, event) {\r\n\t\tvar self = this, doc = el.ownerDocument || el.document || el;\r\n\t\tself.event = event;\r\n\t\t_each(_EVENT_PROPS, function(key, val) {\r\n\t\t\tself[val] = event[val];\r\n\t\t});\r\n\t\tif (!self.target) {\r\n\t\t\tself.target = self.srcElement || doc;\r\n\t\t}\r\n\t\tif (self.target.nodeType === 3) {\r\n\t\t\tself.target = self.target.parentNode;\r\n\t\t}\r\n\t\tif (!self.relatedTarget && self.fromElement) {\r\n\t\t\tself.relatedTarget = self.fromElement === self.target ? self.toElement : self.fromElement;\r\n\t\t}\r\n\t\tif (self.pageX == null && self.clientX != null) {\r\n\t\t\tvar d = doc.documentElement, body = doc.body;\r\n\t\t\tself.pageX = self.clientX + (d && d.scrollLeft || body && body.scrollLeft || 0) - (d && d.clientLeft || body && body.clientLeft || 0);\r\n\t\t\tself.pageY = self.clientY + (d && d.scrollTop  || body && body.scrollTop  || 0) - (d && d.clientTop  || body && body.clientTop  || 0);\r\n\t\t}\r\n\t\tif (!self.which && ((self.charCode || self.charCode === 0) ? self.charCode : self.keyCode)) {\r\n\t\t\tself.which = self.charCode || self.keyCode;\r\n\t\t}\r\n\t\tif (!self.metaKey && self.ctrlKey) {\r\n\t\t\tself.metaKey = self.ctrlKey;\r\n\t\t}\r\n\t\tif (!self.which && self.button !== undefined) {\r\n\t\t\tself.which = (self.button & 1 ? 1 : (self.button & 2 ? 3 : (self.button & 4 ? 2 : 0)));\r\n\t\t}\r\n\t\tswitch (self.which) {\r\n\t\tcase 186 :\r\n\t\t\tself.which = 59;\r\n\t\t\tbreak;\r\n\t\tcase 187 :\r\n\t\tcase 107 :\r\n\t\tcase 43 :\r\n\t\t\tself.which = 61;\r\n\t\t\tbreak;\r\n\t\tcase 189 :\r\n\t\tcase 45 :\r\n\t\t\tself.which = 109;\r\n\t\t\tbreak;\r\n\t\tcase 42 :\r\n\t\t\tself.which = 106;\r\n\t\t\tbreak;\r\n\t\tcase 47 :\r\n\t\t\tself.which = 111;\r\n\t\t\tbreak;\r\n\t\tcase 78 :\r\n\t\t\tself.which = 110;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tif (self.which >= 96 && self.which <= 105) {\r\n\t\t\tself.which -= 48;\r\n\t\t}\r\n\t},\r\n\tpreventDefault : function() {\r\n\t\tvar ev = this.event;\r\n\t\tif (ev.preventDefault) {\r\n\t\t\tev.preventDefault();\r\n\t\t} else {\r\n\t\t\tev.returnValue = false;\r\n\t\t}\r\n\t},\r\n\tstopPropagation : function() {\r\n\t\tvar ev = this.event;\r\n\t\tif (ev.stopPropagation) {\r\n\t\t\tev.stopPropagation();\r\n\t\t} else {\r\n\t\t\tev.cancelBubble = true;\r\n\t\t}\r\n\t},\r\n\tstop : function() {\r\n\t\tthis.preventDefault();\r\n\t\tthis.stopPropagation();\r\n\t}\r\n});\r\nvar _eventExpendo = 'kindeditor_' + _TIME, _eventId = 0, _eventData = {};\r\nfunction _getId(el) {\r\n\treturn el[_eventExpendo] || null;\r\n}\r\nfunction _setId(el) {\r\n\tel[_eventExpendo] = ++_eventId;\r\n\treturn _eventId;\r\n}\r\nfunction _removeId(el) {\r\n\ttry {\r\n\t\tdelete el[_eventExpendo];\r\n\t} catch(e) {\r\n\t\tif (el.removeAttribute) {\r\n\t\t\tel.removeAttribute(_eventExpendo);\r\n\t\t}\r\n\t}\r\n}\r\nfunction _bind(el, type, fn) {\r\n\tif (type.indexOf(',') >= 0) {\r\n\t\t_each(type.split(','), function() {\r\n\t\t\t_bind(el, this, fn);\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\tvar id = _getId(el);\r\n\tif (!id) {\r\n\t\tid = _setId(el);\r\n\t}\r\n\tif (_eventData[id] === undefined) {\r\n\t\t_eventData[id] = {};\r\n\t}\r\n\tvar events = _eventData[id][type];\r\n\tif (events && events.length > 0) {\r\n\t\t_unbindEvent(el, type, events[0]);\r\n\t} else {\r\n\t\t_eventData[id][type] = [];\r\n\t\t_eventData[id].el = el;\r\n\t}\r\n\tevents = _eventData[id][type];\r\n\tif (events.length === 0) {\r\n\t\tevents[0] = function(e) {\r\n\t\t\tvar kevent = e ? new KEvent(el, e) : undefined;\r\n\t\t\t_each(events, function(i, event) {\r\n\t\t\t\tif (i > 0 && event) {\r\n\t\t\t\t\tevent.call(el, kevent);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\t}\r\n\tif (_inArray(fn, events) < 0) {\r\n\t\tevents.push(fn);\r\n\t}\r\n\t_bindEvent(el, type, events[0]);\r\n}\r\nfunction _unbind(el, type, fn) {\r\n\tif (type && type.indexOf(',') >= 0) {\r\n\t\t_each(type.split(','), function() {\r\n\t\t\t_unbind(el, this, fn);\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\tvar id = _getId(el);\r\n\tif (!id) {\r\n\t\treturn;\r\n\t}\r\n\tif (type === undefined) {\r\n\t\tif (id in _eventData) {\r\n\t\t\t_each(_eventData[id], function(key, events) {\r\n\t\t\t\tif (key != 'el' && events.length > 0) {\r\n\t\t\t\t\t_unbindEvent(el, key, events[0]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tdelete _eventData[id];\r\n\t\t\t_removeId(el);\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\tif (!_eventData[id]) {\r\n\t\treturn;\r\n\t}\r\n\tvar events = _eventData[id][type];\r\n\tif (events && events.length > 0) {\r\n\t\tif (fn === undefined) {\r\n\t\t\t_unbindEvent(el, type, events[0]);\r\n\t\t\tdelete _eventData[id][type];\r\n\t\t} else {\r\n\t\t\t_each(events, function(i, event) {\r\n\t\t\t\tif (i > 0 && event === fn) {\r\n\t\t\t\t\tevents.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (events.length == 1) {\r\n\t\t\t\t_unbindEvent(el, type, events[0]);\r\n\t\t\t\tdelete _eventData[id][type];\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar count = 0;\r\n\t\t_each(_eventData[id], function() {\r\n\t\t\tcount++;\r\n\t\t});\r\n\t\tif (count < 2) {\r\n\t\t\tdelete _eventData[id];\r\n\t\t\t_removeId(el);\r\n\t\t}\r\n\t}\r\n}\r\nfunction _fire(el, type) {\r\n\tif (type.indexOf(',') >= 0) {\r\n\t\t_each(type.split(','), function() {\r\n\t\t\t_fire(el, this);\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\tvar id = _getId(el);\r\n\tif (!id) {\r\n\t\treturn;\r\n\t}\r\n\tvar events = _eventData[id][type];\r\n\tif (_eventData[id] && events && events.length > 0) {\r\n\t\tevents[0]();\r\n\t}\r\n}\r\nfunction _ctrl(el, key, fn) {\r\n\tvar self = this;\r\n\tkey = /^\\d{2,}$/.test(key) ? key : key.toUpperCase().charCodeAt(0);\r\n\t_bind(el, 'keydown', function(e) {\r\n\t\tif (e.ctrlKey && e.which == key && !e.shiftKey && !e.altKey) {\r\n\t\t\tfn.call(el);\r\n\t\t\te.stop();\r\n\t\t}\r\n\t});\r\n}\r\nvar _readyFinished = false;\r\nfunction _ready(fn) {\r\n\tif (_readyFinished) {\r\n\t\tfn(KindEditor);\r\n\t\treturn;\r\n\t}\r\n\tvar loaded = false;\r\n\tfunction readyFunc() {\r\n\t\tif (!loaded) {\r\n\t\t\tloaded = true;\r\n\t\t\tfn(KindEditor);\r\n\t\t\t_readyFinished = true;\r\n\t\t}\r\n\t}\r\n\tfunction ieReadyFunc() {\r\n\t\tif (!loaded) {\r\n\t\t\ttry {\r\n\t\t\t\tdocument.documentElement.doScroll('left');\r\n\t\t\t} catch(e) {\r\n\t\t\t\tsetTimeout(ieReadyFunc, 100);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\treadyFunc();\r\n\t\t}\r\n\t}\r\n\tfunction ieReadyStateFunc() {\r\n\t\tif (document.readyState === 'complete') {\r\n\t\t\treadyFunc();\r\n\t\t}\r\n\t}\r\n\tif (document.addEventListener) {\r\n\t\t_bind(document, 'DOMContentLoaded', readyFunc);\r\n\t} else if (document.attachEvent) {\r\n\t\t_bind(document, 'readystatechange', ieReadyStateFunc);\r\n\t\tvar toplevel = false;\r\n\t\ttry {\r\n\t\t\ttoplevel = window.frameElement == null;\r\n\t\t} catch(e) {}\r\n\t\tif (document.documentElement.doScroll && toplevel) {\r\n\t\t\tieReadyFunc();\r\n\t\t}\r\n\t}\r\n\t_bind(window, 'load', readyFunc);\r\n}\r\nif (window.attachEvent) {\r\n\twindow.attachEvent('onunload', function() {\r\n\t\t_each(_eventData, function(key, events) {\r\n\t\t\tif (events.el) {\r\n\t\t\t\t_unbind(events.el);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\nK.ctrl = _ctrl;\r\nK.ready = _ready;\r\n\nfunction _getCssList(css) {\r\n\tvar list = {},\r\n\t\treg = /\\s*([\\w\\-]+)\\s*:([^;]*)(;|$)/g,\r\n\t\tmatch;\r\n\twhile ((match = reg.exec(css))) {\r\n\t\tvar key = _trim(match[1].toLowerCase()),\r\n\t\t\tval = _trim(_toHex(match[2]));\r\n\t\tlist[key] = val;\r\n\t}\r\n\treturn list;\r\n}\r\nfunction _getAttrList(tag) {\r\n\tvar list = {},\r\n\t\treg = /\\s+(?:([\\w\\-:]+)|(?:([\\w\\-:]+)=([^\\s\"'<>]+))|(?:([\\w\\-:\"]+)=\"([^\"]*)\")|(?:([\\w\\-:\"]+)='([^']*)'))(?=(?:\\s|\\/|>)+)/g,\r\n\t\tmatch;\r\n\twhile ((match = reg.exec(tag))) {\r\n\t\tvar key = (match[1] || match[2] || match[4] || match[6]).toLowerCase(),\r\n\t\t\tval = (match[2] ? match[3] : (match[4] ? match[5] : match[7])) || '';\r\n\t\tlist[key] = val;\r\n\t}\r\n\treturn list;\r\n}\r\nfunction _addClassToTag(tag, className) {\r\n\tif (/\\s+class\\s*=/.test(tag)) {\r\n\t\ttag = tag.replace(/(\\s+class=[\"']?)([^\"']*)([\"']?[\\s>])/, function($0, $1, $2, $3) {\r\n\t\t\tif ((' ' + $2 + ' ').indexOf(' ' + className + ' ') < 0) {\r\n\t\t\t\treturn $2 === '' ? $1 + className + $3 : $1 + $2 + ' ' + className + $3;\r\n\t\t\t} else {\r\n\t\t\t\treturn $0;\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n\t\ttag = tag.substr(0, tag.length - 1) + ' class=\"' + className + '\">';\r\n\t}\r\n\treturn tag;\r\n}\r\nfunction _formatCss(css) {\r\n\tvar str = '';\r\n\t_each(_getCssList(css), function(key, val) {\r\n\t\tstr += key + ':' + val + ';';\r\n\t});\r\n\treturn str;\r\n}\r\nfunction _formatUrl(url, mode, host, pathname) {\r\n\tmode = _undef(mode, '').toLowerCase();\r\n\tif (url.substr(0, 5) != 'data:') {\r\n\t\turl = url.replace(/([^:])\\/\\//g, '$1/');\r\n\t}\r\n\tif (_inArray(mode, ['absolute', 'relative', 'domain']) < 0) {\r\n\t\treturn url;\r\n\t}\r\n\thost = host || location.protocol + '//' + location.host;\r\n\tif (pathname === undefined) {\r\n\t\tvar m = location.pathname.match(/^(\\/.*)\\//);\r\n\t\tpathname = m ? m[1] : '';\r\n\t}\r\n\tvar match;\r\n\tif ((match = /^(\\w+:\\/\\/[^\\/]*)/.exec(url))) {\r\n\t\tif (match[1] !== host) {\r\n\t\t\treturn url;\r\n\t\t}\r\n\t} else if (/^\\w+:/.test(url)) {\r\n\t\treturn url;\r\n\t}\r\n\tfunction getRealPath(path) {\r\n\t\tvar parts = path.split('/'), paths = [];\r\n\t\tfor (var i = 0, len = parts.length; i < len; i++) {\r\n\t\t\tvar part = parts[i];\r\n\t\t\tif (part == '..') {\r\n\t\t\t\tif (paths.length > 0) {\r\n\t\t\t\t\tpaths.pop();\r\n\t\t\t\t}\r\n\t\t\t} else if (part !== '' && part != '.') {\r\n\t\t\t\tpaths.push(part);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn '/' + paths.join('/');\r\n\t}\r\n\tif (/^\\//.test(url)) {\r\n\t\turl = host + getRealPath(url.substr(1));\r\n\t} else if (!/^\\w+:\\/\\//.test(url)) {\r\n\t\turl = host + getRealPath(pathname + '/' + url);\r\n\t}\r\n\tfunction getRelativePath(path, depth) {\r\n\t\tif (url.substr(0, path.length) === path) {\r\n\t\t\tvar arr = [];\r\n\t\t\tfor (var i = 0; i < depth; i++) {\r\n\t\t\t\tarr.push('..');\r\n\t\t\t}\r\n\t\t\tvar prefix = '.';\r\n\t\t\tif (arr.length > 0) {\r\n\t\t\t\tprefix += '/' + arr.join('/');\r\n\t\t\t}\r\n\t\t\tif (pathname == '/') {\r\n\t\t\t\tprefix += '/';\r\n\t\t\t}\r\n\t\t\treturn prefix + url.substr(path.length);\r\n\t\t} else {\r\n\t\t\tif ((match = /^(.*)\\//.exec(path))) {\r\n\t\t\t\treturn getRelativePath(match[1], ++depth);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (mode === 'relative') {\r\n\t\turl = getRelativePath(host + pathname, 0).substr(2);\r\n\t} else if (mode === 'absolute') {\r\n\t\tif (url.substr(0, host.length) === host) {\r\n\t\t\turl = url.substr(host.length);\r\n\t\t}\r\n\t}\r\n\treturn url;\r\n}\r\nfunction _formatHtml(html, htmlTags, urlType, wellFormatted, indentChar) {\r\n\tif (html == null) {\r\n\t\thtml = '';\r\n\t}\r\n\turlType = urlType || '';\r\n\twellFormatted = _undef(wellFormatted, false);\r\n\tindentChar = _undef(indentChar, '\\t');\r\n\tvar fontSizeList = 'xx-small,x-small,small,medium,large,x-large,xx-large'.split(',');\r\n\thtml = html.replace(/(<(?:pre|pre\\s[^>]*)>)([\\s\\S]*?)(<\\/pre>)/ig, function($0, $1, $2, $3) {\r\n\t\treturn $1 + $2.replace(/<(?:br|br\\s[^>]*)>/ig, '\\n') + $3;\r\n\t});\r\n\thtml = html.replace(/<(?:br|br\\s[^>]*)\\s*\\/?>\\s*<\\/p>/ig, '</p>');\r\n\thtml = html.replace(/(<(?:p|p\\s[^>]*)>)\\s*(<\\/p>)/ig, '$1<br />$2');\r\n\thtml = html.replace(/\\u200B/g, '');\r\n\thtml = html.replace(/\\u00A9/g, '&copy;');\r\n\thtml = html.replace(/\\u00AE/g, '&reg;');\r\n\thtml = html.replace(/\\u2003/g, '&emsp;');\r\n\thtml = html.replace(/\\u3000/g, '&emsp;');\r\n\thtml = html.replace(/<[^>]+/g, function($0) {\r\n\t\treturn $0.replace(/\\s+/g, ' ');\r\n\t});\r\n\tvar htmlTagMap = {};\r\n\tif (htmlTags) {\r\n\t\t_each(htmlTags, function(key, val) {\r\n\t\t\tvar arr = key.split(',');\r\n\t\t\tfor (var i = 0, len = arr.length; i < len; i++) {\r\n\t\t\t\thtmlTagMap[arr[i]] = _toMap(val);\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (!htmlTagMap.script) {\r\n\t\t\thtml = html.replace(/(<(?:script|script\\s[^>]*)>)([\\s\\S]*?)(<\\/script>)/ig, '');\r\n\t\t}\r\n\t\tif (!htmlTagMap.style) {\r\n\t\t\thtml = html.replace(/(<(?:style|style\\s[^>]*)>)([\\s\\S]*?)(<\\/style>)/ig, '');\r\n\t\t}\r\n\t}\r\n\tvar re = /(\\s*)<(\\/)?([\\w\\-:]+)((?:\\s+|(?:\\s+[\\w\\-:]+)|(?:\\s+[\\w\\-:]+=[^\\s\"'<>]+)|(?:\\s+[\\w\\-:\"]+=\"[^\"]*\")|(?:\\s+[\\w\\-:\"]+='[^']*'))*)(\\/)?>(\\s*)/g;\r\n\tvar tagStack = [];\r\n\thtml = html.replace(re, function($0, $1, $2, $3, $4, $5, $6) {\r\n\t\tvar full = $0,\r\n\t\t\tstartNewline = $1 || '',\r\n\t\t\tstartSlash = $2 || '',\r\n\t\t\ttagName = $3.toLowerCase(),\r\n\t\t\tattr = $4 || '',\r\n\t\t\tendSlash = $5 ? ' ' + $5 : '',\r\n\t\t\tendNewline = $6 || '';\r\n\t\tif (htmlTags && !htmlTagMap[tagName]) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\tif (endSlash === '' && _SINGLE_TAG_MAP[tagName]) {\r\n\t\t\tendSlash = ' /';\r\n\t\t}\r\n\t\tif (_INLINE_TAG_MAP[tagName]) {\r\n\t\t\tif (startNewline) {\r\n\t\t\t\tstartNewline = ' ';\r\n\t\t\t}\r\n\t\t\tif (endNewline) {\r\n\t\t\t\tendNewline = ' ';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (_PRE_TAG_MAP[tagName]) {\r\n\t\t\tif (startSlash) {\r\n\t\t\t\tendNewline = '\\n';\r\n\t\t\t} else {\r\n\t\t\t\tstartNewline = '\\n';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (wellFormatted && tagName == 'br') {\r\n\t\t\tendNewline = '\\n';\r\n\t\t}\r\n\t\tif (_BLOCK_TAG_MAP[tagName] && !_PRE_TAG_MAP[tagName]) {\r\n\t\t\tif (wellFormatted) {\r\n\t\t\t\tif (startSlash && tagStack.length > 0 && tagStack[tagStack.length - 1] === tagName) {\r\n\t\t\t\t\ttagStack.pop();\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttagStack.push(tagName);\r\n\t\t\t\t}\r\n\t\t\t\tstartNewline = '\\n';\r\n\t\t\t\tendNewline = '\\n';\r\n\t\t\t\tfor (var i = 0, len = startSlash ? tagStack.length : tagStack.length - 1; i < len; i++) {\r\n\t\t\t\t\tstartNewline += indentChar;\r\n\t\t\t\t\tif (!startSlash) {\r\n\t\t\t\t\t\tendNewline += indentChar;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (endSlash) {\r\n\t\t\t\t\ttagStack.pop();\r\n\t\t\t\t} else if (!startSlash) {\r\n\t\t\t\t\tendNewline += indentChar;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tstartNewline = endNewline = '';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (attr !== '') {\r\n\t\t\tvar attrMap = _getAttrList(full);\r\n\t\t\tif (tagName === 'font') {\r\n\t\t\t\tvar fontStyleMap = {}, fontStyle = '';\r\n\t\t\t\t_each(attrMap, function(key, val) {\r\n\t\t\t\t\tif (key === 'color') {\r\n\t\t\t\t\t\tfontStyleMap.color = val;\r\n\t\t\t\t\t\tdelete attrMap[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (key === 'size') {\r\n\t\t\t\t\t\tfontStyleMap['font-size'] = fontSizeList[parseInt(val, 10) - 1] || '';\r\n\t\t\t\t\t\tdelete attrMap[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (key === 'face') {\r\n\t\t\t\t\t\tfontStyleMap['font-family'] = val;\r\n\t\t\t\t\t\tdelete attrMap[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (key === 'style') {\r\n\t\t\t\t\t\tfontStyle = val;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (fontStyle && !/;$/.test(fontStyle)) {\r\n\t\t\t\t\tfontStyle += ';';\r\n\t\t\t\t}\r\n\t\t\t\t_each(fontStyleMap, function(key, val) {\r\n\t\t\t\t\tif (val === '') {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (/\\s/.test(val)) {\r\n\t\t\t\t\t\tval = \"'\" + val + \"'\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfontStyle += key + ':' + val + ';';\r\n\t\t\t\t});\r\n\t\t\t\tattrMap.style = fontStyle;\r\n\t\t\t}\r\n\t\t\t_each(attrMap, function(key, val) {\r\n\t\t\t\tif (_FILL_ATTR_MAP[key]) {\r\n\t\t\t\t\tattrMap[key] = key;\r\n\t\t\t\t}\r\n\t\t\t\tif (_inArray(key, ['src', 'href']) >= 0) {\r\n\t\t\t\t\tattrMap[key] = _formatUrl(val, urlType);\r\n\t\t\t\t}\r\n\t\t\t\tif (htmlTags && key !== 'style' && !htmlTagMap[tagName]['*'] && !htmlTagMap[tagName][key] ||\r\n\t\t\t\t\ttagName === 'body' && key === 'contenteditable' ||\r\n\t\t\t\t\t/^kindeditor_\\d+$/.test(key)) {\r\n\t\t\t\t\tdelete attrMap[key];\r\n\t\t\t\t}\r\n\t\t\t\tif (key === 'style' && val !== '') {\r\n\t\t\t\t\tvar styleMap = _getCssList(val);\r\n\t\t\t\t\t_each(styleMap, function(k, v) {\r\n\t\t\t\t\t\tif (htmlTags && !htmlTagMap[tagName].style && !htmlTagMap[tagName]['.' + k]) {\r\n\t\t\t\t\t\t\tdelete styleMap[k];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar style = '';\r\n\t\t\t\t\t_each(styleMap, function(k, v) {\r\n\t\t\t\t\t\tstyle += k + ':' + v + ';';\r\n\t\t\t\t\t});\r\n\t\t\t\t\tattrMap.style = style;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tattr = '';\r\n\t\t\t_each(attrMap, function(key, val) {\r\n\t\t\t\tif (key === 'style' && val === '') {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tval = val.replace(/\"/g, '&quot;');\r\n\t\t\t\tattr += ' ' + key + '=\"' + val + '\"';\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (tagName === 'font') {\r\n\t\t\ttagName = 'span';\r\n\t\t}\r\n\t\treturn startNewline + '<' + startSlash + tagName + attr + endSlash + '>' + endNewline;\r\n\t});\r\n\thtml = html.replace(/(<(?:pre|pre\\s[^>]*)>)([\\s\\S]*?)(<\\/pre>)/ig, function($0, $1, $2, $3) {\r\n\t\treturn $1 + $2.replace(/\\n/g, '<span id=\"__kindeditor_pre_newline__\">\\n') + $3;\r\n\t});\r\n\thtml = html.replace(/\\n\\s*\\n/g, '\\n');\r\n\thtml = html.replace(/<span id=\"__kindeditor_pre_newline__\">\\n/g, '\\n');\r\n\treturn _trim(html);\r\n}\r\r\nfunction _clearMsWord(html, htmlTags) {\r\n\thtml = html.replace(/<meta[\\s\\S]*?>/ig, '')\r\n\t\t.replace(/<![\\s\\S]*?>/ig, '')\r\n\t\t.replace(/<style[^>]*>[\\s\\S]*?<\\/style>/ig, '')\r\n\t\t.replace(/<script[^>]*>[\\s\\S]*?<\\/script>/ig, '')\r\n\t\t.replace(/<w:[^>]+>[\\s\\S]*?<\\/w:[^>]+>/ig, '')\r\n\t\t.replace(/<o:[^>]+>[\\s\\S]*?<\\/o:[^>]+>/ig, '')\r\n\t\t.replace(/<xml>[\\s\\S]*?<\\/xml>/ig, '')\r\n\t\t.replace(/<(?:table|td)[^>]*>/ig, function(full) {\r\n\t\t\treturn full.replace(/border-bottom:([#\\w\\s]+)/ig, 'border:$1');\r\n\t\t});\r\n\treturn _formatHtml(html, htmlTags);\r\n}\r\r\nfunction _mediaType(src) {\r\n\tif (/\\.(rm|rmvb)(\\?|$)/i.test(src)) {\r\n\t\treturn 'audio/x-pn-realaudio-plugin';\r\n\t}\r\n\tif (/\\.(swf|flv)(\\?|$)/i.test(src)) {\r\n\t\treturn 'application/x-shockwave-flash';\r\n\t}\r\n\treturn 'video/x-ms-asf-plugin';\r\n}\r\r\nfunction _mediaClass(type) {\r\n\tif (/realaudio/i.test(type)) {\r\n\t\treturn 'ke-rm';\r\n\t}\r\n\tif (/flash/i.test(type)) {\r\n\t\treturn 'ke-flash';\r\n\t}\r\n\treturn 'ke-media';\r\n}\r\nfunction _mediaAttrs(srcTag) {\r\n\treturn _getAttrList(unescape(srcTag));\r\n}\r\nfunction _mediaEmbed(attrs) {\r\n\tvar html = '<embed ';\r\n\t_each(attrs, function(key, val) {\r\n\t\thtml += key + '=\"' + val + '\" ';\r\n\t});\r\n\thtml += '/>';\r\n\treturn html;\r\n}\r\nfunction _mediaImg(blankPath, attrs) {\r\n\tvar width = attrs.width,\r\n\t\theight = attrs.height,\r\n\t\ttype = attrs.type || _mediaType(attrs.src),\r\n\t\tsrcTag = _mediaEmbed(attrs),\r\n\t\tstyle = '';\r\n\tif (/\\D/.test(width)) {\r\n\t\tstyle += 'width:' + width + ';';\r\n\t} else if (width > 0) {\r\n\t\tstyle += 'width:' + width + 'px;';\r\n\t}\r\n\tif (/\\D/.test(height)) {\r\n\t\tstyle += 'height:' + height + ';';\r\n\t} else if (height > 0) {\r\n\t\tstyle += 'height:' + height + 'px;';\r\n\t}\r\n\tvar html = '<img class=\"' + _mediaClass(type) + '\" src=\"' + blankPath + '\" ';\r\n\tif (style !== '') {\r\n\t\thtml += 'style=\"' + style + '\" ';\r\n\t}\r\n\thtml += 'data-ke-tag=\"' + escape(srcTag) + '\" alt=\"\" />';\r\n\treturn html;\r\n}\r\n\r\r\r\r\nfunction _tmpl(str, data) {\r\n\tvar fn = new Function(\"obj\",\r\n\t\t\"var p=[],print=function(){p.push.apply(p,arguments);};\" +\r\n\t\t\"with(obj){p.push('\" +\r\n\t\tstr.replace(/[\\r\\t\\n]/g, \" \")\r\n\t\t\t.split(\"<%\").join(\"\\t\")\r\n\t\t\t.replace(/((^|%>)[^\\t]*)'/g, \"$1\\r\")\r\n\t\t\t.replace(/\\t=(.*?)%>/g, \"',$1,'\")\r\n\t\t\t.split(\"\\t\").join(\"');\")\r\n\t\t\t.split(\"%>\").join(\"p.push('\")\r\n\t\t\t.split(\"\\r\").join(\"\\\\'\") + \"');}return p.join('');\");\r\n\treturn data ? fn(data) : fn;\r\n}\r\nK.formatUrl = _formatUrl;\r\nK.formatHtml = _formatHtml;\r\nK.getCssList = _getCssList;\r\nK.getAttrList = _getAttrList;\r\nK.mediaType = _mediaType;\r\nK.mediaAttrs = _mediaAttrs;\r\nK.mediaEmbed = _mediaEmbed;\r\nK.mediaImg = _mediaImg;\r\nK.clearMsWord = _clearMsWord;\r\nK.tmpl = _tmpl;\r\n\n\r\nfunction _contains(nodeA, nodeB) {\r\n\tif (nodeA.nodeType == 9 && nodeB.nodeType != 9) {\r\n\t\treturn true;\r\n\t}\r\n\twhile ((nodeB = nodeB.parentNode)) {\r\n\t\tif (nodeB == nodeA) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\nvar _getSetAttrDiv = document.createElement('div');\r\n_getSetAttrDiv.setAttribute('className', 't');\r\nvar _GET_SET_ATTRIBUTE = _getSetAttrDiv.className !== 't';\r\nfunction _getAttr(el, key) {\r\n\tkey = key.toLowerCase();\r\n\tvar val = null;\r\n\tif (!_GET_SET_ATTRIBUTE && el.nodeName.toLowerCase() != 'script') {\r\n\t\tvar div = el.ownerDocument.createElement('div');\r\n\t\tdiv.appendChild(el.cloneNode(false));\r\n\t\tvar list = _getAttrList(_unescape(div.innerHTML));\r\n\t\tif (key in list) {\r\n\t\t\tval = list[key];\r\n\t\t}\r\n\t} else {\r\n\t\ttry {\r\n\t\t\tval = el.getAttribute(key, 2);\r\n\t\t} catch(e) {\r\n\t\t\tval = el.getAttribute(key, 1);\r\n\t\t}\r\n\t}\r\n\tif (key === 'style' && val !== null) {\r\n\t\tval = _formatCss(val);\r\n\t}\r\n\treturn val;\r\n}\r\nfunction _queryAll(expr, root) {\r\n\tvar exprList = expr.split(',');\r\n\tif (exprList.length > 1) {\r\n\t\tvar mergedResults = [];\r\n\t\t_each(exprList, function() {\r\n\t\t\t_each(_queryAll(this, root), function() {\r\n\t\t\t\tif (_inArray(this, mergedResults) < 0) {\r\n\t\t\t\t\tmergedResults.push(this);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\treturn mergedResults;\r\n\t}\r\n\troot = root || document;\r\n\tfunction escape(str) {\r\n\t\tif (typeof str != 'string') {\r\n\t\t\treturn str;\r\n\t\t}\r\n\t\treturn str.replace(/([^\\w\\-])/g, '\\\\$1');\r\n\t}\r\n\tfunction stripslashes(str) {\r\n\t\treturn str.replace(/\\\\/g, '');\r\n\t}\r\n\tfunction cmpTag(tagA, tagB) {\r\n\t\treturn tagA === '*' || tagA.toLowerCase() === escape(tagB.toLowerCase());\r\n\t}\r\n\tfunction byId(id, tag, root) {\r\n\t\tvar arr = [],\r\n\t\t\tdoc = root.ownerDocument || root,\r\n\t\t\tel = doc.getElementById(stripslashes(id));\r\n\t\tif (el) {\r\n\t\t\tif (cmpTag(tag, el.nodeName) && _contains(root, el)) {\r\n\t\t\t\tarr.push(el);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\tfunction byClass(className, tag, root) {\r\n\t\tvar doc = root.ownerDocument || root, arr = [], els, i, len, el;\r\n\t\tif (root.getElementsByClassName) {\r\n\t\t\tels = root.getElementsByClassName(stripslashes(className));\r\n\t\t\tfor (i = 0, len = els.length; i < len; i++) {\r\n\t\t\t\tel = els[i];\r\n\t\t\t\tif (cmpTag(tag, el.nodeName)) {\r\n\t\t\t\t\tarr.push(el);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (doc.querySelectorAll) {\r\n\t\t\tels = doc.querySelectorAll((root.nodeName !== '#document' ? root.nodeName + ' ' : '') + tag + '.' + className);\r\n\t\t\tfor (i = 0, len = els.length; i < len; i++) {\r\n\t\t\t\tel = els[i];\r\n\t\t\t\tif (_contains(root, el)) {\r\n\t\t\t\t\tarr.push(el);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tels = root.getElementsByTagName(tag);\r\n\t\t\tclassName = ' ' + className + ' ';\r\n\t\t\tfor (i = 0, len = els.length; i < len; i++) {\r\n\t\t\t\tel = els[i];\r\n\t\t\t\tif (el.nodeType == 1) {\r\n\t\t\t\t\tvar cls = el.className;\r\n\t\t\t\t\tif (cls && (' ' + cls + ' ').indexOf(className) > -1) {\r\n\t\t\t\t\t\tarr.push(el);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\tfunction byName(name, tag, root) {\r\n\t\tvar arr = [], doc = root.ownerDocument || root,\r\n\t\t\tels = doc.getElementsByName(stripslashes(name)), el;\r\n\t\tfor (var i = 0, len = els.length; i < len; i++) {\r\n\t\t\tel = els[i];\r\n\t\t\tif (cmpTag(tag, el.nodeName) && _contains(root, el)) {\r\n\t\t\t\tif (el.getAttribute('name') !== null) {\r\n\t\t\t\t\tarr.push(el);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\tfunction byAttr(key, val, tag, root) {\r\n\t\tvar arr = [], els = root.getElementsByTagName(tag), el;\r\n\t\tfor (var i = 0, len = els.length; i < len; i++) {\r\n\t\t\tel = els[i];\r\n\t\t\tif (el.nodeType == 1) {\r\n\t\t\t\tif (val === null) {\r\n\t\t\t\t\tif (_getAttr(el, key) !== null) {\r\n\t\t\t\t\t\tarr.push(el);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (val === escape(_getAttr(el, key))) {\r\n\t\t\t\t\t\tarr.push(el);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\tfunction select(expr, root) {\r\n\t\tvar arr = [], matches;\r\n\t\tmatches = /^((?:\\\\.|[^.#\\s\\[<>])+)/.exec(expr);\r\n\t\tvar tag = matches ? matches[1] : '*';\r\n\t\tif ((matches = /#((?:[\\w\\-]|\\\\.)+)$/.exec(expr))) {\r\n\t\t\tarr = byId(matches[1], tag, root);\r\n\t\t} else if ((matches = /\\.((?:[\\w\\-]|\\\\.)+)$/.exec(expr))) {\r\n\t\t\tarr = byClass(matches[1], tag, root);\r\n\t\t} else if ((matches = /\\[((?:[\\w\\-]|\\\\.)+)\\]/.exec(expr))) {\r\n\t\t\tarr = byAttr(matches[1].toLowerCase(), null, tag, root);\r\n\t\t} else if ((matches = /\\[((?:[\\w\\-]|\\\\.)+)\\s*=\\s*['\"]?((?:\\\\.|[^'\"]+)+)['\"]?\\]/.exec(expr))) {\r\n\t\t\tvar key = matches[1].toLowerCase(), val = matches[2];\r\n\t\t\tif (key === 'id') {\r\n\t\t\t\tarr = byId(val, tag, root);\r\n\t\t\t} else if (key === 'class') {\r\n\t\t\t\tarr = byClass(val, tag, root);\r\n\t\t\t} else if (key === 'name') {\r\n\t\t\t\tarr = byName(val, tag, root);\r\n\t\t\t} else {\r\n\t\t\t\tarr = byAttr(key, val, tag, root);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar els = root.getElementsByTagName(tag), el;\r\n\t\t\tfor (var i = 0, len = els.length; i < len; i++) {\r\n\t\t\t\tel = els[i];\r\n\t\t\t\tif (el.nodeType == 1) {\r\n\t\t\t\t\tarr.push(el);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\tvar parts = [], arr, re = /((?:\\\\.|[^\\s>])+|[\\s>])/g;\r\n\twhile ((arr = re.exec(expr))) {\r\n\t\tif (arr[1] !== ' ') {\r\n\t\t\tparts.push(arr[1]);\r\n\t\t}\r\n\t}\r\n\tvar results = [];\r\n\tif (parts.length == 1) {\r\n\t\treturn select(parts[0], root);\r\n\t}\r\n\tvar isChild = false, part, els, subResults, val, v, i, j, k, length, len, l;\r\n\tfor (i = 0, lenth = parts.length; i < lenth; i++) {\r\n\t\tpart = parts[i];\r\n\t\tif (part === '>') {\r\n\t\t\tisChild = true;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tif (i > 0) {\r\n\t\t\tels = [];\r\n\t\t\tfor (j = 0, len = results.length; j < len; j++) {\r\n\t\t\t\tval = results[j];\r\n\t\t\t\tsubResults = select(part, val);\r\n\t\t\t\tfor (k = 0, l = subResults.length; k < l; k++) {\r\n\t\t\t\t\tv = subResults[k];\r\n\t\t\t\t\tif (isChild) {\r\n\t\t\t\t\t\tif (val === v.parentNode) {\r\n\t\t\t\t\t\t\tels.push(v);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tels.push(v);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresults = els;\r\n\t\t} else {\r\n\t\t\tresults = select(part, root);\r\n\t\t}\r\n\t\tif (results.length === 0) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n\treturn results;\r\n}\r\nfunction _query(expr, root) {\r\n\tvar arr = _queryAll(expr, root);\r\n\treturn arr.length > 0 ? arr[0] : null;\r\n}\r\nK.query = _query;\r\nK.queryAll = _queryAll;\r\n\n\r\nfunction _get(val) {\r\n\treturn K(val)[0];\r\n}\r\nfunction _getDoc(node) {\r\n\tif (!node) {\r\n\t\treturn document;\r\n\t}\r\n\treturn node.ownerDocument || node.document || node;\r\n}\r\nfunction _getWin(node) {\r\n\tif (!node) {\r\n\t\treturn window;\r\n\t}\r\n\tvar doc = _getDoc(node);\r\n\treturn doc.parentWindow || doc.defaultView;\r\n}\r\nfunction _setHtml(el, html) {\r\n\tif (el.nodeType != 1) {\r\n\t\treturn;\r\n\t}\r\n\tvar doc = _getDoc(el);\r\n\ttry {\r\n\t\tel.innerHTML = '<img id=\"__kindeditor_temp_tag__\" width=\"0\" height=\"0\" style=\"display:none;\" />' + html;\r\n\t\tvar temp = doc.getElementById('__kindeditor_temp_tag__');\r\n\t\ttemp.parentNode.removeChild(temp);\r\n\t} catch(e) {\r\n\t\tK(el).empty();\r\n\t\tK('@' + html, doc).each(function() {\r\n\t\t\tel.appendChild(this);\r\n\t\t});\r\n\t}\r\n}\r\nfunction _hasClass(el, cls) {\r\n\treturn _inString(cls, el.className, ' ');\r\n}\r\nfunction _setAttr(el, key, val) {\r\n\tif (_IE && _V < 8 && key.toLowerCase() == 'class') {\r\n\t\tkey = 'className';\r\n\t}\r\n\tel.setAttribute(key, '' + val);\r\n}\r\nfunction _removeAttr(el, key) {\r\n\tif (_IE && _V < 8 && key.toLowerCase() == 'class') {\r\n\t\tkey = 'className';\r\n\t}\r\n\t_setAttr(el, key, '');\r\n\tel.removeAttribute(key);\r\n}\r\nfunction _getNodeName(node) {\r\n\tif (!node || !node.nodeName) {\r\n\t\treturn '';\r\n\t}\r\n\treturn node.nodeName.toLowerCase();\r\n}\r\nfunction _computedCss(el, key) {\r\n\tvar self = this, win = _getWin(el), camelKey = _toCamel(key), val = '';\r\n\tif (win.getComputedStyle) {\r\n\t\tvar style = win.getComputedStyle(el, null);\r\n\t\tval = style[camelKey] || style.getPropertyValue(key) || el.style[camelKey];\r\n\t} else if (el.currentStyle) {\r\n\t\tval = el.currentStyle[camelKey] || el.style[camelKey];\r\n\t}\r\n\treturn val;\r\n}\r\nfunction _hasVal(node) {\r\n\treturn !!_VALUE_TAG_MAP[_getNodeName(node)];\r\n}\r\nfunction _docElement(doc) {\r\n\tdoc = doc || document;\r\n\treturn _QUIRKS ? doc.body : doc.documentElement;\r\n}\r\nfunction _docHeight(doc) {\r\n\tvar el = _docElement(doc);\r\n\treturn Math.max(el.scrollHeight, el.clientHeight);\r\n}\r\nfunction _docWidth(doc) {\r\n\tvar el = _docElement(doc);\r\n\treturn Math.max(el.scrollWidth, el.clientWidth);\r\n}\r\nfunction _getScrollPos(doc) {\r\n\tdoc = doc || document;\r\n\tvar x, y;\r\n\tif (_IE || _NEWIE || _OPERA) {\r\n\t\tx = _docElement(doc).scrollLeft;\r\n\t\ty = _docElement(doc).scrollTop;\r\n\t} else {\r\n\t\tx = _getWin(doc).scrollX;\r\n\t\ty = _getWin(doc).scrollY;\r\n\t}\r\n\treturn {x : x, y : y};\r\n}\r\n\r\r\nfunction KNode(node) {\r\n\tthis.init(node);\r\n}\r\n_extend(KNode, {\r\n\tinit : function(node) {\r\n\t\tvar self = this;\r\n\t\tnode = _isArray(node) ? node : [node];\r\n\t\tvar length = 0;\r\n\t\tfor (var i = 0, len = node.length; i < len; i++) {\r\n\t\t\tif (node[i]) {\r\n\t\t\t\tself[i] = node[i].constructor === KNode ? node[i][0] : node[i];\r\n\t\t\t\tlength++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tself.length = length;\r\n\t\tself.doc = _getDoc(self[0]);\r\n\t\tself.name = _getNodeName(self[0]);\r\n\t\tself.type = self.length > 0 ? self[0].nodeType : null;\r\n\t\tself.win = _getWin(self[0]);\r\n\t},\r\n\teach : function(fn) {\r\n\t\tvar self = this;\r\n\t\tfor (var i = 0; i < self.length; i++) {\r\n\t\t\tif (fn.call(self[i], i, self[i]) === false) {\r\n\t\t\t\treturn self;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn self;\r\n\t},\r\n\tbind : function(type, fn) {\r\n\t\tthis.each(function() {\r\n\t\t\t_bind(this, type, fn);\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\tunbind : function(type, fn) {\r\n\t\tthis.each(function() {\r\n\t\t\t_unbind(this, type, fn);\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\tfire : function(type) {\r\n\t\tif (this.length < 1) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t_fire(this[0], type);\r\n\t\treturn this;\r\n\t},\r\n\thasAttr : function(key) {\r\n\t\tif (this.length < 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn !!_getAttr(this[0], key);\r\n\t},\r\n\tattr : function(key, val) {\r\n\t\tvar self = this;\r\n\t\tif (key === undefined) {\r\n\t\t\treturn _getAttrList(self.outer());\r\n\t\t}\r\n\t\tif (typeof key === 'object') {\r\n\t\t\t_each(key, function(k, v) {\r\n\t\t\t\tself.attr(k, v);\r\n\t\t\t});\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\tif (val === undefined) {\r\n\t\t\tval = self.length < 1 ? null : _getAttr(self[0], key);\r\n\t\t\treturn val === null ? '' : val;\r\n\t\t}\r\n\t\tself.each(function() {\r\n\t\t\t_setAttr(this, key, val);\r\n\t\t});\r\n\t\treturn self;\r\n\t},\r\n\tremoveAttr : function(key) {\r\n\t\tthis.each(function() {\r\n\t\t\t_removeAttr(this, key);\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\tget : function(i) {\r\n\t\tif (this.length < 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this[i || 0];\r\n\t},\r\n\teq : function(i) {\r\n\t\tif (this.length < 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this[i] ? new KNode(this[i]) : null;\r\n\t},\r\n\thasClass : function(cls) {\r\n\t\tif (this.length < 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn _hasClass(this[0], cls);\r\n\t},\r\n\taddClass : function(cls) {\r\n\t\tthis.each(function() {\r\n\t\t\tif (!_hasClass(this, cls)) {\r\n\t\t\t\tthis.className = _trim(this.className + ' ' + cls);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\tremoveClass : function(cls) {\r\n\t\tthis.each(function() {\r\n\t\t\tif (_hasClass(this, cls)) {\r\n\t\t\t\tthis.className = _trim(this.className.replace(new RegExp('(^|\\\\s)' + cls + '(\\\\s|$)'), ' '));\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\thtml : function(val) {\r\n\t\tvar self = this;\r\n\t\tif (val === undefined) {\r\n\t\t\tif (self.length < 1 || self.type != 1) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\treturn _formatHtml(self[0].innerHTML);\r\n\t\t}\r\n\t\tself.each(function() {\r\n\t\t\t_setHtml(this, val);\r\n\t\t});\r\n\t\treturn self;\r\n\t},\r\n\ttext : function() {\r\n\t\tvar self = this;\r\n\t\tif (self.length < 1) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\treturn _IE ? self[0].innerText : self[0].textContent;\r\n\t},\r\n\thasVal : function() {\r\n\t\tif (this.length < 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn _hasVal(this[0]);\r\n\t},\r\n\tval : function(val) {\r\n\t\tvar self = this;\r\n\t\tif (val === undefined) {\r\n\t\t\tif (self.length < 1) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\treturn self.hasVal() ? self[0].value : self.attr('value');\r\n\t\t} else {\r\n\t\t\tself.each(function() {\r\n\t\t\t\tif (_hasVal(this)) {\r\n\t\t\t\t\tthis.value = val;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_setAttr(this, 'value' , val);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn self;\r\n\t\t}\r\n\t},\r\n\tcss : function(key, val) {\r\n\t\tvar self = this;\r\n\t\tif (key === undefined) {\r\n\t\t\treturn _getCssList(self.attr('style'));\r\n\t\t}\r\n\t\tif (typeof key === 'object') {\r\n\t\t\t_each(key, function(k, v) {\r\n\t\t\t\tself.css(k, v);\r\n\t\t\t});\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\tif (val === undefined) {\r\n\t\t\tif (self.length < 1) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\treturn self[0].style[_toCamel(key)] || _computedCss(self[0], key) || '';\r\n\t\t}\r\n\t\tself.each(function() {\r\n\t\t\tthis.style[_toCamel(key)] = val;\r\n\t\t});\r\n\t\treturn self;\r\n\t},\r\n\twidth : function(val) {\r\n\t\tvar self = this;\r\n\t\tif (val === undefined) {\r\n\t\t\tif (self.length < 1) {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t\treturn self[0].offsetWidth;\r\n\t\t}\r\n\t\treturn self.css('width', _addUnit(val));\r\n\t},\r\n\theight : function(val) {\r\n\t\tvar self = this;\r\n\t\tif (val === undefined) {\r\n\t\t\tif (self.length < 1) {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t\treturn self[0].offsetHeight;\r\n\t\t}\r\n\t\treturn self.css('height', _addUnit(val));\r\n\t},\r\n\topacity : function(val) {\r\n\t\tthis.each(function() {\r\n\t\t\tif (this.style.opacity === undefined) {\r\n\t\t\t\tthis.style.filter = val == 1 ? '' : 'alpha(opacity=' + (val * 100) + ')';\r\n\t\t\t} else {\r\n\t\t\t\tthis.style.opacity = val == 1 ? '' : val;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\tdata : function(key, val) {\r\n\t\tvar self = this;\r\n\t\tkey = 'kindeditor_data_' + key;\r\n\t\tif (val === undefined) {\r\n\t\t\tif (self.length < 1) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn self[0][key];\r\n\t\t}\r\n\t\tthis.each(function() {\r\n\t\t\tthis[key] = val;\r\n\t\t});\r\n\t\treturn self;\r\n\t},\r\n\tpos : function() {\r\n\t\tvar self = this, node = self[0], x = 0, y = 0;\r\n\t\tif (node) {\r\n\t\t\tif (node.getBoundingClientRect) {\r\n\t\t\t\tvar box = node.getBoundingClientRect(),\r\n\t\t\t\t\tpos = _getScrollPos(self.doc);\r\n\t\t\t\tx = box.left + pos.x;\r\n\t\t\t\ty = box.top + pos.y;\r\n\t\t\t} else {\r\n\t\t\t\twhile (node) {\r\n\t\t\t\t\tx += node.offsetLeft;\r\n\t\t\t\t\ty += node.offsetTop;\r\n\t\t\t\t\tnode = node.offsetParent;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {x : _round(x), y : _round(y)};\r\n\t},\r\n\tclone : function(bool) {\r\n\t\tif (this.length < 1) {\r\n\t\t\treturn new KNode([]);\r\n\t\t}\r\n\t\treturn new KNode(this[0].cloneNode(bool));\r\n\t},\r\n\tappend : function(expr) {\r\n\t\tthis.each(function() {\r\n\t\t\tif (this.appendChild) {\r\n\t\t\t\tthis.appendChild(_get(expr));\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\tappendTo : function(expr) {\r\n\t\tthis.each(function() {\r\n\t\t\t_get(expr).appendChild(this);\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\tbefore : function(expr) {\r\n\t\tthis.each(function() {\r\n\t\t\tthis.parentNode.insertBefore(_get(expr), this);\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\tafter : function(expr) {\r\n\t\tthis.each(function() {\r\n\t\t\tif (this.nextSibling) {\r\n\t\t\t\tthis.parentNode.insertBefore(_get(expr), this.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\tthis.parentNode.appendChild(_get(expr));\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\treplaceWith : function(expr) {\r\n\t\tvar nodes = [];\r\n\t\tthis.each(function(i, node) {\r\n\t\t\t_unbind(node);\r\n\t\t\tvar newNode = _get(expr);\r\n\t\t\tnode.parentNode.replaceChild(newNode, node);\r\n\t\t\tnodes.push(newNode);\r\n\t\t});\r\n\t\treturn K(nodes);\r\n\t},\r\n\tempty : function() {\r\n\t\tvar self = this;\r\n\t\tself.each(function(i, node) {\r\n\t\t\tvar child = node.firstChild;\r\n\t\t\twhile (child) {\r\n\t\t\t\tif (!node.parentNode) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar next = child.nextSibling;\r\n\t\t\t\tchild.parentNode.removeChild(child);\r\n\t\t\t\tchild = next;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn self;\r\n\t},\r\n\tremove : function(keepChilds) {\r\n\t\tvar self = this;\r\n\t\tself.each(function(i, node) {\r\n\t\t\tif (!node.parentNode) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t_unbind(node);\r\n\t\t\tif (keepChilds) {\r\n\t\t\t\tvar child = node.firstChild;\r\n\t\t\t\twhile (child) {\r\n\t\t\t\t\tvar next = child.nextSibling;\r\n\t\t\t\t\tnode.parentNode.insertBefore(child, node);\r\n\t\t\t\t\tchild = next;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t\t\tdelete self[i];\r\n\t\t});\r\n\t\tself.length = 0;\r\n\t\treturn self;\r\n\t},\r\n\tshow : function(val) {\r\n\t\tvar self = this;\r\n\t\tif (val === undefined) {\r\n\t\t\tval = self._originDisplay || '';\r\n\t\t}\r\n\t\tif (self.css('display') != 'none') {\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\treturn self.css('display', val);\r\n\t},\r\n\thide : function() {\r\n\t\tvar self = this;\r\n\t\tif (self.length < 1) {\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\tself._originDisplay = self[0].style.display;\r\n\t\treturn self.css('display', 'none');\r\n\t},\r\n\touter : function() {\r\n\t\tvar self = this;\r\n\t\tif (self.length < 1) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\tvar div = self.doc.createElement('div'), html;\r\n\t\tdiv.appendChild(self[0].cloneNode(true));\r\n\t\thtml = _formatHtml(div.innerHTML);\r\n\t\tdiv = null;\r\n\t\treturn html;\r\n\t},\r\n\tisSingle : function() {\r\n\t\treturn !!_SINGLE_TAG_MAP[this.name];\r\n\t},\r\n\tisInline : function() {\r\n\t\treturn !!_INLINE_TAG_MAP[this.name];\r\n\t},\r\n\tisBlock : function() {\r\n\t\treturn !!_BLOCK_TAG_MAP[this.name];\r\n\t},\r\n\tisStyle : function() {\r\n\t\treturn !!_STYLE_TAG_MAP[this.name];\r\n\t},\r\n\tisControl : function() {\r\n\t\treturn !!_CONTROL_TAG_MAP[this.name];\r\n\t},\r\n\tcontains : function(otherNode) {\r\n\t\tif (this.length < 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn _contains(this[0], _get(otherNode));\r\n\t},\r\n\tparent : function() {\r\n\t\tif (this.length < 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar node = this[0].parentNode;\r\n\t\treturn node ? new KNode(node) : null;\r\n\t},\r\n\tchildren : function() {\r\n\t\tif (this.length < 1) {\r\n\t\t\treturn new KNode([]);\r\n\t\t}\r\n\t\tvar list = [], child = this[0].firstChild;\r\n\t\twhile (child) {\r\n\t\t\tif (child.nodeType != 3 || _trim(child.nodeValue) !== '') {\r\n\t\t\t\tlist.push(child);\r\n\t\t\t}\r\n\t\t\tchild = child.nextSibling;\r\n\t\t}\r\n\t\treturn new KNode(list);\r\n\t},\r\n\tfirst : function() {\r\n\t\tvar list = this.children();\r\n\t\treturn list.length > 0 ? list.eq(0) : null;\r\n\t},\r\n\tlast : function() {\r\n\t\tvar list = this.children();\r\n\t\treturn list.length > 0 ? list.eq(list.length - 1) : null;\r\n\t},\r\n\tindex : function() {\r\n\t\tif (this.length < 1) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\tvar i = -1, sibling = this[0];\r\n\t\twhile (sibling) {\r\n\t\t\ti++;\r\n\t\t\tsibling = sibling.previousSibling;\r\n\t\t}\r\n\t\treturn i;\r\n\t},\r\n\tprev : function() {\r\n\t\tif (this.length < 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar node = this[0].previousSibling;\r\n\t\treturn node ? new KNode(node) : null;\r\n\t},\r\n\tnext : function() {\r\n\t\tif (this.length < 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar node = this[0].nextSibling;\r\n\t\treturn node ? new KNode(node) : null;\r\n\t},\r\n\tscan : function(fn, order) {\r\n\t\tif (this.length < 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\torder = (order === undefined) ? true : order;\r\n\t\tfunction walk(node) {\r\n\t\t\tvar n = order ? node.firstChild : node.lastChild;\r\n\t\t\twhile (n) {\r\n\t\t\t\tvar next = order ? n.nextSibling : n.previousSibling;\r\n\t\t\t\tif (fn(n) === false) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (walk(n) === false) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tn = next;\r\n\t\t\t}\r\n\t\t}\r\n\t\twalk(this[0]);\r\n\t\treturn this;\r\n\t}\r\n});\r\n_each(('blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,' +\r\n\t'mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,' +\r\n\t'change,select,submit,keydown,keypress,keyup,error,contextmenu').split(','), function(i, type) {\r\n\tKNode.prototype[type] = function(fn) {\r\n\t\treturn fn ? this.bind(type, fn) : this.fire(type);\r\n\t};\r\n});\r\nvar _K = K;\r\nK = function(expr, root) {\r\n\tif (expr === undefined || expr === null) {\r\n\t\treturn;\r\n\t}\r\n\tfunction newNode(node) {\r\n\t\tif (!node[0]) {\r\n\t\t\tnode = [];\r\n\t\t}\r\n\t\treturn new KNode(node);\r\n\t}\r\n\tif (typeof expr === 'string') {\r\n\t\tif (root) {\r\n\t\t\troot = _get(root);\r\n\t\t}\r\n\t\tvar length = expr.length;\r\n\t\tif (expr.charAt(0) === '@') {\r\n\t\t\texpr = expr.substr(1);\r\n\t\t}\r\n\t\tif (expr.length !== length || /<.+>/.test(expr)) {\r\n\t\t\tvar doc = root ? root.ownerDocument || root : document,\r\n\t\t\t\tdiv = doc.createElement('div'), list = [];\r\n\t\t\tdiv.innerHTML = '<img id=\"__kindeditor_temp_tag__\" width=\"0\" height=\"0\" style=\"display:none;\" />' + expr;\r\n\t\t\tfor (var i = 0, len = div.childNodes.length; i < len; i++) {\r\n\t\t\t\tvar child = div.childNodes[i];\r\n\t\t\t\tif (child.id == '__kindeditor_temp_tag__') {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(child);\r\n\t\t\t}\r\n\t\t\treturn newNode(list);\r\n\t\t}\r\n\t\treturn newNode(_queryAll(expr, root));\r\n\t}\r\n\tif (expr && expr.constructor === KNode) {\r\n\t\treturn expr;\r\n\t}\r\n\tif (expr.toArray) {\r\n\t\texpr = expr.toArray();\r\n\t}\r\n\tif (_isArray(expr)) {\r\n\t\treturn newNode(expr);\r\n\t}\r\n\treturn newNode(_toArray(arguments));\r\n};\r\n_each(_K, function(key, val) {\r\n\tK[key] = val;\r\n});\r\nK.NodeClass = KNode;\r\nwindow.KindEditor = K;\r\n\n\r\nvar _START_TO_START = 0,\r\n\t_START_TO_END = 1,\r\n\t_END_TO_END = 2,\r\n\t_END_TO_START = 3,\r\n\t_BOOKMARK_ID = 0;\r\nfunction _updateCollapsed(range) {\r\n\trange.collapsed = (range.startContainer === range.endContainer && range.startOffset === range.endOffset);\r\n\treturn range;\r\n}\r\nfunction _copyAndDelete(range, isCopy, isDelete) {\r\n\tvar doc = range.doc, nodeList = [];\r\n\tfunction splitTextNode(node, startOffset, endOffset) {\r\n\t\tvar length = node.nodeValue.length, centerNode;\r\n\t\tif (isCopy) {\r\n\t\t\tvar cloneNode = node.cloneNode(true);\r\n\t\t\tif (startOffset > 0) {\r\n\t\t\t\tcenterNode = cloneNode.splitText(startOffset);\r\n\t\t\t} else {\r\n\t\t\t\tcenterNode = cloneNode;\r\n\t\t\t}\r\n\t\t\tif (endOffset < length) {\r\n\t\t\t\tcenterNode.splitText(endOffset - startOffset);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (isDelete) {\r\n\t\t\tvar center = node;\r\n\t\t\tif (startOffset > 0) {\r\n\t\t\t\tcenter = node.splitText(startOffset);\r\n\t\t\t\trange.setStart(node, startOffset);\r\n\t\t\t}\r\n\t\t\tif (endOffset < length) {\r\n\t\t\t\tvar right = center.splitText(endOffset - startOffset);\r\n\t\t\t\trange.setEnd(right, 0);\r\n\t\t\t}\r\n\t\t\tnodeList.push(center);\r\n\t\t}\r\n\t\treturn centerNode;\r\n\t}\r\n\tfunction removeNodes() {\r\n\t\tif (isDelete) {\r\n\t\t\trange.up().collapse(true);\r\n\t\t}\r\n\t\tfor (var i = 0, len = nodeList.length; i < len; i++) {\r\n\t\t\tvar node = nodeList[i];\r\n\t\t\tif (node.parentNode) {\r\n\t\t\t\tnode.parentNode.removeChild(node);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tvar copyRange = range.cloneRange().down();\r\n\tvar start = -1, incStart = -1, incEnd = -1, end = -1,\r\n\t\tancestor = range.commonAncestor(), frag = doc.createDocumentFragment();\r\n\tif (ancestor.nodeType == 3) {\r\n\t\tvar textNode = splitTextNode(ancestor, range.startOffset, range.endOffset);\r\n\t\tif (isCopy) {\r\n\t\t\tfrag.appendChild(textNode);\r\n\t\t}\r\n\t\tremoveNodes();\r\n\t\treturn isCopy ? frag : range;\r\n\t}\r\n\tfunction extractNodes(parent, frag) {\r\n\t\tvar node = parent.firstChild, nextNode;\r\n\t\twhile (node) {\r\n\t\t\tvar testRange = new KRange(doc).selectNode(node);\r\n\t\t\tstart = testRange.compareBoundaryPoints(_START_TO_END, range);\r\n\t\t\tif (start >= 0 && incStart <= 0) {\r\n\t\t\t\tincStart = testRange.compareBoundaryPoints(_START_TO_START, range);\r\n\t\t\t}\r\n\t\t\tif (incStart >= 0 && incEnd <= 0) {\r\n\t\t\t\tincEnd = testRange.compareBoundaryPoints(_END_TO_END, range);\r\n\t\t\t}\r\n\t\t\tif (incEnd >= 0 && end <= 0) {\r\n\t\t\t\tend = testRange.compareBoundaryPoints(_END_TO_START, range);\r\n\t\t\t}\r\n\t\t\tif (end >= 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tnextNode = node.nextSibling;\r\n\t\t\tif (start > 0) {\r\n\t\t\t\tif (node.nodeType == 1) {\r\n\t\t\t\t\tif (incStart >= 0 && incEnd <= 0) {\r\n\t\t\t\t\t\tif (isCopy) {\r\n\t\t\t\t\t\t\tfrag.appendChild(node.cloneNode(true));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (isDelete) {\r\n\t\t\t\t\t\t\tnodeList.push(node);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar childFlag;\r\n\t\t\t\t\t\tif (isCopy) {\r\n\t\t\t\t\t\t\tchildFlag = node.cloneNode(false);\r\n\t\t\t\t\t\t\tfrag.appendChild(childFlag);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (extractNodes(node, childFlag) === false) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (node.nodeType == 3) {\r\n\t\t\t\t\tvar textNode;\r\n\t\t\t\t\tif (node == copyRange.startContainer) {\r\n\t\t\t\t\t\ttextNode = splitTextNode(node, copyRange.startOffset, node.nodeValue.length);\r\n\t\t\t\t\t} else if (node == copyRange.endContainer) {\r\n\t\t\t\t\t\ttextNode = splitTextNode(node, 0, copyRange.endOffset);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttextNode = splitTextNode(node, 0, node.nodeValue.length);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (isCopy) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tfrag.appendChild(textNode);\r\n\t\t\t\t\t\t} catch(e) {}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tnode = nextNode;\r\n\t\t}\r\n\t}\r\n\textractNodes(ancestor, frag);\r\n\tif (isDelete) {\r\n\t\trange.up().collapse(true);\r\n\t}\r\n\tfor (var i = 0, len = nodeList.length; i < len; i++) {\r\n\t\tvar node = nodeList[i];\r\n\t\tif (node.parentNode) {\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t\t}\r\n\t}\r\n\treturn isCopy ? frag : range;\r\n}\r\r\nfunction _moveToElementText(range, el) {\r\n\tvar node = el;\r\n\twhile (node) {\r\n\t\tvar knode = K(node);\r\n\t\tif (knode.name == 'marquee' || knode.name == 'select') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tnode = node.parentNode;\r\n\t}\r\n\ttry {\r\n\t\trange.moveToElementText(el);\r\n\t} catch(e) {}\r\n}\r\r\nfunction _getStartEnd(rng, isStart) {\r\n\tvar doc = rng.parentElement().ownerDocument,\r\n\t\tpointRange = rng.duplicate();\r\n\tpointRange.collapse(isStart);\r\n\tvar parent = pointRange.parentElement(),\r\n\t\tnodes = parent.childNodes;\r\n\tif (nodes.length === 0) {\r\n\t\treturn {node: parent.parentNode, offset: K(parent).index()};\r\n\t}\r\n\tvar startNode = doc, startPos = 0, cmp = -1;\r\n\tvar testRange = rng.duplicate();\r\n\t_moveToElementText(testRange, parent);\r\n\tfor (var i = 0, len = nodes.length; i < len; i++) {\r\n\t\tvar node = nodes[i];\r\n\t\tcmp = testRange.compareEndPoints('StartToStart', pointRange);\r\n\t\tif (cmp === 0) {\r\n\t\t\treturn {node: node.parentNode, offset: i};\r\n\t\t}\r\n\t\tif (node.nodeType == 1) {\r\n\t\t\tvar nodeRange = rng.duplicate(), dummy, knode = K(node), newNode = node;\r\n\t\t\tif (knode.isControl()) {\r\n\t\t\t\tdummy = doc.createElement('span');\r\n\t\t\t\tknode.after(dummy);\r\n\t\t\t\tnewNode = dummy;\r\n\t\t\t\tstartPos += knode.text().replace(/\\r\\n|\\n|\\r/g, '').length;\r\n\t\t\t}\r\n\t\t\t_moveToElementText(nodeRange, newNode);\r\n\t\t\ttestRange.setEndPoint('StartToEnd', nodeRange);\r\n\t\t\tif (cmp > 0) {\r\n\t\t\t\tstartPos += nodeRange.text.replace(/\\r\\n|\\n|\\r/g, '').length;\r\n\t\t\t} else {\r\n\t\t\t\tstartPos = 0;\r\n\t\t\t}\r\n\t\t\tif (dummy) {\r\n\t\t\t\tK(dummy).remove();\r\n\t\t\t}\r\n\t\t} else if (node.nodeType == 3) {\r\n\t\t\ttestRange.moveStart('character', node.nodeValue.length);\r\n\t\t\tstartPos += node.nodeValue.length;\r\n\t\t}\r\n\t\tif (cmp < 0) {\r\n\t\t\tstartNode = node;\r\n\t\t}\r\n\t}\r\n\tif (cmp < 0 && startNode.nodeType == 1) {\r\n\t\treturn {node: parent, offset: K(parent.lastChild).index() + 1};\r\n\t}\r\n\tif (cmp > 0) {\r\n\t\twhile (startNode.nextSibling && startNode.nodeType == 1) {\r\n\t\t\tstartNode = startNode.nextSibling;\r\n\t\t}\r\n\t}\r\n\ttestRange = rng.duplicate();\r\n\t_moveToElementText(testRange, parent);\r\n\ttestRange.setEndPoint('StartToEnd', pointRange);\r\n\tstartPos -= testRange.text.replace(/\\r\\n|\\n|\\r/g, '').length;\r\n\tif (cmp > 0 && startNode.nodeType == 3) {\r\n\t\tvar prevNode = startNode.previousSibling;\r\n\t\twhile (prevNode && prevNode.nodeType == 3) {\r\n\t\t\tstartPos -= prevNode.nodeValue.length;\r\n\t\t\tprevNode = prevNode.previousSibling;\r\n\t\t}\r\n\t}\r\n\treturn {node: startNode, offset: startPos};\r\n}\r\r\nfunction _getEndRange(node, offset) {\r\n\tvar doc = node.ownerDocument || node,\r\n\t\trange = doc.body.createTextRange();\r\n\tif (doc == node) {\r\n\t\trange.collapse(true);\r\n\t\treturn range;\r\n\t}\r\n\tif (node.nodeType == 1 && node.childNodes.length > 0) {\r\n\t\tvar children = node.childNodes, isStart, child;\r\n\t\tif (offset === 0) {\r\n\t\t\tchild = children[0];\r\n\t\t\tisStart = true;\r\n\t\t} else {\r\n\t\t\tchild = children[offset - 1];\r\n\t\t\tisStart = false;\r\n\t\t}\r\n\t\tif (!child) {\r\n\t\t\treturn range;\r\n\t\t}\r\n\t\tif (K(child).name === 'head') {\r\n\t\t\tif (offset === 1) {\r\n\t\t\t\tisStart = true;\r\n\t\t\t}\r\n\t\t\tif (offset === 2) {\r\n\t\t\t\tisStart = false;\r\n\t\t\t}\r\n\t\t\trange.collapse(isStart);\r\n\t\t\treturn range;\r\n\t\t}\r\n\t\tif (child.nodeType == 1) {\r\n\t\t\tvar kchild = K(child), span;\r\n\t\t\tif (kchild.isControl()) {\r\n\t\t\t\tspan = doc.createElement('span');\r\n\t\t\t\tif (isStart) {\r\n\t\t\t\t\tkchild.before(span);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tkchild.after(span);\r\n\t\t\t\t}\r\n\t\t\t\tchild = span;\r\n\t\t\t}\r\n\t\t\t_moveToElementText(range, child);\r\n\t\t\trange.collapse(isStart);\r\n\t\t\tif (span) {\r\n\t\t\t\tK(span).remove();\r\n\t\t\t}\r\n\t\t\treturn range;\r\n\t\t}\r\n\t\tnode = child;\r\n\t\toffset = isStart ? 0 : child.nodeValue.length;\r\n\t}\r\n\tvar dummy = doc.createElement('span');\r\n\tK(node).before(dummy);\r\n\t_moveToElementText(range, dummy);\r\n\trange.moveStart('character', offset);\r\n\tK(dummy).remove();\r\n\treturn range;\r\n}\r\r\nfunction _toRange(rng) {\r\n\tvar doc, range;\r\n\tfunction tr2td(start) {\r\n\t\tif (K(start.node).name == 'tr') {\r\n\t\t\tstart.node = start.node.cells[start.offset];\r\n\t\t\tstart.offset = 0;\r\n\t\t}\r\n\t}\r\n\tif (_IERANGE) {\r\n\t\tif (rng.item) {\r\n\t\t\tdoc = _getDoc(rng.item(0));\r\n\t\t\trange = new KRange(doc);\r\n\t\t\trange.selectNode(rng.item(0));\r\n\t\t\treturn range;\r\n\t\t}\r\n\t\tdoc = rng.parentElement().ownerDocument;\r\n\t\tvar start = _getStartEnd(rng, true),\r\n\t\t\tend = _getStartEnd(rng, false);\r\n\t\ttr2td(start);\r\n\t\ttr2td(end);\r\n\t\trange = new KRange(doc);\r\n\t\trange.setStart(start.node, start.offset);\r\n\t\trange.setEnd(end.node, end.offset);\r\n\t\treturn range;\r\n\t}\r\n\tvar startContainer = rng.startContainer;\r\n\tdoc = startContainer.ownerDocument || startContainer;\r\n\trange = new KRange(doc);\r\n\trange.setStart(startContainer, rng.startOffset);\r\n\trange.setEnd(rng.endContainer, rng.endOffset);\r\n\treturn range;\r\n}\r\n\r\r\nfunction KRange(doc) {\r\n\tthis.init(doc);\r\n}\r\n_extend(KRange, {\r\n\tinit : function(doc) {\r\n\t\tvar self = this;\r\n\t\tself.startContainer = doc;\r\n\t\tself.startOffset = 0;\r\n\t\tself.endContainer = doc;\r\n\t\tself.endOffset = 0;\r\n\t\tself.collapsed = true;\r\n\t\tself.doc = doc;\r\n\t},\r\n\tcommonAncestor : function() {\r\n\t\tfunction getParents(node) {\r\n\t\t\tvar parents = [];\r\n\t\t\twhile (node) {\r\n\t\t\t\tparents.push(node);\r\n\t\t\t\tnode = node.parentNode;\r\n\t\t\t}\r\n\t\t\treturn parents;\r\n\t\t}\r\n\t\tvar parentsA = getParents(this.startContainer),\r\n\t\t\tparentsB = getParents(this.endContainer),\r\n\t\t\ti = 0, lenA = parentsA.length, lenB = parentsB.length, parentA, parentB;\r\n\t\twhile (++i) {\r\n\t\t\tparentA = parentsA[lenA - i];\r\n\t\t\tparentB = parentsB[lenB - i];\r\n\t\t\tif (!parentA || !parentB || parentA !== parentB) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn parentsA[lenA - i + 1];\r\n\t},\r\n\tsetStart : function(node, offset) {\r\n\t\tvar self = this, doc = self.doc;\r\n\t\tself.startContainer = node;\r\n\t\tself.startOffset = offset;\r\n\t\tif (self.endContainer === doc) {\r\n\t\t\tself.endContainer = node;\r\n\t\t\tself.endOffset = offset;\r\n\t\t}\r\n\t\treturn _updateCollapsed(this);\r\n\t},\r\n\tsetEnd : function(node, offset) {\r\n\t\tvar self = this, doc = self.doc;\r\n\t\tself.endContainer = node;\r\n\t\tself.endOffset = offset;\r\n\t\tif (self.startContainer === doc) {\r\n\t\t\tself.startContainer = node;\r\n\t\t\tself.startOffset = offset;\r\n\t\t}\r\n\t\treturn _updateCollapsed(this);\r\n\t},\r\n\tsetStartBefore : function(node) {\r\n\t\treturn this.setStart(node.parentNode || this.doc, K(node).index());\r\n\t},\r\n\tsetStartAfter : function(node) {\r\n\t\treturn this.setStart(node.parentNode || this.doc, K(node).index() + 1);\r\n\t},\r\n\tsetEndBefore : function(node) {\r\n\t\treturn this.setEnd(node.parentNode || this.doc, K(node).index());\r\n\t},\r\n\tsetEndAfter : function(node) {\r\n\t\treturn this.setEnd(node.parentNode || this.doc, K(node).index() + 1);\r\n\t},\r\n\tselectNode : function(node) {\r\n\t\treturn this.setStartBefore(node).setEndAfter(node);\r\n\t},\r\n\tselectNodeContents : function(node) {\r\n\t\tvar knode = K(node);\r\n\t\tif (knode.type == 3 || knode.isSingle()) {\r\n\t\t\treturn this.selectNode(node);\r\n\t\t}\r\n\t\tvar children = knode.children();\r\n\t\tif (children.length > 0) {\r\n\t\t\treturn this.setStartBefore(children[0]).setEndAfter(children[children.length - 1]);\r\n\t\t}\r\n\t\treturn this.setStart(node, 0).setEnd(node, 0);\r\n\t},\r\n\tcollapse : function(toStart) {\r\n\t\tif (toStart) {\r\n\t\t\treturn this.setEnd(this.startContainer, this.startOffset);\r\n\t\t}\r\n\t\treturn this.setStart(this.endContainer, this.endOffset);\r\n\t},\r\n\tcompareBoundaryPoints : function(how, range) {\r\n\t\tvar rangeA = this.get(), rangeB = range.get();\r\n\t\tif (_IERANGE) {\r\n\t\t\tvar arr = {};\r\n\t\t\tarr[_START_TO_START] = 'StartToStart';\r\n\t\t\tarr[_START_TO_END] = 'EndToStart';\r\n\t\t\tarr[_END_TO_END] = 'EndToEnd';\r\n\t\t\tarr[_END_TO_START] = 'StartToEnd';\r\n\t\t\tvar cmp = rangeA.compareEndPoints(arr[how], rangeB);\r\n\t\t\tif (cmp !== 0) {\r\n\t\t\t\treturn cmp;\r\n\t\t\t}\r\n\t\t\tvar nodeA, nodeB, nodeC, posA, posB;\r\n\t\t\tif (how === _START_TO_START || how === _END_TO_START) {\r\n\t\t\t\tnodeA = this.startContainer;\r\n\t\t\t\tposA = this.startOffset;\r\n\t\t\t}\r\n\t\t\tif (how === _START_TO_END || how === _END_TO_END) {\r\n\t\t\t\tnodeA = this.endContainer;\r\n\t\t\t\tposA = this.endOffset;\r\n\t\t\t}\r\n\t\t\tif (how === _START_TO_START || how === _START_TO_END) {\r\n\t\t\t\tnodeB = range.startContainer;\r\n\t\t\t\tposB = range.startOffset;\r\n\t\t\t}\r\n\t\t\tif (how === _END_TO_END || how === _END_TO_START) {\r\n\t\t\t\tnodeB = range.endContainer;\r\n\t\t\t\tposB = range.endOffset;\r\n\t\t\t}\r\n\t\t\tif (nodeA === nodeB) {\r\n\t\t\t\tvar diff = posA - posB;\r\n\t\t\t\treturn diff > 0 ? 1 : (diff < 0 ? -1 : 0);\r\n\t\t\t}\r\n\t\t\tnodeC = nodeB;\r\n\t\t\twhile (nodeC && nodeC.parentNode !== nodeA) {\r\n\t\t\t\tnodeC = nodeC.parentNode;\r\n\t\t\t}\r\n\t\t\tif (nodeC) {\r\n\t\t\t\treturn K(nodeC).index() >= posA ? -1 : 1;\r\n\t\t\t}\r\n\t\t\tnodeC = nodeA;\r\n\t\t\twhile (nodeC && nodeC.parentNode !== nodeB) {\r\n\t\t\t\tnodeC = nodeC.parentNode;\r\n\t\t\t}\r\n\t\t\tif (nodeC) {\r\n\t\t\t\treturn K(nodeC).index() >= posB ? 1 : -1;\r\n\t\t\t}\r\n\t\t\tnodeC = K(nodeB).next();\r\n\t\t\tif (nodeC && nodeC.contains(nodeA)) {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\tnodeC = K(nodeA).next();\r\n\t\t\tif (nodeC && nodeC.contains(nodeB)) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn rangeA.compareBoundaryPoints(how, rangeB);\r\n\t\t}\r\n\t},\r\n\tcloneRange : function() {\r\n\t\treturn new KRange(this.doc).setStart(this.startContainer, this.startOffset).setEnd(this.endContainer, this.endOffset);\r\n\t},\r\n\ttoString : function() {\r\n\t\tvar rng = this.get(), str = _IERANGE ? rng.text : rng.toString();\r\n\t\treturn str.replace(/\\r\\n|\\n|\\r/g, '');\r\n\t},\r\n\tcloneContents : function() {\r\n\t\treturn _copyAndDelete(this, true, false);\r\n\t},\r\n\tdeleteContents : function() {\r\n\t\treturn _copyAndDelete(this, false, true);\r\n\t},\r\n\textractContents : function() {\r\n\t\treturn _copyAndDelete(this, true, true);\r\n\t},\r\n\tinsertNode : function(node) {\r\n\t\tvar self = this,\r\n\t\t\tsc = self.startContainer, so = self.startOffset,\r\n\t\t\tec = self.endContainer, eo = self.endOffset,\r\n\t\t\tfirstChild, lastChild, c, nodeCount = 1;\r\n\t\tif (node.nodeName.toLowerCase() === '#document-fragment') {\r\n\t\t\tfirstChild = node.firstChild;\r\n\t\t\tlastChild = node.lastChild;\r\n\t\t\tnodeCount = node.childNodes.length;\r\n\t\t}\r\n\t\tif (sc.nodeType == 1) {\r\n\t\t\tc = sc.childNodes[so];\r\n\t\t\tif (c) {\r\n\t\t\t\tsc.insertBefore(node, c);\r\n\t\t\t\tif (sc === ec) {\r\n\t\t\t\t\teo += nodeCount;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsc.appendChild(node);\r\n\t\t\t}\r\n\t\t} else if (sc.nodeType == 3) {\r\n\t\t\tif (so === 0) {\r\n\t\t\t\tsc.parentNode.insertBefore(node, sc);\r\n\t\t\t\tif (sc.parentNode === ec) {\r\n\t\t\t\t\teo += nodeCount;\r\n\t\t\t\t}\r\n\t\t\t} else if (so >= sc.nodeValue.length) {\r\n\t\t\t\tif (sc.nextSibling) {\r\n\t\t\t\t\tsc.parentNode.insertBefore(node, sc.nextSibling);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsc.parentNode.appendChild(node);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (so > 0) {\r\n\t\t\t\t\tc = sc.splitText(so);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tc = sc;\r\n\t\t\t\t}\r\n\t\t\t\tsc.parentNode.insertBefore(node, c);\r\n\t\t\t\tif (sc === ec) {\r\n\t\t\t\t\tec = c;\r\n\t\t\t\t\teo -= so;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (firstChild) {\r\n\t\t\tself.setStartBefore(firstChild).setEndAfter(lastChild);\r\n\t\t} else {\r\n\t\t\tself.selectNode(node);\r\n\t\t}\r\n\t\tif (self.compareBoundaryPoints(_END_TO_END, self.cloneRange().setEnd(ec, eo)) >= 1) {\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\treturn self.setEnd(ec, eo);\r\n\t},\r\n\tsurroundContents : function(node) {\r\n\t\tnode.appendChild(this.extractContents());\r\n\t\treturn this.insertNode(node).selectNode(node);\r\n\t},\r\n\tisControl : function() {\r\n\t\tvar self = this,\r\n\t\t\tsc = self.startContainer, so = self.startOffset,\r\n\t\t\tec = self.endContainer, eo = self.endOffset, rng;\r\n\t\treturn sc.nodeType == 1 && sc === ec && so + 1 === eo && K(sc.childNodes[so]).isControl();\r\n\t},\r\n\tget : function(hasControlRange) {\r\n\t\tvar self = this, doc = self.doc, node, rng;\r\n\t\tif (!_IERANGE) {\r\n\t\t\trng = doc.createRange();\r\n\t\t\ttry {\r\n\t\t\t\trng.setStart(self.startContainer, self.startOffset);\r\n\t\t\t\trng.setEnd(self.endContainer, self.endOffset);\r\n\t\t\t} catch (e) {}\r\n\t\t\treturn rng;\r\n\t\t}\r\n\t\tif (hasControlRange && self.isControl()) {\r\n\t\t\trng = doc.body.createControlRange();\r\n\t\t\trng.addElement(self.startContainer.childNodes[self.startOffset]);\r\n\t\t\treturn rng;\r\n\t\t}\r\n\t\tvar range = self.cloneRange().down();\r\n\t\trng = doc.body.createTextRange();\r\n\t\trng.setEndPoint('StartToStart', _getEndRange(range.startContainer, range.startOffset));\r\n\t\trng.setEndPoint('EndToStart', _getEndRange(range.endContainer, range.endOffset));\r\n\t\treturn rng;\r\n\t},\r\n\thtml : function() {\r\n\t\treturn K(this.cloneContents()).outer();\r\n\t},\r\n\tdown : function() {\r\n\t\tvar self = this;\r\n\t\tfunction downPos(node, pos, isStart) {\r\n\t\t\tif (node.nodeType != 1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar children = K(node).children();\r\n\t\t\tif (children.length === 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar left, right, child, offset;\r\n\t\t\tif (pos > 0) {\r\n\t\t\t\tleft = children.eq(pos - 1);\r\n\t\t\t}\r\n\t\t\tif (pos < children.length) {\r\n\t\t\t\tright = children.eq(pos);\r\n\t\t\t}\r\n\t\t\tif (left && left.type == 3) {\r\n\t\t\t\tchild = left[0];\r\n\t\t\t\toffset = child.nodeValue.length;\r\n\t\t\t}\r\n\t\t\tif (right && right.type == 3) {\r\n\t\t\t\tchild = right[0];\r\n\t\t\t\toffset = 0;\r\n\t\t\t}\r\n\t\t\tif (!child) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (isStart) {\r\n\t\t\t\tself.setStart(child, offset);\r\n\t\t\t} else {\r\n\t\t\t\tself.setEnd(child, offset);\r\n\t\t\t}\r\n\t\t}\r\n\t\tdownPos(self.startContainer, self.startOffset, true);\r\n\t\tdownPos(self.endContainer, self.endOffset, false);\r\n\t\treturn self;\r\n\t},\r\n\tup : function() {\r\n\t\tvar self = this;\r\n\t\tfunction upPos(node, pos, isStart) {\r\n\t\t\tif (node.nodeType != 3) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (pos === 0) {\r\n\t\t\t\tif (isStart) {\r\n\t\t\t\t\tself.setStartBefore(node);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.setEndBefore(node);\r\n\t\t\t\t}\r\n\t\t\t} else if (pos == node.nodeValue.length) {\r\n\t\t\t\tif (isStart) {\r\n\t\t\t\t\tself.setStartAfter(node);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.setEndAfter(node);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tupPos(self.startContainer, self.startOffset, true);\r\n\t\tupPos(self.endContainer, self.endOffset, false);\r\n\t\treturn self;\r\n\t},\r\n\tenlarge : function(toBlock) {\r\n\t\tvar self = this;\r\n\t\tself.up();\r\n\t\tfunction enlargePos(node, pos, isStart) {\r\n\t\t\tvar knode = K(node), parent;\r\n\t\t\tif (knode.type == 3 || _NOSPLIT_TAG_MAP[knode.name] || !toBlock && knode.isBlock()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (pos === 0) {\r\n\t\t\t\twhile (!knode.prev()) {\r\n\t\t\t\t\tparent = knode.parent();\r\n\t\t\t\t\tif (!parent || _NOSPLIT_TAG_MAP[parent.name] || !toBlock && parent.isBlock()) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tknode = parent;\r\n\t\t\t\t}\r\n\t\t\t\tif (isStart) {\r\n\t\t\t\t\tself.setStartBefore(knode[0]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.setEndBefore(knode[0]);\r\n\t\t\t\t}\r\n\t\t\t} else if (pos == knode.children().length) {\r\n\t\t\t\twhile (!knode.next()) {\r\n\t\t\t\t\tparent = knode.parent();\r\n\t\t\t\t\tif (!parent || _NOSPLIT_TAG_MAP[parent.name] || !toBlock && parent.isBlock()) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tknode = parent;\r\n\t\t\t\t}\r\n\t\t\t\tif (isStart) {\r\n\t\t\t\t\tself.setStartAfter(knode[0]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.setEndAfter(knode[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tenlargePos(self.startContainer, self.startOffset, true);\r\n\t\tenlargePos(self.endContainer, self.endOffset, false);\r\n\t\treturn self;\r\n\t},\r\n\tshrink : function() {\r\n\t\tvar self = this, child, collapsed = self.collapsed;\r\n\t\twhile (self.startContainer.nodeType == 1 && (child = self.startContainer.childNodes[self.startOffset]) && child.nodeType == 1 && !K(child).isSingle()) {\r\n\t\t\tself.setStart(child, 0);\r\n\t\t}\r\n\t\tif (collapsed) {\r\n\t\t\treturn self.collapse(collapsed);\r\n\t\t}\r\n\t\twhile (self.endContainer.nodeType == 1 && self.endOffset > 0 && (child = self.endContainer.childNodes[self.endOffset - 1]) && child.nodeType == 1 && !K(child).isSingle()) {\r\n\t\t\tself.setEnd(child, child.childNodes.length);\r\n\t\t}\r\n\t\treturn self;\r\n\t},\r\n\tcreateBookmark : function(serialize) {\r\n\t\tvar self = this, doc = self.doc, endNode,\r\n\t\t\tstartNode = K('<span style=\"display:none;\"></span>', doc)[0];\r\n\t\tstartNode.id = '__kindeditor_bookmark_start_' + (_BOOKMARK_ID++) + '__';\r\n\t\tif (!self.collapsed) {\r\n\t\t\tendNode = startNode.cloneNode(true);\r\n\t\t\tendNode.id = '__kindeditor_bookmark_end_' + (_BOOKMARK_ID++) + '__';\r\n\t\t}\r\n\t\tif (endNode) {\r\n\t\t\tself.cloneRange().collapse(false).insertNode(endNode).setEndBefore(endNode);\r\n\t\t}\r\n\t\tself.insertNode(startNode).setStartAfter(startNode);\r\n\t\treturn {\r\n\t\t\tstart : serialize ? '#' + startNode.id : startNode,\r\n\t\t\tend : endNode ? (serialize ? '#' + endNode.id : endNode) : null\r\n\t\t};\r\n\t},\r\n\tmoveToBookmark : function(bookmark) {\r\n\t\tvar self = this, doc = self.doc,\r\n\t\t\tstart = K(bookmark.start, doc), end = bookmark.end ? K(bookmark.end, doc) : null;\r\n\t\tif (!start || start.length < 1) {\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\tself.setStartBefore(start[0]);\r\n\t\tstart.remove();\r\n\t\tif (end && end.length > 0) {\r\n\t\t\tself.setEndBefore(end[0]);\r\n\t\t\tend.remove();\r\n\t\t} else {\r\n\t\t\tself.collapse(true);\r\n\t\t}\r\n\t\treturn self;\r\n\t},\r\n\tdump : function() {\r\n\t\tconsole.log('--------------------');\r\n\t\tconsole.log(this.startContainer.nodeType == 3 ? this.startContainer.nodeValue : this.startContainer, this.startOffset);\r\n\t\tconsole.log(this.endContainer.nodeType == 3 ? this.endContainer.nodeValue : this.endContainer, this.endOffset);\r\n\t}\r\n});\r\nfunction _range(mixed) {\r\n\tif (!mixed.nodeName) {\r\n\t\treturn mixed.constructor === KRange ? mixed : _toRange(mixed);\r\n\t}\r\n\treturn new KRange(mixed);\r\n}\r\nK.RangeClass = KRange;\r\nK.range = _range;\r\nK.START_TO_START = _START_TO_START;\r\nK.START_TO_END = _START_TO_END;\r\nK.END_TO_END = _END_TO_END;\r\nK.END_TO_START = _END_TO_START;\r\n\n\r\r\nfunction _nativeCommand(doc, key, val) {\r\n\ttry {\r\n\t\tdoc.execCommand(key, false, val);\r\n\t} catch(e) {}\r\n}\r\r\nfunction _nativeCommandValue(doc, key) {\r\n\tvar val = '';\r\n\ttry {\r\n\t\tval = doc.queryCommandValue(key);\r\n\t} catch (e) {}\r\n\tif (typeof val !== 'string') {\r\n\t\tval = '';\r\n\t}\r\n\treturn val;\r\n}\r\r\nfunction _getSel(doc) {\r\n\tvar win = _getWin(doc);\r\n\treturn _IERANGE ? doc.selection : win.getSelection();\r\n}\r\r\nfunction _getRng(doc) {\r\n\tvar sel = _getSel(doc), rng;\r\n\ttry {\r\n\t\tif (sel.rangeCount > 0) {\r\n\t\t\trng = sel.getRangeAt(0);\r\n\t\t} else {\r\n\t\t\trng = sel.createRange();\r\n\t\t}\r\n\t} catch(e) {}\r\n\tif (_IERANGE && (!rng || (!rng.item && rng.parentElement().ownerDocument !== doc))) {\r\n\t\treturn null;\r\n\t}\r\n\treturn rng;\r\n}\r\r\nfunction _singleKeyMap(map) {\r\n\tvar newMap = {}, arr, v;\r\n\t_each(map, function(key, val) {\r\n\t\tarr = key.split(',');\r\n\t\tfor (var i = 0, len = arr.length; i < len; i++) {\r\n\t\t\tv = arr[i];\r\n\t\t\tnewMap[v] = val;\r\n\t\t}\r\n\t});\r\n\treturn newMap;\r\n}\r\r\nfunction _hasAttrOrCss(knode, map) {\r\n\treturn _hasAttrOrCssByKey(knode, map, '*') || _hasAttrOrCssByKey(knode, map);\r\n}\r\nfunction _hasAttrOrCssByKey(knode, map, mapKey) {\r\n\tmapKey = mapKey || knode.name;\r\n\tif (knode.type !== 1) {\r\n\t\treturn false;\r\n\t}\r\n\tvar newMap = _singleKeyMap(map);\r\n\tif (!newMap[mapKey]) {\r\n\t\treturn false;\r\n\t}\r\n\tvar arr = newMap[mapKey].split(',');\r\n\tfor (var i = 0, len = arr.length; i < len; i++) {\r\n\t\tvar key = arr[i];\r\n\t\tif (key === '*') {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tvar match = /^(\\.?)([^=]+)(?:=([^=]*))?$/.exec(key);\r\n\t\tvar method = match[1] ? 'css' : 'attr';\r\n\t\tkey = match[2];\r\n\t\tvar val = match[3] || '';\r\n\t\tif (val === '' && knode[method](key) !== '') {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (val !== '' && knode[method](key) === val) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\r\nfunction _removeAttrOrCss(knode, map) {\r\n\tif (knode.type != 1) {\r\n\t\treturn;\r\n\t}\r\n\t_removeAttrOrCssByKey(knode, map, '*');\r\n\t_removeAttrOrCssByKey(knode, map);\r\n}\r\nfunction _removeAttrOrCssByKey(knode, map, mapKey) {\r\n\tmapKey = mapKey || knode.name;\r\n\tif (knode.type !== 1) {\r\n\t\treturn;\r\n\t}\r\n\tvar newMap = _singleKeyMap(map);\r\n\tif (!newMap[mapKey]) {\r\n\t\treturn;\r\n\t}\r\n\tvar arr = newMap[mapKey].split(','), allFlag = false;\r\n\tfor (var i = 0, len = arr.length; i < len; i++) {\r\n\t\tvar key = arr[i];\r\n\t\tif (key === '*') {\r\n\t\t\tallFlag = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tvar match = /^(\\.?)([^=]+)(?:=([^=]*))?$/.exec(key);\r\n\t\tkey = match[2];\r\n\t\tif (match[1]) {\r\n\t\t\tkey = _toCamel(key);\r\n\t\t\tif (knode[0].style[key]) {\r\n\t\t\t\tknode[0].style[key] = '';\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tknode.removeAttr(key);\r\n\t\t}\r\n\t}\r\n\tif (allFlag) {\r\n\t\tknode.remove(true);\r\n\t}\r\n}\r\r\nfunction _getInnerNode(knode) {\r\n\tvar inner = knode;\r\n\twhile (inner.first()) {\r\n\t\tinner = inner.first();\r\n\t}\r\n\treturn inner;\r\n}\r\r\nfunction _isEmptyNode(knode) {\r\n\tif (knode.type != 1 || knode.isSingle()) {\r\n\t\treturn false;\r\n\t}\r\n\treturn knode.html().replace(/<[^>]+>/g, '') === '';\r\n}\r\r\r\r\r\nfunction _mergeWrapper(a, b) {\r\n\ta = a.clone(true);\r\n\tvar lastA = _getInnerNode(a), childA = a, merged = false;\r\n\twhile (b) {\r\n\t\twhile (childA) {\r\n\t\t\tif (childA.name === b.name) {\r\n\t\t\t\t_mergeAttrs(childA, b.attr(), b.css());\r\n\t\t\t\tmerged = true;\r\n\t\t\t}\r\n\t\t\tchildA = childA.first();\r\n\t\t}\r\n\t\tif (!merged) {\r\n\t\t\tlastA.append(b.clone(false));\r\n\t\t}\r\n\t\tmerged = false;\r\n\t\tb = b.first();\r\n\t}\r\n\treturn a;\r\n}\r\r\nfunction _wrapNode(knode, wrapper) {\r\n\twrapper = wrapper.clone(true);\r\n\tif (knode.type == 3) {\r\n\t\t_getInnerNode(wrapper).append(knode.clone(false));\r\n\t\tknode.replaceWith(wrapper);\r\n\t\treturn wrapper;\r\n\t}\r\n\tvar nodeWrapper = knode, child;\r\n\twhile ((child = knode.first()) && child.children().length == 1) {\r\n\t\tknode = child;\r\n\t}\r\n\tchild = knode.first();\r\n\tvar frag = knode.doc.createDocumentFragment();\r\n\twhile (child) {\r\n\t\tfrag.appendChild(child[0]);\r\n\t\tchild = child.next();\r\n\t}\r\n\twrapper = _mergeWrapper(nodeWrapper, wrapper);\r\n\tif (frag.firstChild) {\r\n\t\t_getInnerNode(wrapper).append(frag);\r\n\t}\r\n\tnodeWrapper.replaceWith(wrapper);\r\n\treturn wrapper;\r\n}\r\r\nfunction _mergeAttrs(knode, attrs, styles) {\r\n\t_each(attrs, function(key, val) {\r\n\t\tif (key !== 'style') {\r\n\t\t\tknode.attr(key, val);\r\n\t\t}\r\n\t});\r\n\t_each(styles, function(key, val) {\r\n\t\tknode.css(key, val);\r\n\t});\r\n}\r\r\nfunction _inPreElement(knode) {\r\n\twhile (knode && knode.name != 'body') {\r\n\t\tif (_PRE_TAG_MAP[knode.name] || knode.name == 'div' && knode.hasClass('ke-script')) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tknode = knode.parent();\r\n\t}\r\n\treturn false;\r\n}\r\r\nfunction KCmd(range) {\r\n\tthis.init(range);\r\n}\r\n_extend(KCmd, {\r\n\tinit : function(range) {\r\n\t\tvar self = this, doc = range.doc;\r\n\t\tself.doc = doc;\r\n\t\tself.win = _getWin(doc);\r\n\t\tself.sel = _getSel(doc);\r\n\t\tself.range = range;\r\n\t},\r\n\tselection : function(forceReset) {\r\n\t\tvar self = this, doc = self.doc, rng = _getRng(doc);\r\n\t\tself.sel = _getSel(doc);\r\n\t\tif (rng) {\r\n\t\t\tself.range = _range(rng);\r\n\t\t\tif (K(self.range.startContainer).name == 'html') {\r\n\t\t\t\tself.range.selectNodeContents(doc.body).collapse(false);\r\n\t\t\t}\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\tif (forceReset) {\r\n\t\t\tself.range.selectNodeContents(doc.body).collapse(false);\r\n\t\t}\r\n\t\treturn self;\r\n\t},\r\n\tselect : function(hasDummy) {\r\n\t\thasDummy = _undef(hasDummy, true);\r\n\t\tvar self = this, sel = self.sel, range = self.range.cloneRange().shrink(),\r\n\t\t\tsc = range.startContainer, so = range.startOffset,\r\n\t\t\tec = range.endContainer, eo = range.endOffset,\r\n\t\t\tdoc = _getDoc(sc), win = self.win, rng, hasU200b = false;\r\n\t\tif (hasDummy && sc.nodeType == 1 && range.collapsed) {\r\n\t\t\tif (_IERANGE) {\r\n\t\t\t\tvar dummy = K('<span>&nbsp;</span>', doc);\r\n\t\t\t\trange.insertNode(dummy[0]);\r\n\t\t\t\trng = doc.body.createTextRange();\r\n\t\t\t\ttry {\r\n\t\t\t\t\trng.moveToElementText(dummy[0]);\r\n\t\t\t\t} catch(ex) {}\r\n\t\t\t\trng.collapse(false);\r\n\t\t\t\trng.select();\r\n\t\t\t\tdummy.remove();\r\n\t\t\t\twin.focus();\r\n\t\t\t\treturn self;\r\n\t\t\t}\r\n\t\t\tif (_WEBKIT) {\r\n\t\t\t\tvar children = sc.childNodes;\r\n\t\t\t\tif (K(sc).isInline() || so > 0 && K(children[so - 1]).isInline() || children[so] && K(children[so]).isInline()) {\r\n\t\t\t\t\trange.insertNode(doc.createTextNode('\\u200B'));\r\n\t\t\t\t\thasU200b = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (_IERANGE) {\r\n\t\t\ttry {\r\n\t\t\t\trng = range.get(true);\r\n\t\t\t\trng.select();\r\n\t\t\t} catch(e) {}\r\n\t\t} else {\r\n\t\t\tif (hasU200b) {\r\n\t\t\t\trange.collapse(false);\r\n\t\t\t}\r\n\t\t\trng = range.get(true);\r\n\t\t\tsel.removeAllRanges();\r\n\t\t\tsel.addRange(rng);\r\n\t\t\tif (doc !== document) {\r\n\t\t\t\tvar pos = K(rng.endContainer).pos();\r\n\t\t\t\twin.scrollTo(pos.x, pos.y);\r\n\t\t\t}\r\n\t\t}\r\n\t\twin.focus();\r\n\t\treturn self;\r\n\t},\r\n\twrap : function(val) {\r\n\t\tvar self = this, doc = self.doc, range = self.range, wrapper;\r\n\t\twrapper = K(val, doc);\r\n\t\tif (range.collapsed) {\r\n\t\t\trange.shrink();\r\n\t\t\trange.insertNode(wrapper[0]).selectNodeContents(wrapper[0]);\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\tif (wrapper.isBlock()) {\r\n\t\t\tvar copyWrapper = wrapper.clone(true), child = copyWrapper;\r\n\t\t\twhile (child.first()) {\r\n\t\t\t\tchild = child.first();\r\n\t\t\t}\r\n\t\t\tchild.append(range.extractContents());\r\n\t\t\trange.insertNode(copyWrapper[0]).selectNode(copyWrapper[0]);\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\trange.enlarge();\r\n\t\tvar bookmark = range.createBookmark(), ancestor = range.commonAncestor(), isStart = false;\r\n\t\tK(ancestor).scan(function(node) {\r\n\t\t\tif (!isStart && node == bookmark.start) {\r\n\t\t\t\tisStart = true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (isStart) {\r\n\t\t\t\tif (node == bookmark.end) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar knode = K(node);\r\n\t\t\t\tif (_inPreElement(knode)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (knode.type == 3 && _trim(node.nodeValue).length > 0) {\r\n\t\t\t\t\tvar parent;\r\n\t\t\t\t\twhile ((parent = knode.parent()) && parent.isStyle() && parent.children().length == 1) {\r\n\t\t\t\t\t\tknode = parent;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_wrapNode(knode, wrapper);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\trange.moveToBookmark(bookmark);\r\n\t\treturn self;\r\n\t},\r\n\tsplit : function(isStart, map) {\r\n\t\tvar range = this.range, doc = range.doc;\r\n\t\tvar tempRange = range.cloneRange().collapse(isStart);\r\n\t\tvar node = tempRange.startContainer, pos = tempRange.startOffset,\r\n\t\t\tparent = node.nodeType == 3 ? node.parentNode : node,\r\n\t\t\tneedSplit = false, knode;\r\n\t\twhile (parent && parent.parentNode) {\r\n\t\t\tknode = K(parent);\r\n\t\t\tif (map) {\r\n\t\t\t\tif (!knode.isStyle()) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif (!_hasAttrOrCss(knode, map)) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (_NOSPLIT_TAG_MAP[knode.name]) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tneedSplit = true;\r\n\t\t\tparent = parent.parentNode;\r\n\t\t}\r\n\t\tif (needSplit) {\r\n\t\t\tvar dummy = doc.createElement('span');\r\n\t\t\trange.cloneRange().collapse(!isStart).insertNode(dummy);\r\n\t\t\tif (isStart) {\r\n\t\t\t\ttempRange.setStartBefore(parent.firstChild).setEnd(node, pos);\r\n\t\t\t} else {\r\n\t\t\t\ttempRange.setStart(node, pos).setEndAfter(parent.lastChild);\r\n\t\t\t}\r\n\t\t\tvar frag = tempRange.extractContents(),\r\n\t\t\t\tfirst = frag.firstChild, last = frag.lastChild;\r\n\t\t\tif (isStart) {\r\n\t\t\t\ttempRange.insertNode(frag);\r\n\t\t\t\trange.setStartAfter(last).setEndBefore(dummy);\r\n\t\t\t} else {\r\n\t\t\t\tparent.appendChild(frag);\r\n\t\t\t\trange.setStartBefore(dummy).setEndBefore(first);\r\n\t\t\t}\r\n\t\t\tvar dummyParent = dummy.parentNode;\r\n\t\t\tif (dummyParent == range.endContainer) {\r\n\t\t\t\tvar prev = K(dummy).prev(), next = K(dummy).next();\r\n\t\t\t\tif (prev && next && prev.type == 3 && next.type == 3) {\r\n\t\t\t\t\trange.setEnd(prev[0], prev[0].nodeValue.length);\r\n\t\t\t\t} else if (!isStart) {\r\n\t\t\t\t\trange.setEnd(range.endContainer, range.endOffset - 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdummyParent.removeChild(dummy);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\tremove : function(map) {\r\n\t\tvar self = this, doc = self.doc, range = self.range;\r\n\t\trange.enlarge();\r\n\t\tif (range.startOffset === 0) {\r\n\t\t\tvar ksc = K(range.startContainer), parent;\r\n\t\t\twhile ((parent = ksc.parent()) && parent.isStyle() && parent.children().length == 1) {\r\n\t\t\t\tksc = parent;\r\n\t\t\t}\r\n\t\t\trange.setStart(ksc[0], 0);\r\n\t\t\tksc = K(range.startContainer);\r\n\t\t\tif (ksc.isBlock()) {\r\n\t\t\t\t_removeAttrOrCss(ksc, map);\r\n\t\t\t}\r\n\t\t\tvar kscp = ksc.parent();\r\n\t\t\tif (kscp && kscp.isBlock()) {\r\n\t\t\t\t_removeAttrOrCss(kscp, map);\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar sc, so;\r\n\t\tif (range.collapsed) {\r\n\t\t\tself.split(true, map);\r\n\t\t\tsc = range.startContainer;\r\n\t\t\tso = range.startOffset;\r\n\t\t\tif (so > 0) {\r\n\t\t\t\tvar sb = K(sc.childNodes[so - 1]);\r\n\t\t\t\tif (sb && _isEmptyNode(sb)) {\r\n\t\t\t\t\tsb.remove();\r\n\t\t\t\t\trange.setStart(sc, so - 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar sa = K(sc.childNodes[so]);\r\n\t\t\tif (sa && _isEmptyNode(sa)) {\r\n\t\t\t\tsa.remove();\r\n\t\t\t}\r\n\t\t\tif (_isEmptyNode(sc)) {\r\n\t\t\t\trange.startBefore(sc);\r\n\t\t\t\tsc.remove();\r\n\t\t\t}\r\n\t\t\trange.collapse(true);\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\tself.split(true, map);\r\n\t\tself.split(false, map);\r\n\t\tvar startDummy = doc.createElement('span'), endDummy = doc.createElement('span');\r\n\t\trange.cloneRange().collapse(false).insertNode(endDummy);\r\n\t\trange.cloneRange().collapse(true).insertNode(startDummy);\r\n\t\tvar nodeList = [], cmpStart = false;\r\n\t\tK(range.commonAncestor()).scan(function(node) {\r\n\t\t\tif (!cmpStart && node == startDummy) {\r\n\t\t\t\tcmpStart = true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (node == endDummy) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (cmpStart) {\r\n\t\t\t\tnodeList.push(node);\r\n\t\t\t}\r\n\t\t});\r\n\t\tK(startDummy).remove();\r\n\t\tK(endDummy).remove();\r\n\t\tsc = range.startContainer;\r\n\t\tso = range.startOffset;\r\n\t\tvar ec = range.endContainer, eo = range.endOffset;\r\n\t\tif (so > 0) {\r\n\t\t\tvar startBefore = K(sc.childNodes[so - 1]);\r\n\t\t\tif (startBefore && _isEmptyNode(startBefore)) {\r\n\t\t\t\tstartBefore.remove();\r\n\t\t\t\trange.setStart(sc, so - 1);\r\n\t\t\t\tif (sc == ec) {\r\n\t\t\t\t\trange.setEnd(ec, eo - 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar startAfter = K(sc.childNodes[so]);\r\n\t\t\tif (startAfter && _isEmptyNode(startAfter)) {\r\n\t\t\t\tstartAfter.remove();\r\n\t\t\t\tif (sc == ec) {\r\n\t\t\t\t\trange.setEnd(ec, eo - 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar endAfter = K(ec.childNodes[range.endOffset]);\r\n\t\tif (endAfter && _isEmptyNode(endAfter)) {\r\n\t\t\tendAfter.remove();\r\n\t\t}\r\n\t\tvar bookmark = range.createBookmark(true);\r\n\t\t_each(nodeList, function(i, node) {\r\n\t\t\t_removeAttrOrCss(K(node), map);\r\n\t\t});\r\n\t\trange.moveToBookmark(bookmark);\r\n\t\treturn self;\r\n\t},\r\n\tcommonNode : function(map) {\r\n\t\tvar range = this.range;\r\n\t\tvar ec = range.endContainer, eo = range.endOffset,\r\n\t\t\tnode = (ec.nodeType == 3 || eo === 0) ? ec : ec.childNodes[eo - 1];\r\n\t\tfunction find(node) {\r\n\t\t\tvar child = node, parent = node;\r\n\t\t\twhile (parent) {\r\n\t\t\t\tif (_hasAttrOrCss(K(parent), map)) {\r\n\t\t\t\t\treturn K(parent);\r\n\t\t\t\t}\r\n\t\t\t\tparent = parent.parentNode;\r\n\t\t\t}\r\n\t\t\twhile (child && (child = child.lastChild)) {\r\n\t\t\t\tif (_hasAttrOrCss(K(child), map)) {\r\n\t\t\t\t\treturn K(child);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar cNode = find(node);\r\n\t\tif (cNode) {\r\n\t\t\treturn cNode;\r\n\t\t}\r\n\t\tif (node.nodeType == 1 || (ec.nodeType == 3 && eo === 0)) {\r\n\t\t\tvar prev = K(node).prev();\r\n\t\t\tif (prev) {\r\n\t\t\t\treturn find(prev);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\tcommonAncestor : function(tagName) {\r\n\t\tvar range = this.range,\r\n\t\t\tsc = range.startContainer, so = range.startOffset,\r\n\t\t\tec = range.endContainer, eo = range.endOffset,\r\n\t\t\tstartNode = (sc.nodeType == 3 || so === 0) ? sc : sc.childNodes[so - 1],\r\n\t\t\tendNode = (ec.nodeType == 3 || eo === 0) ? ec : ec.childNodes[eo - 1];\r\n\t\tfunction find(node) {\r\n\t\t\twhile (node) {\r\n\t\t\t\tif (node.nodeType == 1) {\r\n\t\t\t\t\tif (node.tagName.toLowerCase() === tagName) {\r\n\t\t\t\t\t\treturn node;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tnode = node.parentNode;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar start = find(startNode), end = find(endNode);\r\n\t\tif (start && end && start === end) {\r\n\t\t\treturn K(start);\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\tstate : function(key) {\r\n\t\tvar self = this, doc = self.doc, bool = false;\r\n\t\ttry {\r\n\t\t\tbool = doc.queryCommandState(key);\r\n\t\t} catch (e) {}\r\n\t\treturn bool;\r\n\t},\r\n\tval : function(key) {\r\n\t\tvar self = this, doc = self.doc, range = self.range;\r\n\t\tfunction lc(val) {\r\n\t\t\treturn val.toLowerCase();\r\n\t\t}\r\n\t\tkey = lc(key);\r\n\t\tvar val = '', knode;\r\n\t\tif (key === 'fontfamily' || key === 'fontname') {\r\n\t\t\tval = _nativeCommandValue(doc, 'fontname');\r\n\t\t\tval = val.replace(/['\"]/g, '');\r\n\t\t\treturn lc(val);\r\n\t\t}\r\n\t\tif (key === 'formatblock') {\r\n\t\t\tval = _nativeCommandValue(doc, key);\r\n\t\t\tif (val === '') {\r\n\t\t\t\tknode = self.commonNode({'h1,h2,h3,h4,h5,h6,p,div,pre,address' : '*'});\r\n\t\t\t\tif (knode) {\r\n\t\t\t\t\tval = knode.name;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (val === 'Normal') {\r\n\t\t\t\tval = 'p';\r\n\t\t\t}\r\n\t\t\treturn lc(val);\r\n\t\t}\r\n\t\tif (key === 'fontsize') {\r\n\t\t\tknode = self.commonNode({'*' : '.font-size'});\r\n\t\t\tif (knode) {\r\n\t\t\t\tval = knode.css('font-size');\r\n\t\t\t}\r\n\t\t\treturn lc(val);\r\n\t\t}\r\n\t\tif (key === 'forecolor') {\r\n\t\t\tknode = self.commonNode({'*' : '.color'});\r\n\t\t\tif (knode) {\r\n\t\t\t\tval = knode.css('color');\r\n\t\t\t}\r\n\t\t\tval = _toHex(val);\r\n\t\t\tif (val === '') {\r\n\t\t\t\tval = 'default';\r\n\t\t\t}\r\n\t\t\treturn lc(val);\r\n\t\t}\r\n\t\tif (key === 'hilitecolor') {\r\n\t\t\tknode = self.commonNode({'*' : '.background-color'});\r\n\t\t\tif (knode) {\r\n\t\t\t\tval = knode.css('background-color');\r\n\t\t\t}\r\n\t\t\tval = _toHex(val);\r\n\t\t\tif (val === '') {\r\n\t\t\t\tval = 'default';\r\n\t\t\t}\r\n\t\t\treturn lc(val);\r\n\t\t}\r\n\t\treturn val;\r\n\t},\r\n\ttoggle : function(wrapper, map) {\r\n\t\tvar self = this;\r\n\t\tif (self.commonNode(map)) {\r\n\t\t\tself.remove(map);\r\n\t\t} else {\r\n\t\t\tself.wrap(wrapper);\r\n\t\t}\r\n\t\treturn self.select();\r\n\t},\r\n\tbold : function() {\r\n\t\treturn this.toggle('<strong></strong>', {\r\n\t\t\tspan : '.font-weight=bold',\r\n\t\t\tstrong : '*',\r\n\t\t\tb : '*'\r\n\t\t});\r\n\t},\r\n\titalic : function() {\r\n\t\treturn this.toggle('<em></em>', {\r\n\t\t\tspan : '.font-style=italic',\r\n\t\t\tem : '*',\r\n\t\t\ti : '*'\r\n\t\t});\r\n\t},\r\n\tunderline : function() {\r\n\t\treturn this.toggle('<u></u>', {\r\n\t\t\tspan : '.text-decoration=underline',\r\n\t\t\tu : '*'\r\n\t\t});\r\n\t},\r\n\tstrikethrough : function() {\r\n\t\treturn this.toggle('<s></s>', {\r\n\t\t\tspan : '.text-decoration=line-through',\r\n\t\t\ts : '*'\r\n\t\t});\r\n\t},\r\n\tforecolor : function(val) {\r\n\t\treturn this.wrap('<span style=\"color:' + val + ';\"></span>').select();\r\n\t},\r\n\thilitecolor : function(val) {\r\n\t\treturn this.wrap('<span style=\"background-color:' + val + ';\"></span>').select();\r\n\t},\r\n\tfontsize : function(val) {\r\n\t\treturn this.wrap('<span style=\"font-size:' + val + ';\"></span>').select();\r\n\t},\r\n\tfontname : function(val) {\r\n\t\treturn this.fontfamily(val);\r\n\t},\r\n\tfontfamily : function(val) {\r\n\t\treturn this.wrap('<span style=\"font-family:' + val + ';\"></span>').select();\r\n\t},\r\n\tremoveformat : function() {\r\n\t\tvar map = {\r\n\t\t\t'*' : '.font-weight,.font-style,.text-decoration,.color,.background-color,.font-size,.font-family,.text-indent'\r\n\t\t},\r\n\t\ttags = _STYLE_TAG_MAP;\r\n\t\t_each(tags, function(key, val) {\r\n\t\t\tmap[key] = '*';\r\n\t\t});\r\n\t\tthis.remove(map);\r\n\t\treturn this.select();\r\n\t},\r\n\tinserthtml : function(val, quickMode) {\r\n\t\tvar self = this, range = self.range;\r\n\t\tif (val === '') {\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\tfunction pasteHtml(range, val) {\r\n\t\t\tval = '<img id=\"__kindeditor_temp_tag__\" width=\"0\" height=\"0\" style=\"display:none;\" />' + val;\r\n\t\t\tvar rng = range.get();\r\n\t\t\tif (rng.item) {\r\n\t\t\t\trng.item(0).outerHTML = val;\r\n\t\t\t} else {\r\n\t\t\t\trng.pasteHTML(val);\r\n\t\t\t}\r\n\t\t\tvar temp = range.doc.getElementById('__kindeditor_temp_tag__');\r\n\t\t\ttemp.parentNode.removeChild(temp);\r\n\t\t\tvar newRange = _toRange(rng);\r\n\t\t\trange.setEnd(newRange.endContainer, newRange.endOffset);\r\n\t\t\trange.collapse(false);\r\n\t\t\tself.select(false);\r\n\t\t}\r\n\t\tfunction insertHtml(range, val) {\r\n\t\t\tvar doc = range.doc,\r\n\t\t\t\tfrag = doc.createDocumentFragment();\r\n\t\t\tK('@' + val, doc).each(function() {\r\n\t\t\t\tfrag.appendChild(this);\r\n\t\t\t});\r\n\t\t\trange.deleteContents();\r\n\t\t\trange.insertNode(frag);\r\n\t\t\trange.collapse(false);\r\n\t\t\tself.select(false);\r\n\t\t}\r\n\t\tif (_IERANGE && quickMode) {\r\n\t\t\ttry {\r\n\t\t\t\tpasteHtml(range, val);\r\n\t\t\t} catch(e) {\r\n\t\t\t\tinsertHtml(range, val);\r\n\t\t\t}\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\tinsertHtml(range, val);\r\n\t\treturn self;\r\n\t},\r\n\thr : function() {\r\n\t\treturn this.inserthtml('<hr />');\r\n\t},\r\n\tprint : function() {\r\n\t\tthis.win.print();\r\n\t\treturn this;\r\n\t},\r\n\tinsertimage : function(url, title, width, height, border, align) {\r\n\t\ttitle = _undef(title, '');\r\n\t\tborder = _undef(border, 0);\r\n\t\tvar html = '<img src=\"' + _escape(url) + '\" data-ke-src=\"' + _escape(url) + '\" ';\r\n\t\tif (width) {\r\n\t\t\thtml += 'width=\"' + _escape(width) + '\" ';\r\n\t\t}\r\n\t\tif (height) {\r\n\t\t\thtml += 'height=\"' + _escape(height) + '\" ';\r\n\t\t}\r\n\t\tif (title) {\r\n\t\t\thtml += 'title=\"' + _escape(title) + '\" ';\r\n\t\t}\r\n\t\tif (align) {\r\n\t\t\thtml += 'align=\"' + _escape(align) + '\" ';\r\n\t\t}\r\n\t\thtml += 'alt=\"' + _escape(title) + '\" ';\r\n\t\thtml += '/>';\r\n\t\treturn this.inserthtml(html);\r\n\t},\r\n\tcreatelink : function(url, type) {\r\n\t\tvar self = this, doc = self.doc, range = self.range;\r\n\t\tself.select();\r\n\t\tvar a = self.commonNode({ a : '*' });\r\n\t\tif (a && !range.isControl()) {\r\n\t\t\trange.selectNode(a.get());\r\n\t\t\tself.select();\r\n\t\t}\r\n\t\tvar html = '<a href=\"' + _escape(url) + '\" data-ke-src=\"' + _escape(url) + '\" ';\r\n\t\tif (type) {\r\n\t\t\thtml += ' target=\"' + _escape(type) + '\"';\r\n\t\t}\r\n\t\tif (range.collapsed) {\r\n\t\t\thtml += '>' + _escape(url) + '</a>';\r\n\t\t\treturn self.inserthtml(html);\r\n\t\t}\r\n\t\tif (range.isControl()) {\r\n\t\t\tvar node = K(range.startContainer.childNodes[range.startOffset]);\r\n\t\t\thtml += '></a>';\r\n\t\t\tnode.after(K(html, doc));\r\n\t\t\tnode.next().append(node);\r\n\t\t\trange.selectNode(node[0]);\r\n\t\t\treturn self.select();\r\n\t\t}\r\n\t\tfunction setAttr(node, url, type) {\r\n\t\t\tK(node).attr('href', url).attr('data-ke-src', url);\r\n\t\t\tif (type) {\r\n\t\t\t\tK(node).attr('target', type);\r\n\t\t\t} else {\r\n\t\t\t\tK(node).removeAttr('target');\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar sc = range.startContainer, so = range.startOffset,\r\n\t\t\tec = range.endContainer, eo = range.endOffset;\r\n\t\tif (sc.nodeType == 1 && sc === ec && so + 1 === eo) {\r\n\t\t\tvar child = sc.childNodes[so];\r\n\t\t\tif (child.nodeName.toLowerCase() == 'a') {\r\n\t\t\t\tsetAttr(child, url, type);\r\n\t\t\t\treturn self;\r\n\t\t\t}\r\n\t\t}\r\n\t\t_nativeCommand(doc, 'createlink', '__kindeditor_temp_url__');\r\n\t\tK('a[href=\"__kindeditor_temp_url__\"]', doc).each(function() {\r\n\t\t\tsetAttr(this, url, type);\r\n\t\t});\r\n\t\treturn self;\r\n\t},\r\n\tunlink : function() {\r\n\t\tvar self = this, doc = self.doc, range = self.range;\r\n\t\tself.select();\r\n\t\tif (range.collapsed) {\r\n\t\t\tvar a = self.commonNode({ a : '*' });\r\n\t\t\tif (a) {\r\n\t\t\t\trange.selectNode(a.get());\r\n\t\t\t\tself.select();\r\n\t\t\t}\r\n\t\t\t_nativeCommand(doc, 'unlink', null);\r\n\t\t\tif (_WEBKIT && K(range.startContainer).name === 'img') {\r\n\t\t\t\tvar parent = K(range.startContainer).parent();\r\n\t\t\t\tif (parent.name === 'a') {\r\n\t\t\t\t\tparent.remove(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t_nativeCommand(doc, 'unlink', null);\r\n\t\t}\r\n\t\treturn self;\r\n\t}\r\n});\r\n_each(('formatblock,selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,' +\r\n\t'insertunorderedlist,indent,outdent,subscript,superscript').split(','), function(i, name) {\r\n\tKCmd.prototype[name] = function(val) {\r\n\t\tvar self = this;\r\n\t\tself.select();\r\n\t\t_nativeCommand(self.doc, name, val);\r\n\t\tif (_IERANGE && _inArray(name, 'justifyleft,justifycenter,justifyright,justifyfull'.split(',')) >= 0) {\r\n\t\t\tself.selection();\r\n\t\t}\r\n\t\tif (!_IERANGE || _inArray(name, 'formatblock,selectall,insertorderedlist,insertunorderedlist'.split(',')) >= 0) {\r\n\t\t\tself.selection();\r\n\t\t}\r\n\t\treturn self;\r\n\t};\r\n});\r\n_each('cut,copy,paste'.split(','), function(i, name) {\r\n\tKCmd.prototype[name] = function() {\r\n\t\tvar self = this;\r\n\t\tif (!self.doc.queryCommandSupported(name)) {\r\n\t\t\tthrow 'not supported';\r\n\t\t}\r\n\t\tself.select();\r\n\t\t_nativeCommand(self.doc, name, null);\r\n\t\treturn self;\r\n\t};\r\n});\r\nfunction _cmd(mixed) {\r\n\tif (mixed.nodeName) {\r\n\t\tvar doc = _getDoc(mixed);\r\n\t\tmixed = _range(doc).selectNodeContents(doc.body).collapse(false);\r\n\t}\r\n\treturn new KCmd(mixed);\r\n}\r\nK.CmdClass = KCmd;\r\nK.cmd = _cmd;\r\n\n\r\nfunction _drag(options) {\r\n\tvar moveEl = options.moveEl,\r\n\t\tmoveFn = options.moveFn,\r\n\t\tclickEl = options.clickEl || moveEl,\r\n\t\tbeforeDrag = options.beforeDrag,\r\n\t\tiframeFix = options.iframeFix === undefined ? true : options.iframeFix;\r\n\tvar docs = [document];\r\n\tif (iframeFix) {\r\n\t\tK('iframe').each(function() {\r\n\t\t\tvar src = _formatUrl(this.src || '', 'absolute');\r\n\t\t\tif (/^https?:\\/\\//.test(src)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar doc;\r\n\t\t\ttry {\r\n\t\t\t\tdoc = _iframeDoc(this);\r\n\t\t\t} catch(e) {}\r\n\t\t\tif (doc) {\r\n\t\t\t\tvar pos = K(this).pos();\r\n\t\t\t\tK(doc).data('pos-x', pos.x);\r\n\t\t\t\tK(doc).data('pos-y', pos.y);\r\n\t\t\t\tdocs.push(doc);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tclickEl.mousedown(function(e) {\r\n\t\tif(e.button !== 0 && e.button !== 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\te.stopPropagation();\r\n\t\tvar self = clickEl.get(),\r\n\t\t\tx = _removeUnit(moveEl.css('left')),\r\n\t\t\ty = _removeUnit(moveEl.css('top')),\r\n\t\t\twidth = moveEl.width(),\r\n\t\t\theight = moveEl.height(),\r\n\t\t\tpageX = e.pageX,\r\n\t\t\tpageY = e.pageY;\r\n\t\tif (beforeDrag) {\r\n\t\t\tbeforeDrag();\r\n\t\t}\r\n\t\tfunction moveListener(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tvar kdoc = K(_getDoc(e.target));\r\n\t\t\tvar diffX = _round((kdoc.data('pos-x') || 0) + e.pageX - pageX);\r\n\t\t\tvar diffY = _round((kdoc.data('pos-y') || 0) + e.pageY - pageY);\r\n\t\t\tmoveFn.call(clickEl, x, y, width, height, diffX, diffY);\r\n\t\t}\r\n\t\tfunction selectListener(e) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t\tfunction upListener(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tK(docs).unbind('mousemove', moveListener)\r\n\t\t\t\t.unbind('mouseup', upListener)\r\n\t\t\t\t.unbind('selectstart', selectListener);\r\n\t\t\tif (self.releaseCapture) {\r\n\t\t\t\tself.releaseCapture();\r\n\t\t\t}\r\n\t\t}\r\n\t\tK(docs).mousemove(moveListener)\r\n\t\t\t.mouseup(upListener)\r\n\t\t\t.bind('selectstart', selectListener);\r\n\t\tif (self.setCapture) {\r\n\t\t\tself.setCapture();\r\n\t\t}\r\n\t});\r\n}\r\n\r\r\nfunction KWidget(options) {\r\n\tthis.init(options);\r\n}\r\n_extend(KWidget, {\r\n\tinit : function(options) {\r\n\t\tvar self = this;\r\n\t\tself.name = options.name || '';\r\n\t\tself.doc = options.doc || document;\r\n\t\tself.win = _getWin(self.doc);\r\n\t\tself.x = _addUnit(options.x);\r\n\t\tself.y = _addUnit(options.y);\r\n\t\tself.z = options.z;\r\n\t\tself.width = _addUnit(options.width);\r\n\t\tself.height = _addUnit(options.height);\r\n\t\tself.div = K('<div style=\"display:block;\"></div>');\r\n\t\tself.options = options;\r\n\t\tself._alignEl = options.alignEl;\r\n\t\tif (self.width) {\r\n\t\t\tself.div.css('width', self.width);\r\n\t\t}\r\n\t\tif (self.height) {\r\n\t\t\tself.div.css('height', self.height);\r\n\t\t}\r\n\t\tif (self.z) {\r\n\t\t\tself.div.css({\r\n\t\t\t\tposition : 'absolute',\r\n\t\t\t\tleft : self.x,\r\n\t\t\t\ttop : self.y,\r\n\t\t\t\t'z-index' : self.z\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (self.z && (self.x === undefined || self.y === undefined)) {\r\n\t\t\tself.autoPos(self.width, self.height);\r\n\t\t}\r\n\t\tif (options.cls) {\r\n\t\t\tself.div.addClass(options.cls);\r\n\t\t}\r\n\t\tif (options.shadowMode) {\r\n\t\t\tself.div.addClass('ke-shadow');\r\n\t\t}\r\n\t\tif (options.css) {\r\n\t\t\tself.div.css(options.css);\r\n\t\t}\r\n\t\tif (options.src) {\r\n\t\t\tK(options.src).replaceWith(self.div);\r\n\t\t} else {\r\n\t\t\tK(self.doc.body).append(self.div);\r\n\t\t}\r\n\t\tif (options.html) {\r\n\t\t\tself.div.html(options.html);\r\n\t\t}\r\n\t\tif (options.autoScroll) {\r\n\t\t\tif (_IE && _V < 7 || _QUIRKS) {\r\n\t\t\t\tvar scrollPos = _getScrollPos();\r\n\t\t\t\tK(self.win).bind('scroll', function(e) {\r\n\t\t\t\t\tvar pos = _getScrollPos(),\r\n\t\t\t\t\t\tdiffX = pos.x - scrollPos.x,\r\n\t\t\t\t\t\tdiffY = pos.y - scrollPos.y;\r\n\t\t\t\t\tself.pos(_removeUnit(self.x) + diffX, _removeUnit(self.y) + diffY, false);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tself.div.css('position', 'fixed');\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tpos : function(x, y, updateProp) {\r\n\t\tvar self = this;\r\n\t\tupdateProp = _undef(updateProp, true);\r\n\t\tif (x !== null) {\r\n\t\t\tx = x < 0 ? 0 : _addUnit(x);\r\n\t\t\tself.div.css('left', x);\r\n\t\t\tif (updateProp) {\r\n\t\t\t\tself.x = x;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (y !== null) {\r\n\t\t\ty = y < 0 ? 0 : _addUnit(y);\r\n\t\t\tself.div.css('top', y);\r\n\t\t\tif (updateProp) {\r\n\t\t\t\tself.y = y;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn self;\r\n\t},\r\n\tautoPos : function(width, height) {\r\n\t\tvar self = this,\r\n\t\t\tw = _removeUnit(width) || 0,\r\n\t\t\th = _removeUnit(height) || 0,\r\n\t\t\tscrollPos = _getScrollPos();\r\n\t\tif (self._alignEl) {\r\n\t\t\tvar knode = K(self._alignEl),\r\n\t\t\t\tpos = knode.pos(),\r\n\t\t\t\tdiffX = _round(knode[0].clientWidth / 2 - w / 2),\r\n\t\t\t\tdiffY = _round(knode[0].clientHeight / 2 - h / 2);\r\n\t\t\tx = diffX < 0 ? pos.x : pos.x + diffX;\r\n\t\t\ty = diffY < 0 ? pos.y : pos.y + diffY;\r\n\t\t} else {\r\n\t\t\tvar docEl = _docElement(self.doc);\r\n\t\t\tx = _round(scrollPos.x + (docEl.clientWidth - w) / 2);\r\n\t\t\ty = _round(scrollPos.y + (docEl.clientHeight - h) / 2);\r\n\t\t}\r\n\t\tif (!(_IE && _V < 7 || _QUIRKS)) {\r\n\t\t\tx -= scrollPos.x;\r\n\t\t\ty -= scrollPos.y;\r\n\t\t}\r\n\t\treturn self.pos(x, y);\r\n\t},\r\n\tremove : function() {\r\n\t\tvar self = this;\r\n\t\tif (_IE && _V < 7 || _QUIRKS) {\r\n\t\t\tK(self.win).unbind('scroll');\r\n\t\t}\r\n\t\tself.div.remove();\r\n\t\t_each(self, function(i) {\r\n\t\t\tself[i] = null;\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\tshow : function() {\r\n\t\tthis.div.show();\r\n\t\treturn this;\r\n\t},\r\n\thide : function() {\r\n\t\tthis.div.hide();\r\n\t\treturn this;\r\n\t},\r\n\tdraggable : function(options) {\r\n\t\tvar self = this;\r\n\t\toptions = options || {};\r\n\t\toptions.moveEl = self.div;\r\n\t\toptions.moveFn = function(x, y, width, height, diffX, diffY) {\r\n\t\t\tif ((x = x + diffX) < 0) {\r\n\t\t\t\tx = 0;\r\n\t\t\t}\r\n\t\t\tif ((y = y + diffY) < 0) {\r\n\t\t\t\ty = 0;\r\n\t\t\t}\r\n\t\t\tself.pos(x, y);\r\n\t\t};\r\n\t\t_drag(options);\r\n\t\treturn self;\r\n\t}\r\n});\r\nfunction _widget(options) {\r\n\treturn new KWidget(options);\r\n}\r\nK.WidgetClass = KWidget;\r\nK.widget = _widget;\r\n\n\r\nfunction _iframeDoc(iframe) {\r\n\tiframe = _get(iframe);\r\n\treturn iframe.contentDocument || iframe.contentWindow.document;\r\n}\r\nvar html, _direction = '';\r\nif ((html = document.getElementsByTagName('html'))) {\r\n\t_direction = html[0].dir;\r\n}\r\nfunction _getInitHtml(themesPath, bodyClass, cssPath, cssData) {\r\n\tvar arr = [\r\n\t\t(_direction === '' ? '<html>' : '<html dir=\"' + _direction + '\">'),\r\n\t\t'<head><meta charset=\"utf-8\" /><title></title>',\r\n\t\t'<style>',\r\n\t\t'html {margin:0;padding:0;}',\r\n\t\t'body {margin:0;padding:5px;}',\r\n\t\t'body, td {font:12px/1.5 \"sans serif\",tahoma,verdana,helvetica;}',\r\n\t\t'body, p, div {word-wrap: break-word;}',\r\n\t\t'p {margin:5px 0;}',\r\n\t\t'table {border-collapse:collapse;}',\r\n\t\t'img {border:0;}',\r\n\t\t'noscript {display:none;}',\r\n\t\t'table.ke-zeroborder td {border:1px dotted #AAA;}',\r\n\t\t'img.ke-flash {',\r\n\t\t'\tborder:1px solid #AAA;',\r\n\t\t'\tbackground-image:url(' + themesPath + 'common/flash.gif);',\r\n\t\t'\tbackground-position:center center;',\r\n\t\t'\tbackground-repeat:no-repeat;',\r\n\t\t'\twidth:100px;',\r\n\t\t'\theight:100px;',\r\n\t\t'}',\r\n\t\t'img.ke-rm {',\r\n\t\t'\tborder:1px solid #AAA;',\r\n\t\t'\tbackground-image:url(' + themesPath + 'common/rm.gif);',\r\n\t\t'\tbackground-position:center center;',\r\n\t\t'\tbackground-repeat:no-repeat;',\r\n\t\t'\twidth:100px;',\r\n\t\t'\theight:100px;',\r\n\t\t'}',\r\n\t\t'img.ke-media {',\r\n\t\t'\tborder:1px solid #AAA;',\r\n\t\t'\tbackground-image:url(' + themesPath + 'common/media.gif);',\r\n\t\t'\tbackground-position:center center;',\r\n\t\t'\tbackground-repeat:no-repeat;',\r\n\t\t'\twidth:100px;',\r\n\t\t'\theight:100px;',\r\n\t\t'}',\r\n\t\t'img.ke-anchor {',\r\n\t\t'\tborder:1px dashed #666;',\r\n\t\t'\twidth:16px;',\r\n\t\t'\theight:16px;',\r\n\t\t'}',\r\n\t\t'.ke-script, .ke-noscript, .ke-display-none {',\r\n\t\t'\tdisplay:none;',\r\n\t\t'\tfont-size:0;',\r\n\t\t'\twidth:0;',\r\n\t\t'\theight:0;',\r\n\t\t'}',\r\n\t\t'.ke-pagebreak {',\r\n\t\t'\tborder:1px dotted #AAA;',\r\n\t\t'\tfont-size:0;',\r\n\t\t'\theight:2px;',\r\n\t\t'}',\r\n\t\t'</style>'\r\n\t];\r\n\tif (!_isArray(cssPath)) {\r\n\t\tcssPath = [cssPath];\r\n\t}\r\n\t_each(cssPath, function(i, path) {\r\n\t\tif (path) {\r\n\t\t\tarr.push('<link href=\"' + path + '\" rel=\"stylesheet\" />');\r\n\t\t}\r\n\t});\r\n\tif (cssData) {\r\n\t\tarr.push('<style>' + cssData + '</style>');\r\n\t}\r\n\tarr.push('</head><body ' + (bodyClass ? 'class=\"' + bodyClass + '\"' : '') + '></body></html>');\r\n\treturn arr.join('\\n');\r\n}\r\nfunction _elementVal(knode, val) {\r\n\tif (knode.hasVal()) {\r\n\t\tif (val === undefined) {\r\n\t\t\tvar html = knode.val();\r\n\t\t\thtml = html.replace(/(<(?:p|p\\s[^>]*)>) *(<\\/p>)/ig, '');\r\n\t\t\treturn html;\r\n\t\t}\r\n\t\treturn knode.val(val);\r\n\t}\r\n\treturn knode.html(val);\r\n}\r\n\r\r\nfunction KEdit(options) {\r\n\tthis.init(options);\r\n}\r\n_extend(KEdit, KWidget, {\r\n\tinit : function(options) {\r\n\t\tvar self = this;\r\n\t\tKEdit.parent.init.call(self, options);\r\n\t\tself.srcElement = K(options.srcElement);\r\n\t\tself.div.addClass('ke-edit');\r\n\t\tself.designMode = _undef(options.designMode, true);\r\n\t\tself.beforeGetHtml = options.beforeGetHtml;\r\n\t\tself.beforeSetHtml = options.beforeSetHtml;\r\n\t\tself.afterSetHtml = options.afterSetHtml;\r\n\t\tvar themesPath = _undef(options.themesPath, ''),\r\n\t\t\tbodyClass = options.bodyClass,\r\n\t\t\tcssPath = options.cssPath,\r\n\t\t\tcssData = options.cssData,\r\n\t\t\tisDocumentDomain = location.protocol != 'res:' && location.host.replace(/:\\d+/, '') !== document.domain,\r\n\t\t\tsrcScript = ('document.open();' +\r\n\t\t\t\t(isDocumentDomain ? 'document.domain=\"' + document.domain + '\";' : '') +\r\n\t\t\t\t'document.close();'),\r\n\t\t\tiframeSrc = _IE ? ' src=\"javascript:void(function(){' + encodeURIComponent(srcScript) + '}())\"' : '';\r\n\t\tself.iframe = K('<iframe class=\"ke-edit-iframe\" hidefocus=\"true\" frameborder=\"0\"' + iframeSrc + '></iframe>').css('width', '100%');\r\n\t\tself.textarea = K('<textarea class=\"ke-edit-textarea\" hidefocus=\"true\"></textarea>').css('width', '100%');\r\n\t\tself.tabIndex = isNaN(parseInt(options.tabIndex, 10)) ? self.srcElement.attr('tabindex') : parseInt(options.tabIndex, 10);\r\n\t\tself.iframe.attr('tabindex', self.tabIndex);\r\n\t\tself.textarea.attr('tabindex', self.tabIndex);\r\n\t\tif (self.width) {\r\n\t\t\tself.setWidth(self.width);\r\n\t\t}\r\n\t\tif (self.height) {\r\n\t\t\tself.setHeight(self.height);\r\n\t\t}\r\n\t\tif (self.designMode) {\r\n\t\t\tself.textarea.hide();\r\n\t\t} else {\r\n\t\t\tself.iframe.hide();\r\n\t\t}\r\n\t\tfunction ready() {\r\n\t\t\tvar doc = _iframeDoc(self.iframe);\r\n\t\t\tdoc.open();\r\n\t\t\tif (isDocumentDomain) {\r\n\t\t\t\tdoc.domain = document.domain;\r\n\t\t\t}\r\n\t\t\tdoc.write(_getInitHtml(themesPath, bodyClass, cssPath, cssData));\r\n\t\t\tdoc.close();\r\n\t\t\tself.win = self.iframe[0].contentWindow;\r\n\t\t\tself.doc = doc;\r\n\t\t\tvar cmd = _cmd(doc);\r\n\t\t\tself.afterChange(function(e) {\r\n\t\t\t\tcmd.selection();\r\n\t\t\t});\r\n\t\t\tif (_WEBKIT) {\r\n\t\t\t\tK(doc).click(function(e) {\r\n\t\t\t\t\tif (K(e.target).name === 'img') {\r\n\t\t\t\t\t\tcmd.selection(true);\r\n\t\t\t\t\t\tcmd.range.selectNode(e.target);\r\n\t\t\t\t\t\tcmd.select();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (_IE) {\r\n\t\t\t\tself._mousedownHandler = function() {\r\n\t\t\t\t\tvar newRange = cmd.range.cloneRange();\r\n\t\t\t\t\tnewRange.shrink();\r\n\t\t\t\t\tif (newRange.isControl()) {\r\n\t\t\t\t\t\tself.blur();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tK(document).mousedown(self._mousedownHandler);\r\n\t\t\t\tK(doc).keydown(function(e) {\r\n\t\t\t\t\tif (e.which == 8) {\r\n\t\t\t\t\t\tcmd.selection();\r\n\t\t\t\t\t\tvar rng = cmd.range;\r\n\t\t\t\t\t\tif (rng.isControl()) {\r\n\t\t\t\t\t\t\trng.collapse(true);\r\n\t\t\t\t\t\t\tK(rng.startContainer.childNodes[rng.startOffset]).remove();\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tself.cmd = cmd;\r\n\t\t\tself.html(_elementVal(self.srcElement));\r\n\t\t\tif (_IE) {\r\n\t\t\t\tdoc.body.disabled = true;\r\n\t\t\t\tdoc.body.contentEditable = true;\r\n\t\t\t\tdoc.body.removeAttribute('disabled');\r\n\t\t\t} else {\r\n\t\t\t\tdoc.designMode = 'on';\r\n\t\t\t}\r\n\t\t\tif (options.afterCreate) {\r\n\t\t\t\toptions.afterCreate.call(self);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (isDocumentDomain) {\r\n\t\t\tself.iframe.bind('load', function(e) {\r\n\t\t\t\tself.iframe.unbind('load');\r\n\t\t\t\tif (_IE) {\r\n\t\t\t\t\tready();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTimeout(ready, 0);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tself.div.append(self.iframe);\r\n\t\tself.div.append(self.textarea);\r\n\t\tself.srcElement.hide();\r\n\t\t!isDocumentDomain && ready();\r\n\t},\r\n\tsetWidth : function(val) {\r\n\t\tvar self = this;\r\n\t\tval = _addUnit(val);\r\n\t\tself.width = val;\r\n\t\tself.div.css('width', val);\r\n\t\treturn self;\r\n\t},\r\n\tsetHeight : function(val) {\r\n\t\tvar self = this;\r\n\t\tval = _addUnit(val);\r\n\t\tself.height = val;\r\n\t\tself.div.css('height', val);\r\n\t\tself.iframe.css('height', val);\r\n\t\tif ((_IE && _V < 8) || _QUIRKS) {\r\n\t\t\tval = _addUnit(_removeUnit(val) - 2);\r\n\t\t}\r\n\t\tself.textarea.css('height', val);\r\n\t\treturn self;\r\n\t},\r\n\tremove : function() {\r\n\t\tvar self = this, doc = self.doc;\r\n\t\tK(doc.body).unbind();\r\n\t\tK(doc).unbind();\r\n\t\tK(self.win).unbind();\r\n\t\tif (self._mousedownHandler) {\r\n\t\t\tK(document).unbind('mousedown', self._mousedownHandler);\r\n\t\t}\r\n\t\t_elementVal(self.srcElement, self.html());\r\n\t\tself.srcElement.show();\r\n\t\tself.iframe.unbind();\r\n\t\tself.textarea.unbind();\r\n\t\tKEdit.parent.remove.call(self);\r\n\t},\r\n\thtml : function(val, isFull) {\r\n\t\tvar self = this, doc = self.doc;\r\n\t\tif (self.designMode) {\r\n\t\t\tvar body = doc.body;\r\n\t\t\tif (val === undefined) {\r\n\t\t\t\tif (isFull) {\r\n\t\t\t\t\tval = '<!doctype html><html>' + body.parentNode.innerHTML + '</html>';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tval = body.innerHTML;\r\n\t\t\t\t}\r\n\t\t\t\tif (self.beforeGetHtml) {\r\n\t\t\t\t\tval = self.beforeGetHtml(val);\r\n\t\t\t\t}\r\n\t\t\t\tif (_GECKO && val == '<br />') {\r\n\t\t\t\t\tval = '';\r\n\t\t\t\t}\r\n\t\t\t\treturn val;\r\n\t\t\t}\r\n\t\t\tif (self.beforeSetHtml) {\r\n\t\t\t\tval = self.beforeSetHtml(val);\r\n\t\t\t}\r\n\t\t\tif (_IE && _V >= 9) {\r\n\t\t\t\tval = val.replace(/(<.*?checked=\")checked(\".*>)/ig, '$1$2');\r\n\t\t\t}\r\n\t\t\tK(body).html(val);\r\n\t\t\tif (self.afterSetHtml) {\r\n\t\t\t\tself.afterSetHtml();\r\n\t\t\t}\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\tif (val === undefined) {\r\n\t\t\treturn self.textarea.val();\r\n\t\t}\r\n\t\tself.textarea.val(val);\r\n\t\treturn self;\r\n\t},\r\n\tdesign : function(bool) {\r\n\t\tvar self = this, val;\r\n\t\tif (bool === undefined ? !self.designMode : bool) {\r\n\t\t\tif (!self.designMode) {\r\n\t\t\t\tval = self.html();\r\n\t\t\t\tself.designMode = true;\r\n\t\t\t\tself.textarea.hide();\r\n\t\t\t\tself.html(val);\r\n\t\t\t\tvar iframe = self.iframe;\r\n\t\t\t\tvar height = _removeUnit(self.height);\r\n\t\t\t\tiframe.height(height - 2);\r\n\t\t\t\tiframe.show();\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tiframe.height(height);\r\n\t\t\t\t}, 0);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (self.designMode) {\r\n\t\t\t\tval = self.html();\r\n\t\t\t\tself.designMode = false;\r\n\t\t\t\tself.html(val);\r\n\t\t\t\tself.iframe.hide();\r\n\t\t\t\tself.textarea.show();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn self.focus();\r\n\t},\r\n\tfocus : function() {\r\n\t\tvar self = this;\r\n\t\tself.designMode ? self.win.focus() : self.textarea[0].focus();\r\n\t\treturn self;\r\n\t},\r\n\tblur : function() {\r\n\t\tvar self = this;\r\n\t\tif (_IE) {\r\n\t\t\tvar input = K('<input type=\"text\" style=\"float:left;width:0;height:0;padding:0;margin:0;border:0;\" value=\"\" />', self.div);\r\n\t\t\tself.div.append(input);\r\n\t\t\tinput[0].focus();\r\n\t\t\tinput.remove();\r\n\t\t} else {\r\n\t\t\tself.designMode ? self.win.blur() : self.textarea[0].blur();\r\n\t\t}\r\n\t\treturn self;\r\n\t},\r\n\tafterChange : function(fn) {\r\n\t\tvar self = this, doc = self.doc, body = doc.body;\r\n\t\tK(doc).keyup(function(e) {\r\n\t\t\tif (!e.ctrlKey && !e.altKey && _CHANGE_KEY_MAP[e.which]) {\r\n\t\t\t\tfn(e);\r\n\t\t\t}\r\n\t\t});\r\n\t\tK(doc).mouseup(fn).contextmenu(fn);\r\n\t\tK(self.win).blur(fn);\r\n\t\tfunction timeoutHandler(e) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tfn(e);\r\n\t\t\t}, 1);\r\n\t\t}\r\n\t\tK(body).bind('paste', timeoutHandler);\r\n\t\tK(body).bind('cut', timeoutHandler);\r\n\t\treturn self;\r\n\t}\r\n});\r\nfunction _edit(options) {\r\n\treturn new KEdit(options);\r\n}\r\nK.EditClass = KEdit;\r\nK.edit = _edit;\r\nK.iframeDoc = _iframeDoc;\r\n\n\r\nfunction _selectToolbar(name, fn) {\r\n\tvar self = this,\r\n\t\tknode = self.get(name);\r\n\tif (knode) {\r\n\t\tif (knode.hasClass('ke-disabled')) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfn(knode);\r\n\t}\r\n}\r\n\r\r\nfunction KToolbar(options) {\r\n\tthis.init(options);\r\n}\r\n_extend(KToolbar, KWidget, {\r\n\tinit : function(options) {\r\n\t\tvar self = this;\r\n\t\tKToolbar.parent.init.call(self, options);\r\n\t\tself.disableMode = _undef(options.disableMode, false);\r\n\t\tself.noDisableItemMap = _toMap(_undef(options.noDisableItems, []));\r\n\t\tself._itemMap = {};\r\n\t\tself.div.addClass('ke-toolbar').bind('contextmenu,mousedown,mousemove', function(e) {\r\n\t\t\te.preventDefault();\r\n\t\t}).attr('unselectable', 'on');\r\n\t\tfunction find(target) {\r\n\t\t\tvar knode = K(target);\r\n\t\t\tif (knode.hasClass('ke-outline')) {\r\n\t\t\t\treturn knode;\r\n\t\t\t}\r\n\t\t\tif (knode.hasClass('ke-toolbar-icon')) {\r\n\t\t\t\treturn knode.parent();\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction hover(e, method) {\r\n\t\t\tvar knode = find(e.target);\r\n\t\t\tif (knode) {\r\n\t\t\t\tif (knode.hasClass('ke-disabled')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (knode.hasClass('ke-selected')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tknode[method]('ke-on');\r\n\t\t\t}\r\n\t\t}\r\n\t\tself.div.mouseover(function(e) {\r\n\t\t\thover(e, 'addClass');\r\n\t\t})\r\n\t\t.mouseout(function(e) {\r\n\t\t\thover(e, 'removeClass');\r\n\t\t})\r\n\t\t.click(function(e) {\r\n\t\t\tvar knode = find(e.target);\r\n\t\t\tif (knode) {\r\n\t\t\t\tif (knode.hasClass('ke-disabled')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tself.options.click.call(this, e, knode.attr('data-name'));\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tget : function(name) {\r\n\t\tif (this._itemMap[name]) {\r\n\t\t\treturn this._itemMap[name];\r\n\t\t}\r\n\t\treturn (this._itemMap[name] = K('span.ke-icon-' + name, this.div).parent());\r\n\t},\r\n\tselect : function(name) {\r\n\t\t_selectToolbar.call(this, name, function(knode) {\r\n\t\t\tknode.addClass('ke-selected');\r\n\t\t});\r\n\t\treturn self;\r\n\t},\r\n\tunselect : function(name) {\r\n\t\t_selectToolbar.call(this, name, function(knode) {\r\n\t\t\tknode.removeClass('ke-selected').removeClass('ke-on');\r\n\t\t});\r\n\t\treturn self;\r\n\t},\r\n\tenable : function(name) {\r\n\t\tvar self = this,\r\n\t\t\tknode = name.get ? name : self.get(name);\r\n\t\tif (knode) {\r\n\t\t\tknode.removeClass('ke-disabled');\r\n\t\t\tknode.opacity(1);\r\n\t\t}\r\n\t\treturn self;\r\n\t},\r\n\tdisable : function(name) {\r\n\t\tvar self = this,\r\n\t\t\tknode = name.get ? name : self.get(name);\r\n\t\tif (knode) {\r\n\t\t\tknode.removeClass('ke-selected').addClass('ke-disabled');\r\n\t\t\tknode.opacity(0.5);\r\n\t\t}\r\n\t\treturn self;\r\n\t},\r\n\tdisableAll : function(bool, noDisableItems) {\r\n\t\tvar self = this, map = self.noDisableItemMap, item;\r\n\t\tif (noDisableItems) {\r\n\t\t\tmap = _toMap(noDisableItems);\r\n\t\t}\r\n\t\tif (bool === undefined ? !self.disableMode : bool) {\r\n\t\t\tK('span.ke-outline', self.div).each(function() {\r\n\t\t\t\tvar knode = K(this),\r\n\t\t\t\t\tname = knode[0].getAttribute('data-name', 2);\r\n\t\t\t\tif (!map[name]) {\r\n\t\t\t\t\tself.disable(knode);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tself.disableMode = true;\r\n\t\t} else {\r\n\t\t\tK('span.ke-outline', self.div).each(function() {\r\n\t\t\t\tvar knode = K(this),\r\n\t\t\t\t\tname = knode[0].getAttribute('data-name', 2);\r\n\t\t\t\tif (!map[name]) {\r\n\t\t\t\t\tself.enable(knode);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tself.disableMode = false;\r\n\t\t}\r\n\t\treturn self;\r\n\t}\r\n});\r\nfunction _toolbar(options) {\r\n\treturn new KToolbar(options);\r\n}\r\nK.ToolbarClass = KToolbar;\r\nK.toolbar = _toolbar;\r\n\n\r\r\nfunction KMenu(options) {\r\n\tthis.init(options);\r\n}\r\n_extend(KMenu, KWidget, {\r\n\tinit : function(options) {\r\n\t\tvar self = this;\r\n\t\toptions.z = options.z || 811213;\r\n\t\tKMenu.parent.init.call(self, options);\r\n\t\tself.centerLineMode = _undef(options.centerLineMode, true);\r\n\t\tself.div.addClass('ke-menu').bind('click,mousedown', function(e){\r\n\t\t\te.stopPropagation();\r\n\t\t}).attr('unselectable', 'on');\r\n\t},\r\n\taddItem : function(item) {\r\n\t\tvar self = this;\r\n\t\tif (item.title === '-') {\r\n\t\t\tself.div.append(K('<div class=\"ke-menu-separator\"></div>'));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar itemDiv = K('<div class=\"ke-menu-item\" unselectable=\"on\"></div>'),\r\n\t\t\tleftDiv = K('<div class=\"ke-inline-block ke-menu-item-left\"></div>'),\r\n\t\t\trightDiv = K('<div class=\"ke-inline-block ke-menu-item-right\"></div>'),\r\n\t\t\theight = _addUnit(item.height),\r\n\t\t\ticonClass = _undef(item.iconClass, '');\r\n\t\tself.div.append(itemDiv);\r\n\t\tif (height) {\r\n\t\t\titemDiv.css('height', height);\r\n\t\t\trightDiv.css('line-height', height);\r\n\t\t}\r\n\t\tvar centerDiv;\r\n\t\tif (self.centerLineMode) {\r\n\t\t\tcenterDiv = K('<div class=\"ke-inline-block ke-menu-item-center\"></div>');\r\n\t\t\tif (height) {\r\n\t\t\t\tcenterDiv.css('height', height);\r\n\t\t\t}\r\n\t\t}\r\n\t\titemDiv.mouseover(function(e) {\r\n\t\t\tK(this).addClass('ke-menu-item-on');\r\n\t\t\tif (centerDiv) {\r\n\t\t\t\tcenterDiv.addClass('ke-menu-item-center-on');\r\n\t\t\t}\r\n\t\t})\r\n\t\t.mouseout(function(e) {\r\n\t\t\tK(this).removeClass('ke-menu-item-on');\r\n\t\t\tif (centerDiv) {\r\n\t\t\t\tcenterDiv.removeClass('ke-menu-item-center-on');\r\n\t\t\t}\r\n\t\t})\r\n\t\t.click(function(e) {\r\n\t\t\titem.click.call(K(this));\r\n\t\t\te.stopPropagation();\r\n\t\t})\r\n\t\t.append(leftDiv);\r\n\t\tif (centerDiv) {\r\n\t\t\titemDiv.append(centerDiv);\r\n\t\t}\r\n\t\titemDiv.append(rightDiv);\r\n\t\tif (item.checked) {\r\n\t\t\ticonClass = 'ke-icon-checked';\r\n\t\t}\r\n\t\tif (iconClass !== '') {\r\n\t\t\tleftDiv.html('<span class=\"ke-inline-block ke-toolbar-icon ke-toolbar-icon-url ' + iconClass + '\"></span>');\r\n\t\t}\r\n\t\trightDiv.html(item.title);\r\n\t\treturn self;\r\n\t},\r\n\tremove : function() {\r\n\t\tvar self = this;\r\n\t\tif (self.options.beforeRemove) {\r\n\t\t\tself.options.beforeRemove.call(self);\r\n\t\t}\r\n\t\tK('.ke-menu-item', self.div[0]).unbind();\r\n\t\tKMenu.parent.remove.call(self);\r\n\t\treturn self;\r\n\t}\r\n});\r\nfunction _menu(options) {\r\n\treturn new KMenu(options);\r\n}\r\nK.MenuClass = KMenu;\r\nK.menu = _menu;\r\n\n\r\r\nfunction KColorPicker(options) {\r\n\tthis.init(options);\r\n}\r\n_extend(KColorPicker, KWidget, {\r\n\tinit : function(options) {\r\n\t\tvar self = this;\r\n\t\toptions.z = options.z || 811213;\r\n\t\tKColorPicker.parent.init.call(self, options);\r\n\t\tvar colors = options.colors || [\r\n\t\t\t['#E53333', '#E56600', '#FF9900', '#64451D', '#DFC5A4', '#FFE500'],\r\n\t\t\t['#009900', '#006600', '#99BB00', '#B8D100', '#60D978', '#00D5FF'],\r\n\t\t\t['#337FE5', '#003399', '#4C33E5', '#9933E5', '#CC33E5', '#EE33EE'],\r\n\t\t\t['#FFFFFF', '#CCCCCC', '#999999', '#666666', '#333333', '#000000']\r\n\t\t];\r\n\t\tself.selectedColor = (options.selectedColor || '').toLowerCase();\r\n\t\tself._cells = [];\r\n\t\tself.div.addClass('ke-colorpicker').bind('click,mousedown', function(e){\r\n\t\t\te.stopPropagation();\r\n\t\t}).attr('unselectable', 'on');\r\n\t\tvar table = self.doc.createElement('table');\r\n\t\tself.div.append(table);\r\n\t\ttable.className = 'ke-colorpicker-table';\r\n\t\ttable.cellPadding = 0;\r\n\t\ttable.cellSpacing = 0;\r\n\t\ttable.border = 0;\r\n\t\tvar row = table.insertRow(0), cell = row.insertCell(0);\r\n\t\tcell.colSpan = colors[0].length;\r\n\t\tself._addAttr(cell, '', 'ke-colorpicker-cell-top');\r\n\t\tfor (var i = 0; i < colors.length; i++) {\r\n\t\t\trow = table.insertRow(i + 1);\r\n\t\t\tfor (var j = 0; j < colors[i].length; j++) {\r\n\t\t\t\tcell = row.insertCell(j);\r\n\t\t\t\tself._addAttr(cell, colors[i][j], 'ke-colorpicker-cell');\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_addAttr : function(cell, color, cls) {\r\n\t\tvar self = this;\r\n\t\tcell = K(cell).addClass(cls);\r\n\t\tif (self.selectedColor === color.toLowerCase()) {\r\n\t\t\tcell.addClass('ke-colorpicker-cell-selected');\r\n\t\t}\r\n\t\tcell.attr('title', color || self.options.noColor);\r\n\t\tcell.mouseover(function(e) {\r\n\t\t\tK(this).addClass('ke-colorpicker-cell-on');\r\n\t\t});\r\n\t\tcell.mouseout(function(e) {\r\n\t\t\tK(this).removeClass('ke-colorpicker-cell-on');\r\n\t\t});\r\n\t\tcell.click(function(e) {\r\n\t\t\te.stop();\r\n\t\t\tself.options.click.call(K(this), color);\r\n\t\t});\r\n\t\tif (color) {\r\n\t\t\tcell.append(K('<div class=\"ke-colorpicker-cell-color\" unselectable=\"on\"></div>').css('background-color', color));\r\n\t\t} else {\r\n\t\t\tcell.html(self.options.noColor);\r\n\t\t}\r\n\t\tK(cell).attr('unselectable', 'on');\r\n\t\tself._cells.push(cell);\r\n\t},\r\n\tremove : function() {\r\n\t\tvar self = this;\r\n\t\t_each(self._cells, function() {\r\n\t\t\tthis.unbind();\r\n\t\t});\r\n\t\tKColorPicker.parent.remove.call(self);\r\n\t\treturn self;\r\n\t}\r\n});\r\nfunction _colorpicker(options) {\r\n\treturn new KColorPicker(options);\r\n}\r\nK.ColorPickerClass = KColorPicker;\r\nK.colorpicker = _colorpicker;\r\n\n\r\nfunction KUploadButton(options) {\r\n\tthis.init(options);\r\n}\r\n_extend(KUploadButton, {\r\n\tinit : function(options) {\r\n\t\tvar self = this,\r\n\t\t\tbutton = K(options.button),\r\n\t\t\tfieldName = options.fieldName || 'file',\r\n\t\t\turl = options.url || '',\r\n\t\t\ttitle = button.val(),\r\n\t\t\textraParams = options.extraParams || {},\r\n\t\t\tcls = button[0].className || '',\r\n\t\t\ttarget = options.target || 'kindeditor_upload_iframe_' + new Date().getTime();\r\n\t\toptions.afterError = options.afterError || function(str) {\r\n\t\t\talert(str);\r\n\t\t};\r\n\t\tvar hiddenElements = [];\r\n\t\tfor(var k in extraParams){\r\n\t\t\thiddenElements.push('<input type=\"hidden\" name=\"' + k + '\" value=\"' + extraParams[k] + '\" />');\r\n\t\t}\r\n\t\tvar html = [\r\n\t\t\t'<div class=\"ke-inline-block ' + cls + '\">',\r\n\t\t\t(options.target ? '' : '<iframe name=\"' + target + '\" style=\"display:none;\"></iframe>'),\r\n\t\t\t(options.form ? '<div class=\"ke-upload-area\">' : '<form class=\"ke-upload-area ke-form\" method=\"post\" enctype=\"multipart/form-data\" target=\"' + target + '\" action=\"' + url + '\">'),\r\n\t\t\t'<span class=\"ke-button-common\">',\r\n\t\t\thiddenElements.join(''),\r\n\t\t\t'<input type=\"button\" class=\"ke-button-common ke-button\" value=\"' + title + '\" />',\r\n\t\t\t'</span>',\r\n\t\t\t'<input type=\"file\" class=\"ke-upload-file\" name=\"' + fieldName + '\" tabindex=\"-1\" />',\r\n\t\t\t(options.form ? '</div>' : '</form>'),\r\n\t\t\t'</div>'].join('');\r\n\t\tvar div = K(html, button.doc);\r\n\t\tbutton.hide();\r\n\t\tbutton.before(div);\r\n\t\tself.div = div;\r\n\t\tself.button = button;\r\n\t\tself.iframe = options.target ? K('iframe[name=\"' + target + '\"]') : K('iframe', div);\r\n\t\tself.form = options.form ? K(options.form) : K('form', div);\r\n\t\tself.fileBox = K('.ke-upload-file', div);\r\n\t\tvar width = options.width || K('.ke-button-common', div).width();\r\n\t\tK('.ke-upload-area', div).width(width);\r\n\t\tself.options = options;\r\n\t},\r\n\tsubmit : function() {\r\n\t\tvar self = this,\r\n\t\t\tiframe = self.iframe;\r\n\t\tiframe.bind('load', function() {\r\n\t\t\tiframe.unbind();\r\n\t\t\tvar tempForm = document.createElement('form');\r\n\t\t\tself.fileBox.before(tempForm);\r\n\t\t\tK(tempForm).append(self.fileBox);\r\n\t\t\ttempForm.reset();\r\n\t\t\tK(tempForm).remove(true);\r\n\t\t\tvar doc = K.iframeDoc(iframe),\r\n\t\t\t\tpre = doc.getElementsByTagName('pre')[0],\r\n\t\t\t\tstr = '', data;\r\n\t\t\tif (pre) {\r\n\t\t\t\tstr = pre.innerHTML;\r\n\t\t\t} else {\r\n\t\t\t\tstr = doc.body.innerHTML;\r\n\t\t\t}\r\n\t\t\tstr = _unescape(str);\r\n\t\t\tiframe[0].src = 'javascript:false';\r\n\t\t\ttry {\r\n\t\t\t\tdata = K.json(str);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tself.options.afterError.call(self, '<!doctype html><html>' + doc.body.parentNode.innerHTML + '</html>');\r\n\t\t\t}\r\n\t\t\tif (data) {\r\n\t\t\t\tself.options.afterUpload.call(self, data);\r\n\t\t\t}\r\n\t\t});\r\n\t\tself.form[0].submit();\r\n\t\treturn self;\r\n\t},\r\n\tremove : function() {\r\n\t\tvar self = this;\r\n\t\tif (self.fileBox) {\r\n\t\t\tself.fileBox.unbind();\r\n\t\t}\r\n\t\tself.iframe.remove();\r\n\t\tself.div.remove();\r\n\t\tself.button.show();\r\n\t\treturn self;\r\n\t}\r\n});\r\nfunction _uploadbutton(options) {\r\n\treturn new KUploadButton(options);\r\n}\r\nK.UploadButtonClass = KUploadButton;\r\nK.uploadbutton = _uploadbutton;\r\n\n\r\nfunction _createButton(arg) {\r\n\targ = arg || {};\r\n\tvar name = arg.name || '',\r\n\t\tspan = K('<span class=\"ke-button-common ke-button-outer\" title=\"' + name + '\"></span>'),\r\n\t\tbtn = K('<input class=\"ke-button-common ke-button\" type=\"button\" value=\"' + name + '\" />');\r\n\tif (arg.click) {\r\n\t\tbtn.click(arg.click);\r\n\t}\r\n\tspan.append(btn);\r\n\treturn span;\r\n}\r\n\r\r\nfunction KDialog(options) {\r\n\tthis.init(options);\r\n}\r\n_extend(KDialog, KWidget, {\r\n\tinit : function(options) {\r\n\t\tvar self = this;\r\n\t\tvar shadowMode = _undef(options.shadowMode, true);\r\n\t\toptions.z = options.z || 811213;\r\n\t\toptions.shadowMode = false;\r\n\t\toptions.autoScroll = _undef(options.autoScroll, true);\r\n\t\tKDialog.parent.init.call(self, options);\r\n\t\tvar title = options.title,\r\n\t\t\tbody = K(options.body, self.doc),\r\n\t\t\tpreviewBtn = options.previewBtn,\r\n\t\t\tyesBtn = options.yesBtn,\r\n\t\t\tnoBtn = options.noBtn,\r\n\t\t\tcloseBtn = options.closeBtn,\r\n\t\t\tshowMask = _undef(options.showMask, true);\r\n\t\tself.div.addClass('ke-dialog').bind('click,mousedown', function(e){\r\n\t\t\te.stopPropagation();\r\n\t\t});\r\n\t\tvar contentDiv = K('<div class=\"ke-dialog-content\"></div>').appendTo(self.div);\r\n\t\tif (_IE && _V < 7) {\r\n\t\t\tself.iframeMask = K('<iframe src=\"about:blank\" class=\"ke-dialog-shadow\"></iframe>').appendTo(self.div);\r\n\t\t} else if (shadowMode) {\r\n\t\t\tK('<div class=\"ke-dialog-shadow\"></div>').appendTo(self.div);\r\n\t\t}\r\n\t\tvar headerDiv = K('<div class=\"ke-dialog-header\"></div>');\r\n\t\tcontentDiv.append(headerDiv);\r\n\t\theaderDiv.html(title);\r\n\t\tself.closeIcon = K('<span class=\"ke-dialog-icon-close\" title=\"' + closeBtn.name + '\"></span>').click(closeBtn.click);\r\n\t\theaderDiv.append(self.closeIcon);\r\n\t\tself.draggable({\r\n\t\t\tclickEl : headerDiv,\r\n\t\t\tbeforeDrag : options.beforeDrag\r\n\t\t});\r\n\t\tvar bodyDiv = K('<div class=\"ke-dialog-body\"></div>');\r\n\t\tcontentDiv.append(bodyDiv);\r\n\t\tbodyDiv.append(body);\r\n\t\tvar footerDiv = K('<div class=\"ke-dialog-footer\"></div>');\r\n\t\tif (previewBtn || yesBtn || noBtn) {\r\n\t\t\tcontentDiv.append(footerDiv);\r\n\t\t}\r\n\t\t_each([\r\n\t\t\t{ btn : previewBtn, name : 'preview' },\r\n\t\t\t{ btn : yesBtn, name : 'yes' },\r\n\t\t\t{ btn : noBtn, name : 'no' }\r\n\t\t], function() {\r\n\t\t\tif (this.btn) {\r\n\t\t\t\tvar button = _createButton(this.btn);\r\n\t\t\t\tbutton.addClass('ke-dialog-' + this.name);\r\n\t\t\t\tfooterDiv.append(button);\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (self.height) {\r\n\t\t\tbodyDiv.height(_removeUnit(self.height) - headerDiv.height() - footerDiv.height());\r\n\t\t}\r\n\t\tself.div.width(self.div.width());\r\n\t\tself.div.height(self.div.height());\r\n\t\tself.mask = null;\r\n\t\tif (showMask) {\r\n\t\t\tvar docEl = _docElement(self.doc),\r\n\t\t\t\tdocWidth = Math.max(docEl.scrollWidth, docEl.clientWidth),\r\n\t\t\t\tdocHeight = Math.max(docEl.scrollHeight, docEl.clientHeight);\r\n\t\t\tself.mask = _widget({\r\n\t\t\t\tx : 0,\r\n\t\t\t\ty : 0,\r\n\t\t\t\tz : self.z - 1,\r\n\t\t\t\tcls : 'ke-dialog-mask',\r\n\t\t\t\twidth : docWidth,\r\n\t\t\t\theight : docHeight\r\n\t\t\t});\r\n\t\t}\r\n\t\tself.autoPos(self.div.width(), self.div.height());\r\n\t\tself.footerDiv = footerDiv;\r\n\t\tself.bodyDiv = bodyDiv;\r\n\t\tself.headerDiv = headerDiv;\r\n\t\tself.isLoading = false;\r\n\t},\r\n\tsetMaskIndex : function(z) {\r\n\t\tvar self = this;\r\n\t\tself.mask.div.css('z-index', z);\r\n\t},\r\n\tshowLoading : function(msg) {\r\n\t\tmsg = _undef(msg, '');\r\n\t\tvar self = this, body = self.bodyDiv;\r\n\t\tself.loading = K('<div class=\"ke-dialog-loading\"><div class=\"ke-inline-block ke-dialog-loading-content\" style=\"margin-top:' + Math.round(body.height() / 3) + 'px;\">' + msg + '</div></div>')\r\n\t\t\t.width(body.width()).height(body.height())\r\n\t\t\t.css('top', self.headerDiv.height() + 'px');\r\n\t\tbody.css('visibility', 'hidden').after(self.loading);\r\n\t\tself.isLoading = true;\r\n\t\treturn self;\r\n\t},\r\n\thideLoading : function() {\r\n\t\tthis.loading && this.loading.remove();\r\n\t\tthis.bodyDiv.css('visibility', 'visible');\r\n\t\tthis.isLoading = false;\r\n\t\treturn this;\r\n\t},\r\n\tremove : function() {\r\n\t\tvar self = this;\r\n\t\tif (self.options.beforeRemove) {\r\n\t\t\tself.options.beforeRemove.call(self);\r\n\t\t}\r\n\t\tself.mask && self.mask.remove();\r\n\t\tself.iframeMask && self.iframeMask.remove();\r\n\t\tself.closeIcon.unbind();\r\n\t\tK('input', self.div).unbind();\r\n\t\tK('button', self.div).unbind();\r\n\t\tself.footerDiv.unbind();\r\n\t\tself.bodyDiv.unbind();\r\n\t\tself.headerDiv.unbind();\r\n\t\tK('iframe', self.div).each(function() {\r\n\t\t\tK(this).remove();\r\n\t\t});\r\n\t\tKDialog.parent.remove.call(self);\r\n\t\treturn self;\r\n\t}\r\n});\r\nfunction _dialog(options) {\r\n\treturn new KDialog(options);\r\n}\r\nK.DialogClass = KDialog;\r\nK.dialog = _dialog;\r\n\n\r\nfunction _tabs(options) {\r\n\tvar self = _widget(options),\r\n\t\tremove = self.remove,\r\n\t\tafterSelect = options.afterSelect,\r\n\t\tdiv = self.div,\r\n\t\tliList = [];\r\n\tdiv.addClass('ke-tabs')\r\n\t\t.bind('contextmenu,mousedown,mousemove', function(e) {\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\tvar ul = K('<ul class=\"ke-tabs-ul ke-clearfix\"></ul>');\r\n\tdiv.append(ul);\r\n\tself.add = function(tab) {\r\n\t\tvar li = K('<li class=\"ke-tabs-li\">' + tab.title + '</li>');\r\n\t\tli.data('tab', tab);\r\n\t\tliList.push(li);\r\n\t\tul.append(li);\r\n\t};\r\n\tself.selectedIndex = 0;\r\n\tself.select = function(index) {\r\n\t\tself.selectedIndex = index;\r\n\t\t_each(liList, function(i, li) {\r\n\t\t\tli.unbind();\r\n\t\t\tif (i === index) {\r\n\t\t\t\tli.addClass('ke-tabs-li-selected');\r\n\t\t\t\tK(li.data('tab').panel).show('');\r\n\t\t\t} else {\r\n\t\t\t\tli.removeClass('ke-tabs-li-selected').removeClass('ke-tabs-li-on')\r\n\t\t\t\t.mouseover(function() {\r\n\t\t\t\t\tK(this).addClass('ke-tabs-li-on');\r\n\t\t\t\t})\r\n\t\t\t\t.mouseout(function() {\r\n\t\t\t\t\tK(this).removeClass('ke-tabs-li-on');\r\n\t\t\t\t})\r\n\t\t\t\t.click(function() {\r\n\t\t\t\t\tself.select(i);\r\n\t\t\t\t});\r\n\t\t\t\tK(li.data('tab').panel).hide();\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (afterSelect) {\r\n\t\t\tafterSelect.call(self, index);\r\n\t\t}\r\n\t};\r\n\tself.remove = function() {\r\n\t\t_each(liList, function() {\r\n\t\t\tthis.remove();\r\n\t\t});\r\n\t\tul.remove();\r\n\t\tremove.call(self);\r\n\t};\r\n\treturn self;\r\n}\r\nK.tabs = _tabs;\r\n\n\r\nfunction _loadScript(url, fn) {\r\n\tvar head = document.getElementsByTagName('head')[0] || (_QUIRKS ? document.body : document.documentElement),\r\n\t\tscript = document.createElement('script');\r\n\thead.appendChild(script);\r\n\tscript.src = url;\r\n\tscript.charset = 'utf-8';\r\n\tscript.onload = script.onreadystatechange = function() {\r\n\t\tif (!this.readyState || this.readyState === 'loaded') {\r\n\t\t\tif (fn) {\r\n\t\t\t\tfn();\r\n\t\t\t}\r\n\t\t\tscript.onload = script.onreadystatechange = null;\r\n\t\t\thead.removeChild(script);\r\n\t\t}\r\n\t};\r\n}\r\n\r\r\nfunction _chopQuery(url) {\r\n\tvar index = url.indexOf('?');\r\n\treturn index > 0 ? url.substr(0, index) : url;\r\n}\r\nfunction _loadStyle(url) {\r\n\tvar head = document.getElementsByTagName('head')[0] || (_QUIRKS ? document.body : document.documentElement),\r\n\t\tlink = document.createElement('link'),\r\n\t\tabsoluteUrl = _chopQuery(_formatUrl(url, 'absolute'));\r\n\tvar links = K('link[rel=\"stylesheet\"]', head);\r\n\tfor (var i = 0, len = links.length; i < len; i++) {\r\n\t\tif (_chopQuery(_formatUrl(links[i].href, 'absolute')) === absoluteUrl) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\thead.appendChild(link);\r\n\tlink.href = url;\r\n\tlink.rel = 'stylesheet';\r\n}\r\nfunction _ajax(url, fn, method, param, dataType) {\r\n\tmethod = method || 'GET';\r\n\tdataType = dataType || 'json';\r\n\tvar xhr = window.XMLHttpRequest ? new window.XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');\r\n\txhr.open(method, url, true);\r\n\txhr.onreadystatechange = function () {\r\n\t\tif (xhr.readyState == 4 && xhr.status == 200) {\r\n\t\t\tif (fn) {\r\n\t\t\t\tvar data = _trim(xhr.responseText);\r\n\t\t\t\tif (dataType == 'json') {\r\n\t\t\t\t\tdata = _json(data);\r\n\t\t\t\t}\r\n\t\t\t\tfn(data);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tif (method == 'POST') {\r\n\t\tvar params = [];\r\n\t\t_each(param, function(key, val) {\r\n\t\t\tparams.push(encodeURIComponent(key) + '=' + encodeURIComponent(val));\r\n\t\t});\r\n\t\ttry {\r\n\t\t\txhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n\t\t} catch (e) {}\r\n\t\txhr.send(params.join('&'));\r\n\t} else {\r\n\t\txhr.send(null);\r\n\t}\r\n}\r\nK.loadScript = _loadScript;\r\nK.loadStyle = _loadStyle;\r\nK.ajax = _ajax;\r\n\n\r\nvar _plugins = {};\r\nfunction _plugin(name, fn) {\r\n\tif (name === undefined) {\r\n\t\treturn _plugins;\r\n\t}\r\n\tif (!fn) {\r\n\t\treturn _plugins[name];\r\n\t}\r\n\t_plugins[name] = fn;\r\n}\r\nvar _language = {};\r\nfunction _parseLangKey(key) {\r\n\tvar match, ns = 'core';\r\n\tif ((match = /^(\\w+)\\.(\\w+)$/.exec(key))) {\r\n\t\tns = match[1];\r\n\t\tkey = match[2];\r\n\t}\r\n\treturn { ns : ns, key : key };\r\n}\r\nfunction _lang(mixed, langType) {\r\n\tlangType = langType === undefined ? K.options.langType : langType;\r\n\tif (typeof mixed === 'string') {\r\n\t\tif (!_language[langType]) {\r\n\t\t\treturn 'no language';\r\n\t\t}\r\n\t\tvar pos = mixed.length - 1;\r\n\t\tif (mixed.substr(pos) === '.') {\r\n\t\t\treturn _language[langType][mixed.substr(0, pos)];\r\n\t\t}\r\n\t\tvar obj = _parseLangKey(mixed);\r\n\t\treturn _language[langType][obj.ns][obj.key];\r\n\t}\r\n\t_each(mixed, function(key, val) {\r\n\t\tvar obj = _parseLangKey(key);\r\n\t\tif (!_language[langType]) {\r\n\t\t\t_language[langType] = {};\r\n\t\t}\r\n\t\tif (!_language[langType][obj.ns]) {\r\n\t\t\t_language[langType][obj.ns] = {};\r\n\t\t}\r\n\t\t_language[langType][obj.ns][obj.key] = val;\r\n\t});\r\n}\r\n\r\r\nfunction _getImageFromRange(range, fn) {\r\n\tif (range.collapsed) {\r\n\t\treturn;\r\n\t}\r\n\trange = range.cloneRange().up();\r\n\tvar sc = range.startContainer, so = range.startOffset;\r\n\tif (!_WEBKIT && !range.isControl()) {\r\n\t\treturn;\r\n\t}\r\n\tvar img = K(sc.childNodes[so]);\r\n\tif (!img || img.name != 'img') {\r\n\t\treturn;\r\n\t}\r\n\tif (fn(img)) {\r\n\t\treturn img;\r\n\t}\r\n}\r\nfunction _bindContextmenuEvent() {\r\n\tvar self = this, doc = self.edit.doc;\r\n\tK(doc).contextmenu(function(e) {\r\n\t\tif (self.menu) {\r\n\t\t\tself.hideMenu();\r\n\t\t}\r\n\t\tif (!self.useContextmenu) {\r\n\t\t\te.preventDefault();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (self._contextmenus.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar maxWidth = 0, items = [];\r\n\t\t_each(self._contextmenus, function() {\r\n\t\t\tif (this.title == '-') {\r\n\t\t\t\titems.push(this);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.cond && this.cond()) {\r\n\t\t\t\titems.push(this);\r\n\t\t\t\tif (this.width && this.width > maxWidth) {\r\n\t\t\t\t\tmaxWidth = this.width;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\twhile (items.length > 0 && items[0].title == '-') {\r\n\t\t\titems.shift();\r\n\t\t}\r\n\t\twhile (items.length > 0 && items[items.length - 1].title == '-') {\r\n\t\t\titems.pop();\r\n\t\t}\r\n\t\tvar prevItem = null;\r\n\t\t_each(items, function(i) {\r\n\t\t\tif (this.title == '-' && prevItem.title == '-') {\r\n\t\t\t\tdelete items[i];\r\n\t\t\t}\r\n\t\t\tprevItem = this;\r\n\t\t});\r\n\t\tif (items.length > 0) {\r\n\t\t\te.preventDefault();\r\n\t\t\tvar pos = K(self.edit.iframe).pos(),\r\n\t\t\t\tmenu = _menu({\r\n\t\t\t\t\tx : pos.x + e.clientX,\r\n\t\t\t\t\ty : pos.y + e.clientY,\r\n\t\t\t\t\twidth : maxWidth,\r\n\t\t\t\t\tcss : { visibility: 'hidden' },\r\n\t\t\t\t\tshadowMode : self.shadowMode\r\n\t\t\t\t});\r\n\t\t\t_each(items, function() {\r\n\t\t\t\tif (this.title) {\r\n\t\t\t\t\tmenu.addItem(this);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tvar docEl = _docElement(menu.doc),\r\n\t\t\t\tmenuHeight = menu.div.height();\r\n\t\t\tif (e.clientY + menuHeight >= docEl.clientHeight - 100) {\r\n\t\t\t\tmenu.pos(menu.x, _removeUnit(menu.y) - menuHeight);\r\n\t\t\t}\r\n\t\t\tmenu.div.css('visibility', 'visible');\r\n\t\t\tself.menu = menu;\r\n\t\t}\r\n\t});\r\n}\r\nfunction _bindNewlineEvent() {\r\n\tvar self = this, doc = self.edit.doc, newlineTag = self.newlineTag;\r\n\tif (_IE && newlineTag !== 'br') {\r\n\t\treturn;\r\n\t}\r\n\tif (_GECKO && _V < 3 && newlineTag !== 'p') {\r\n\t\treturn;\r\n\t}\r\n\tif (_OPERA && _V < 9) {\r\n\t\treturn;\r\n\t}\r\n\tvar brSkipTagMap = _toMap('h1,h2,h3,h4,h5,h6,pre,li'),\r\n\t\tpSkipTagMap = _toMap('p,h1,h2,h3,h4,h5,h6,pre,li,blockquote');\r\n\tfunction getAncestorTagName(range) {\r\n\t\tvar ancestor = K(range.commonAncestor());\r\n\t\twhile (ancestor) {\r\n\t\t\tif (ancestor.type == 1 && !ancestor.isStyle()) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tancestor = ancestor.parent();\r\n\t\t}\r\n\t\treturn ancestor.name;\r\n\t}\r\n\tK(doc).keydown(function(e) {\r\n\t\tif (e.which != 13 || e.shiftKey || e.ctrlKey || e.altKey) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tself.cmd.selection();\r\n\t\tvar tagName = getAncestorTagName(self.cmd.range);\r\n\t\tif (tagName == 'marquee' || tagName == 'select') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (newlineTag === 'br' && !brSkipTagMap[tagName]) {\r\n\t\t\te.preventDefault();\r\n\t\t\tself.insertHtml('<br />' + (_IE && _V < 9 ? '' : '\\u200B'));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!pSkipTagMap[tagName]) {\r\n\t\t\t_nativeCommand(doc, 'formatblock', '<p>');\r\n\t\t}\r\n\t});\r\n\tK(doc).keyup(function(e) {\r\n\t\tif (e.which != 13 || e.shiftKey || e.ctrlKey || e.altKey) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (newlineTag == 'br') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (_GECKO) {\r\n\t\t\tvar root = self.cmd.commonAncestor('p');\r\n\t\t\tvar a = self.cmd.commonAncestor('a');\r\n\t\t\tif (a && a.text() == '') {\r\n\t\t\t\ta.remove(true);\r\n\t\t\t\tself.cmd.range.selectNodeContents(root[0]).collapse(true);\r\n\t\t\t\tself.cmd.select();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tself.cmd.selection();\r\n\t\tvar tagName = getAncestorTagName(self.cmd.range);\r\n\t\tif (tagName == 'marquee' || tagName == 'select') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!pSkipTagMap[tagName]) {\r\n\t\t\t_nativeCommand(doc, 'formatblock', '<p>');\r\n\t\t}\r\n\t\tvar div = self.cmd.commonAncestor('div');\r\n\t\tif (div) {\r\n\t\t\tvar p = K('<p></p>'),\r\n\t\t\t\tchild = div[0].firstChild;\r\n\t\t\twhile (child) {\r\n\t\t\t\tvar next = child.nextSibling;\r\n\t\t\t\tp.append(child);\r\n\t\t\t\tchild = next;\r\n\t\t\t}\r\n\t\t\tdiv.before(p);\r\n\t\t\tdiv.remove();\r\n\t\t\tself.cmd.range.selectNodeContents(p[0]);\r\n\t\t\tself.cmd.select();\r\n\t\t}\r\n\t});\r\n}\r\nfunction _bindTabEvent() {\r\n\tvar self = this, doc = self.edit.doc;\r\n\tK(doc).keydown(function(e) {\r\n\t\tif (e.which == 9) {\r\n\t\t\te.preventDefault();\r\n\t\t\tif (self.afterTab) {\r\n\t\t\t\tself.afterTab.call(self, e);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar cmd = self.cmd, range = cmd.range;\r\n\t\t\trange.shrink();\r\n\t\t\tif (range.collapsed && range.startContainer.nodeType == 1) {\r\n\t\t\t\trange.insertNode(K('@&nbsp;', doc)[0]);\r\n\t\t\t\tcmd.select();\r\n\t\t\t}\r\n\t\t\tself.insertHtml('&nbsp;&nbsp;&nbsp;&nbsp;');\r\n\t\t}\r\n\t});\r\n}\r\nfunction _bindFocusEvent() {\r\n\tvar self = this;\r\n\tK(self.edit.textarea[0], self.edit.win).focus(function(e) {\r\n\t\tif (self.afterFocus) {\r\n\t\t\tself.afterFocus.call(self, e);\r\n\t\t}\r\n\t}).blur(function(e) {\r\n\t\tif (self.afterBlur) {\r\n\t\t\tself.afterBlur.call(self, e);\r\n\t\t}\r\n\t});\r\n}\r\nfunction _removeBookmarkTag(html) {\r\n\treturn _trim(html.replace(/<span [^>]*id=\"?__kindeditor_bookmark_\\w+_\\d+__\"?[^>]*><\\/span>/ig, ''));\r\n}\r\nfunction _removeTempTag(html) {\r\n\treturn html.replace(/<div[^>]+class=\"?__kindeditor_paste__\"?[^>]*>[\\s\\S]*?<\\/div>/ig, '');\r\n}\r\nfunction _addBookmarkToStack(stack, bookmark) {\r\n\tif (stack.length === 0) {\r\n\t\tstack.push(bookmark);\r\n\t\treturn;\r\n\t}\r\n\tvar prev = stack[stack.length - 1];\r\n\tif (_removeBookmarkTag(bookmark.html) !== _removeBookmarkTag(prev.html)) {\r\n\t\tstack.push(bookmark);\r\n\t}\r\n}\r\n\r\r\r\nfunction _undoToRedo(fromStack, toStack) {\r\n\tvar self = this, edit = self.edit,\r\n\t\tbody = edit.doc.body,\r\n\t\trange, bookmark;\r\n\tif (fromStack.length === 0) {\r\n\t\treturn self;\r\n\t}\r\n\tif (edit.designMode) {\r\n\t\trange = self.cmd.range;\r\n\t\tbookmark = range.createBookmark(true);\r\n\t\tbookmark.html = body.innerHTML;\r\n\t} else {\r\n\t\tbookmark = {\r\n\t\t\thtml : body.innerHTML\r\n\t\t};\r\n\t}\r\n\t_addBookmarkToStack(toStack, bookmark);\r\n\tvar prev = fromStack.pop();\r\n\tif (_removeBookmarkTag(bookmark.html) === _removeBookmarkTag(prev.html) && fromStack.length > 0) {\r\n\t\tprev = fromStack.pop();\r\n\t}\r\n\tif (edit.designMode) {\r\n\t\tedit.html(prev.html);\r\n\t\tif (prev.start) {\r\n\t\t\trange.moveToBookmark(prev);\r\n\t\t\tself.select();\r\n\t\t}\r\n\t} else {\r\n\t\tK(body).html(_removeBookmarkTag(prev.html));\r\n\t}\r\n\treturn self;\r\n}\r\nfunction KEditor(options) {\r\n\tvar self = this;\r\n\tself.options = {};\r\n\tfunction setOption(key, val) {\r\n\t\tif (KEditor.prototype[key] === undefined) {\r\n\t\t\tself[key] = val;\r\n\t\t}\r\n\t\tself.options[key] = val;\r\n\t}\r\n\t_each(options, function(key, val) {\r\n\t\tsetOption(key, options[key]);\r\n\t});\r\n\t_each(K.options, function(key, val) {\r\n\t\tif (self[key] === undefined) {\r\n\t\t\tsetOption(key, val);\r\n\t\t}\r\n\t});\r\n\tvar se = K(self.srcElement || '<textarea/>');\r\n\tif (!self.width) {\r\n\t\tself.width = se[0].style.width || se.width();\r\n\t}\r\n\tif (!self.height) {\r\n\t\tself.height = se[0].style.height || se.height();\r\n\t}\r\n\tsetOption('width', _undef(self.width, self.minWidth));\r\n\tsetOption('height', _undef(self.height, self.minHeight));\r\n\tsetOption('width', _addUnit(self.width));\r\n\tsetOption('height', _addUnit(self.height));\r\n\tif (_MOBILE && (!_IOS || _V < 534)) {\r\n\t\tself.designMode = false;\r\n\t}\r\n\tself.srcElement = se;\r\n\tself.initContent = '';\r\n\tself.plugin = {};\r\n\tself.isCreated = false;\r\n\tself._handlers = {};\r\n\tself._contextmenus = [];\r\n\tself._undoStack = [];\r\n\tself._redoStack = [];\r\n\tself._firstAddBookmark = true;\r\n\tself.menu = self.contextmenu = null;\r\n\tself.dialogs = [];\r\n}\r\nKEditor.prototype = {\r\n\tlang : function(mixed) {\r\n\t\treturn _lang(mixed, this.langType);\r\n\t},\r\n\tloadPlugin : function(name, fn) {\r\n\t\tvar self = this;\r\n\t\tvar _pluginStatus = this._pluginStatus;\r\n\t\tif (!_pluginStatus) {\r\n\t\t\t_pluginStatus = this._pluginStatus = {};\r\n\t\t}\r\n\t\tif (_plugins[name]) {\r\n\t\t\tif (!_isFunction(_plugins[name])) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tself.loadPlugin(name, fn);\r\n\t\t\t\t}, 100);\r\n\t\t\t\treturn self;\r\n\t\t\t}\r\n\t\t\tif(!_pluginStatus[name]) {\r\n\t\t\t\t_plugins[name].call(self, KindEditor);\r\n\t\t\t\t_pluginStatus[name] = 'inited';\r\n\t\t\t}\r\n\t\t\tif (fn) {\r\n\t\t\t\tfn.call(self);\r\n\t\t\t}\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\t_plugins[name] = 'loading';\r\n\t\t_loadScript(self.pluginsPath + name + '/' + name + '.js?ver=' + encodeURIComponent(K.DEBUG ? _TIME : _VERSION), function() {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tif (_plugins[name]) {\r\n\t\t\t\t\tself.loadPlugin(name, fn);\r\n\t\t\t\t}\r\n\t\t\t}, 0);\r\n\t\t});\r\n\t\treturn self;\r\n\t},\r\n\thandler : function(key, fn) {\r\n\t\tvar self = this;\r\n\t\tif (!self._handlers[key]) {\r\n\t\t\tself._handlers[key] = [];\r\n\t\t}\r\n\t\tif (_isFunction(fn)) {\r\n\t\t\tself._handlers[key].push(fn);\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\t_each(self._handlers[key], function() {\r\n\t\t\tfn = this.call(self, fn);\r\n\t\t});\r\n\t\treturn fn;\r\n\t},\r\n\tclickToolbar : function(name, fn) {\r\n\t\tvar self = this, key = 'clickToolbar' + name;\r\n\t\tif (fn === undefined) {\r\n\t\t\tif (self._handlers[key]) {\r\n\t\t\t\treturn self.handler(key);\r\n\t\t\t}\r\n\t\t\tself.loadPlugin(name, function() {\r\n\t\t\t\tself.handler(key);\r\n\t\t\t});\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\treturn self.handler(key, fn);\r\n\t},\r\n\tupdateState : function() {\r\n\t\tvar self = this;\r\n\t\t_each(('justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,' +\r\n\t\t\t'subscript,superscript,bold,italic,underline,strikethrough').split(','), function(i, name) {\r\n\t\t\tself.cmd.state(name) ? self.toolbar.select(name) : self.toolbar.unselect(name);\r\n\t\t});\r\n\t\treturn self;\r\n\t},\r\n\taddContextmenu : function(item) {\r\n\t\tthis._contextmenus.push(item);\r\n\t\treturn this;\r\n\t},\r\n\tafterCreate : function(fn) {\r\n\t\treturn this.handler('afterCreate', fn);\r\n\t},\r\n\tbeforeRemove : function(fn) {\r\n\t\treturn this.handler('beforeRemove', fn);\r\n\t},\r\n\tbeforeGetHtml : function(fn) {\r\n\t\treturn this.handler('beforeGetHtml', fn);\r\n\t},\r\n\tbeforeSetHtml : function(fn) {\r\n\t\treturn this.handler('beforeSetHtml', fn);\r\n\t},\r\n\tafterSetHtml : function(fn) {\r\n\t\treturn this.handler('afterSetHtml', fn);\r\n\t},\r\n\tcreate : function() {\r\n\t\tvar self = this, fullscreenMode = self.fullscreenMode;\r\n\t\tif (self.isCreated) {\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\tif (self.srcElement.data('kindeditor')) {\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\tself.srcElement.data('kindeditor', 'true');\r\n\t\tif (fullscreenMode) {\r\n\t\t\t_docElement().style.overflow = 'hidden';\r\n\t\t} else {\r\n\t\t\t_docElement().style.overflow = '';\r\n\t\t}\r\n\t\tvar width = fullscreenMode ? _docElement().clientWidth + 'px' : self.width,\r\n\t\t\theight = fullscreenMode ? _docElement().clientHeight + 'px' : self.height;\r\n\t\tif ((_IE && _V < 8) || _QUIRKS) {\r\n\t\t\theight = _addUnit(_removeUnit(height) + 2);\r\n\t\t}\r\n\t\tvar container = self.container = K(self.layout);\r\n\t\tif (fullscreenMode) {\r\n\t\t\tK(document.body).append(container);\r\n\t\t} else {\r\n\t\t\tself.srcElement.before(container);\r\n\t\t}\r\n\t\tvar toolbarDiv = K('.toolbar', container),\r\n\t\t\teditDiv = K('.edit', container),\r\n\t\t\tstatusbar = self.statusbar = K('.statusbar', container);\r\n\t\tcontainer.removeClass('container')\r\n\t\t\t.addClass('ke-container ke-container-' + self.themeType).css('width', width);\r\n\t\tif (fullscreenMode) {\r\n\t\t\tcontainer.css({\r\n\t\t\t\tposition : 'absolute',\r\n\t\t\t\tleft : 0,\r\n\t\t\t\ttop : 0,\r\n\t\t\t\t'z-index' : 811211\r\n\t\t\t});\r\n\t\t\tif (!_GECKO) {\r\n\t\t\t\tself._scrollPos = _getScrollPos();\r\n\t\t\t}\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t\tK(document.body).css({\r\n\t\t\t\t'height' : '1px',\r\n\t\t\t\t'overflow' : 'hidden'\r\n\t\t\t});\r\n\t\t\tK(document.body.parentNode).css('overflow', 'hidden');\r\n\t\t\tself._fullscreenExecuted = true;\r\n\t\t} else {\r\n\t\t\tif (self._fullscreenExecuted) {\r\n\t\t\t\tK(document.body).css({\r\n\t\t\t\t\t'height' : '',\r\n\t\t\t\t\t'overflow' : ''\r\n\t\t\t\t});\r\n\t\t\t\tK(document.body.parentNode).css('overflow', '');\r\n\t\t\t}\r\n\t\t\tif (self._scrollPos) {\r\n\t\t\t\twindow.scrollTo(self._scrollPos.x, self._scrollPos.y);\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar htmlList = [];\r\n\t\tK.each(self.items, function(i, name) {\r\n\t\t\tif (name == '|') {\r\n\t\t\t\thtmlList.push('<span class=\"ke-inline-block ke-separator\"></span>');\r\n\t\t\t} else if (name == '/') {\r\n\t\t\t\thtmlList.push('<div class=\"ke-hr\"></div>');\r\n\t\t\t} else {\r\n\t\t\t\thtmlList.push('<span class=\"ke-outline\" data-name=\"' + name + '\" title=\"' + self.lang(name) + '\" unselectable=\"on\">');\r\n\t\t\t\thtmlList.push('<span class=\"ke-toolbar-icon ke-toolbar-icon-url ke-icon-' + name + '\" unselectable=\"on\"></span></span>');\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar toolbar = self.toolbar = _toolbar({\r\n\t\t\tsrc : toolbarDiv,\r\n\t\t\thtml : htmlList.join(''),\r\n\t\t\tnoDisableItems : self.noDisableItems,\r\n\t\t\tclick : function(e, name) {\r\n\t\t\t\te.stop();\r\n\t\t\t\tif (self.menu) {\r\n\t\t\t\t\tvar menuName = self.menu.name;\r\n\t\t\t\t\tself.hideMenu();\r\n\t\t\t\t\tif (menuName === name) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tself.clickToolbar(name);\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar editHeight = _removeUnit(height) - toolbar.div.height();\r\n\t\tvar edit = self.edit = _edit({\r\n\t\t\theight : editHeight > 0 && _removeUnit(height) > self.minHeight ? editHeight : self.minHeight,\r\n\t\t\tsrc : editDiv,\r\n\t\t\tsrcElement : self.srcElement,\r\n\t\t\tdesignMode : self.designMode,\r\n\t\t\tthemesPath : self.themesPath,\r\n\t\t\tbodyClass : self.bodyClass,\r\n\t\t\tcssPath : self.cssPath,\r\n\t\t\tcssData : self.cssData,\r\n\t\t\tbeforeGetHtml : function(html) {\r\n\t\t\t\thtml = self.beforeGetHtml(html);\r\n\t\t\t\thtml = _removeBookmarkTag(_removeTempTag(html));\r\n\t\t\t\treturn _formatHtml(html, self.filterMode ? self.htmlTags : null, self.urlType, self.wellFormatMode, self.indentChar);\r\n\t\t\t},\r\n\t\t\tbeforeSetHtml : function(html) {\r\n\t\t\t\thtml = _formatHtml(html, self.filterMode ? self.htmlTags : null, '', false);\r\n\t\t\t\treturn self.beforeSetHtml(html);\r\n\t\t\t},\r\n\t\t\tafterSetHtml : function() {\r\n\t\t\t\tself.edit = edit = this;\r\n\t\t\t\tself.afterSetHtml();\r\n\t\t\t},\r\n\t\t\tafterCreate : function() {\r\n\t\t\t\tself.edit = edit = this;\r\n\t\t\t\tself.cmd = edit.cmd;\r\n\t\t\t\tself._docMousedownFn = function(e) {\r\n\t\t\t\t\tif (self.menu) {\r\n\t\t\t\t\t\tself.hideMenu();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tK(edit.doc, document).mousedown(self._docMousedownFn);\r\n\t\t\t\t_bindContextmenuEvent.call(self);\r\n\t\t\t\t_bindNewlineEvent.call(self);\r\n\t\t\t\t_bindTabEvent.call(self);\r\n\t\t\t\t_bindFocusEvent.call(self);\r\n\t\t\t\tedit.afterChange(function(e) {\r\n\t\t\t\t\tif (!edit.designMode) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.updateState();\r\n\t\t\t\t\tself.addBookmark();\r\n\t\t\t\t\tif (self.options.afterChange) {\r\n\t\t\t\t\t\tself.options.afterChange.call(self);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tedit.textarea.keyup(function(e) {\r\n\t\t\t\t\tif (!e.ctrlKey && !e.altKey && _INPUT_KEY_MAP[e.which]) {\r\n\t\t\t\t\t\tif (self.options.afterChange) {\r\n\t\t\t\t\t\t\tself.options.afterChange.call(self);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (self.readonlyMode) {\r\n\t\t\t\t\tself.readonly();\r\n\t\t\t\t}\r\n\t\t\t\tself.isCreated = true;\r\n\t\t\t\tif (self.initContent === '') {\r\n\t\t\t\t\tself.initContent = self.html();\r\n\t\t\t\t}\r\n\t\t\t\tif (self._undoStack.length > 0) {\r\n\t\t\t\t\tvar prev = self._undoStack.pop();\r\n\t\t\t\t\tif (prev.start) {\r\n\t\t\t\t\t\tself.html(prev.html);\r\n\t\t\t\t\t\tedit.cmd.range.moveToBookmark(prev);\r\n\t\t\t\t\t\tself.select();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tself.afterCreate();\r\n\t\t\t\tif (self.options.afterCreate) {\r\n\t\t\t\t\tself.options.afterCreate.call(self);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tstatusbar.removeClass('statusbar').addClass('ke-statusbar')\r\n\t\t\t.append('<span class=\"ke-inline-block ke-statusbar-center-icon\"></span>')\r\n\t\t\t.append('<span class=\"ke-inline-block ke-statusbar-right-icon\"></span>');\r\n\t\tif (self._fullscreenResizeHandler) {\r\n\t\t\tK(window).unbind('resize', self._fullscreenResizeHandler);\r\n\t\t\tself._fullscreenResizeHandler = null;\r\n\t\t}\r\n\t\tfunction initResize() {\r\n\t\t\tif (statusbar.height() === 0) {\r\n\t\t\t\tsetTimeout(initResize, 100);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tself.resize(width, height, false);\r\n\t\t}\r\n\t\tinitResize();\r\n\t\tif (fullscreenMode) {\r\n\t\t\tself._fullscreenResizeHandler = function(e) {\r\n\t\t\t\tif (self.isCreated) {\r\n\t\t\t\t\tself.resize(_docElement().clientWidth, _docElement().clientHeight, false);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tK(window).bind('resize', self._fullscreenResizeHandler);\r\n\t\t\ttoolbar.select('fullscreen');\r\n\t\t\tstatusbar.first().css('visibility', 'hidden');\r\n\t\t\tstatusbar.last().css('visibility', 'hidden');\r\n\t\t} else {\r\n\t\t\tif (_GECKO) {\r\n\t\t\t\tK(window).bind('scroll', function(e) {\r\n\t\t\t\t\tself._scrollPos = _getScrollPos();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (self.resizeType > 0) {\r\n\t\t\t\t_drag({\r\n\t\t\t\t\tmoveEl : container,\r\n\t\t\t\t\tclickEl : statusbar,\r\n\t\t\t\t\tmoveFn : function(x, y, width, height, diffX, diffY) {\r\n\t\t\t\t\t\theight += diffY;\r\n\t\t\t\t\t\tself.resize(null, height);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tstatusbar.first().css('visibility', 'hidden');\r\n\t\t\t}\r\n\t\t\tif (self.resizeType === 2) {\r\n\t\t\t\t_drag({\r\n\t\t\t\t\tmoveEl : container,\r\n\t\t\t\t\tclickEl : statusbar.last(),\r\n\t\t\t\t\tmoveFn : function(x, y, width, height, diffX, diffY) {\r\n\t\t\t\t\t\twidth += diffX;\r\n\t\t\t\t\t\theight += diffY;\r\n\t\t\t\t\t\tself.resize(width, height);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tstatusbar.last().css('visibility', 'hidden');\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn self;\r\n\t},\r\n\tremove : function() {\r\n\t\tvar self = this;\r\n\t\tif (!self.isCreated) {\r\n\t\t\treturn self;\r\n\t\t}\r\n\t\tself.beforeRemove();\r\n\t\tself.srcElement.data('kindeditor', '');\r\n\t\tif (self.menu) {\r\n\t\t\tself.hideMenu();\r\n\t\t}\r\n\t\t_each(self.dialogs, function() {\r\n\t\t\tself.hideDialog();\r\n\t\t});\r\n\t\tK(document).unbind('mousedown', self._docMousedownFn);\r\n\t\tself.toolbar.remove();\r\n\t\tself.edit.remove();\r\n\t\tself.statusbar.last().unbind();\r\n\t\tself.statusbar.unbind();\r\n\t\tself.container.remove();\r\n\t\tself.container = self.toolbar = self.edit = self.menu = null;\r\n\t\tself.dialogs = [];\r\n\t\tself.isCreated = false;\r\n\t\treturn self;\r\n\t},\r\n\tresize : function(width, height, updateProp) {\r\n\t\tvar self = this;\r\n\t\tupdateProp = _undef(updateProp, true);\r\n\t\tif (width) {\r\n\t\t\tif (!/%/.test(width)) {\r\n\t\t\t\twidth = _removeUnit(width);\r\n\t\t\t\twidth = width < self.minWidth ? self.minWidth : width;\r\n\t\t\t}\r\n\t\t\tself.container.css('width', _addUnit(width));\r\n\t\t\tif (updateProp) {\r\n\t\t\t\tself.width = _addUnit(width);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (height) {\r\n\t\t\theight = _removeUnit(height);\r\n\t\t\teditHeight = _removeUnit(height) - self.toolbar.div.height() - self.statusbar.height();\r\n\t\t\teditHeight = editHeight < self.minHeight ? self.minHeight : editHeight;\r\n\t\t\tself.edit.setHeight(editHeight);\r\n\t\t\tif (updateProp) {\r\n\t\t\t\tself.height = _addUnit(height);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn self;\r\n\t},\r\n\tselect : function() {\r\n\t\tthis.isCreated && this.cmd.select();\r\n\t\treturn this;\r\n\t},\r\n\thtml : function(val) {\r\n\t\tvar self = this;\r\n\t\tif (val === undefined) {\r\n\t\t\treturn self.isCreated ? self.edit.html() : _elementVal(self.srcElement);\r\n\t\t}\r\n\t\tself.isCreated ? self.edit.html(val) : _elementVal(self.srcElement, val);\r\n\t\tif (self.isCreated) {\r\n\t\t\tself.cmd.selection();\r\n\t\t}\r\n\t\treturn self;\r\n\t},\r\n\tfullHtml : function() {\r\n\t\treturn this.isCreated ? this.edit.html(undefined, true) : '';\r\n\t},\r\n\ttext : function(val) {\r\n\t\tvar self = this;\r\n\t\tif (val === undefined) {\r\n\t\t\treturn _trim(self.html().replace(/<(?!img|embed).*?>/ig, '').replace(/&nbsp;/ig, ' '));\r\n\t\t} else {\r\n\t\t\treturn self.html(_escape(val));\r\n\t\t}\r\n\t},\r\n\tisEmpty : function() {\r\n\t\treturn _trim(this.text().replace(/\\r\\n|\\n|\\r/, '')) === '';\r\n\t},\r\n\tisDirty : function() {\r\n\t\treturn _trim(this.initContent.replace(/\\r\\n|\\n|\\r|t/g, '')) !== _trim(this.html().replace(/\\r\\n|\\n|\\r|t/g, ''));\r\n\t},\r\n\tselectedHtml : function() {\r\n\t\tvar val = this.isCreated ? this.cmd.range.html() : '';\r\n\t\tval = _removeBookmarkTag(_removeTempTag(val));\r\n\t\treturn val;\r\n\t},\r\n\tcount : function(mode) {\r\n\t\tvar self = this;\r\n\t\tmode = (mode || 'html').toLowerCase();\r\n\t\tif (mode === 'html') {\r\n\t\t\treturn self.html().length;\r\n\t\t}\r\n\t\tif (mode === 'text') {\r\n\t\t\treturn self.text().replace(/<(?:img|embed).*?>/ig, 'K').replace(/\\r\\n|\\n|\\r/g, '').length;\r\n\t\t}\r\n\t\treturn 0;\r\n\t},\r\n\texec : function(key) {\r\n\t\tkey = key.toLowerCase();\r\n\t\tvar self = this, cmd = self.cmd,\r\n\t\t\tchangeFlag = _inArray(key, 'selectall,copy,paste,print'.split(',')) < 0;\r\n\t\tif (changeFlag) {\r\n\t\t\tself.addBookmark(false);\r\n\t\t}\r\n\t\tcmd[key].apply(cmd, _toArray(arguments, 1));\r\n\t\tif (changeFlag) {\r\n\t\t\tself.updateState();\r\n\t\t\tself.addBookmark(false);\r\n\t\t\tif (self.options.afterChange) {\r\n\t\t\t\tself.options.afterChange.call(self);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn self;\r\n\t},\r\n\tinsertHtml : function(val, quickMode) {\r\n\t\tif (!this.isCreated) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tval = this.beforeSetHtml(val);\r\n\t\tthis.exec('inserthtml', val, quickMode);\r\n\t\treturn this;\r\n\t},\r\n\tappendHtml : function(val) {\r\n\t\tthis.html(this.html() + val);\r\n\t\tif (this.isCreated) {\r\n\t\t\tvar cmd = this.cmd;\r\n\t\t\tcmd.range.selectNodeContents(cmd.doc.body).collapse(false);\r\n\t\t\tcmd.select();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\tsync : function() {\r\n\t\t_elementVal(this.srcElement, this.html());\r\n\t\treturn this;\r\n\t},\r\n\tfocus : function() {\r\n\t\tthis.isCreated ? this.edit.focus() : this.srcElement[0].focus();\r\n\t\treturn this;\r\n\t},\r\n\tblur : function() {\r\n\t\tthis.isCreated ? this.edit.blur() : this.srcElement[0].blur();\r\n\t\treturn this;\r\n\t},\r\n\taddBookmark : function(checkSize) {\r\n\t\tcheckSize = _undef(checkSize, true);\r\n\t\tvar self = this, edit = self.edit,\r\n\t\t\tbody = edit.doc.body,\r\n\t\t\thtml = _removeTempTag(body.innerHTML), bookmark;\r\n\t\tif (checkSize && self._undoStack.length > 0) {\r\n\t\t\tvar prev = self._undoStack[self._undoStack.length - 1];\r\n\t\t\tif (Math.abs(html.length - _removeBookmarkTag(prev.html).length) < self.minChangeSize) {\r\n\t\t\t\treturn self;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (edit.designMode && !self._firstAddBookmark) {\r\n\t\t\tvar range = self.cmd.range;\r\n\t\t\tbookmark = range.createBookmark(true);\r\n\t\t\tbookmark.html = _removeTempTag(body.innerHTML);\r\n\t\t\trange.moveToBookmark(bookmark);\r\n\t\t} else {\r\n\t\t\tbookmark = {\r\n\t\t\t\thtml : html\r\n\t\t\t};\r\n\t\t}\r\n\t\tself._firstAddBookmark = false;\r\n\t\t_addBookmarkToStack(self._undoStack, bookmark);\r\n\t\treturn self;\r\n\t},\r\n\tundo : function() {\r\n\t\treturn _undoToRedo.call(this, this._undoStack, this._redoStack);\r\n\t},\r\n\tredo : function() {\r\n\t\treturn _undoToRedo.call(this, this._redoStack, this._undoStack);\r\n\t},\r\n\tfullscreen : function(bool) {\r\n\t\tthis.fullscreenMode = (bool === undefined ? !this.fullscreenMode : bool);\r\n\t\tthis.addBookmark(false);\r\n\t\treturn this.remove().create();\r\n\t},\r\n\treadonly : function(isReadonly) {\r\n\t\tisReadonly = _undef(isReadonly, true);\r\n\t\tvar self = this, edit = self.edit, doc = edit.doc;\r\n\t\tif (self.designMode) {\r\n\t\t\tself.toolbar.disableAll(isReadonly, []);\r\n\t\t} else {\r\n\t\t\t_each(self.noDisableItems, function() {\r\n\t\t\t\tself.toolbar[isReadonly ? 'disable' : 'enable'](this);\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (_IE) {\r\n\t\t\tdoc.body.contentEditable = !isReadonly;\r\n\t\t} else {\r\n\t\t\tdoc.designMode = isReadonly ? 'off' : 'on';\r\n\t\t}\r\n\t\tedit.textarea[0].disabled = isReadonly;\r\n\t},\r\n\tcreateMenu : function(options) {\r\n\t\tvar self = this,\r\n\t\t\tname = options.name,\r\n\t\t\tknode = self.toolbar.get(name),\r\n\t\t\tpos = knode.pos();\r\n\t\toptions.x = pos.x;\r\n\t\toptions.y = pos.y + knode.height();\r\n\t\toptions.z = self.options.zIndex;\r\n\t\toptions.shadowMode = _undef(options.shadowMode, self.shadowMode);\r\n\t\tif (options.selectedColor !== undefined) {\r\n\t\t\toptions.cls = 'ke-colorpicker-' + self.themeType;\r\n\t\t\toptions.noColor = self.lang('noColor');\r\n\t\t\tself.menu = _colorpicker(options);\r\n\t\t} else {\r\n\t\t\toptions.cls = 'ke-menu-' + self.themeType;\r\n\t\t\toptions.centerLineMode = false;\r\n\t\t\tself.menu = _menu(options);\r\n\t\t}\r\n\t\treturn self.menu;\r\n\t},\r\n\thideMenu : function() {\r\n\t\tthis.menu.remove();\r\n\t\tthis.menu = null;\r\n\t\treturn this;\r\n\t},\r\n\thideContextmenu : function() {\r\n\t\tthis.contextmenu.remove();\r\n\t\tthis.contextmenu = null;\r\n\t\treturn this;\r\n\t},\r\n\tcreateDialog : function(options) {\r\n\t\tvar self = this, name = options.name;\r\n\t\toptions.z = self.options.zIndex;\r\n\t\toptions.shadowMode = _undef(options.shadowMode, self.shadowMode);\r\n\t\toptions.closeBtn = _undef(options.closeBtn, {\r\n\t\t\tname : self.lang('close'),\r\n\t\t\tclick : function(e) {\r\n\t\t\t\tself.hideDialog();\r\n\t\t\t\tif (_IE && self.cmd) {\r\n\t\t\t\t\tself.cmd.select();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\toptions.noBtn = _undef(options.noBtn, {\r\n\t\t\tname : self.lang(options.yesBtn ? 'no' : 'close'),\r\n\t\t\tclick : function(e) {\r\n\t\t\t\tself.hideDialog();\r\n\t\t\t\tif (_IE && self.cmd) {\r\n\t\t\t\t\tself.cmd.select();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (self.dialogAlignType != 'page') {\r\n\t\t\toptions.alignEl = self.container;\r\n\t\t}\r\n\t\toptions.cls = 'ke-dialog-' + self.themeType;\r\n\t\tif (self.dialogs.length > 0) {\r\n\t\t\tvar firstDialog = self.dialogs[0],\r\n\t\t\t\tparentDialog = self.dialogs[self.dialogs.length - 1];\r\n\t\t\tfirstDialog.setMaskIndex(parentDialog.z + 2);\r\n\t\t\toptions.z = parentDialog.z + 3;\r\n\t\t\toptions.showMask = false;\r\n\t\t}\r\n\t\tvar dialog = _dialog(options);\r\n\t\tself.dialogs.push(dialog);\r\n\t\treturn dialog;\r\n\t},\r\n\thideDialog : function() {\r\n\t\tvar self = this;\r\n\t\tif (self.dialogs.length > 0) {\r\n\t\t\tself.dialogs.pop().remove();\r\n\t\t}\r\n\t\tif (self.dialogs.length > 0) {\r\n\t\t\tvar firstDialog = self.dialogs[0],\r\n\t\t\t\tparentDialog = self.dialogs[self.dialogs.length - 1];\r\n\t\t\tfirstDialog.setMaskIndex(parentDialog.z - 1);\r\n\t\t}\r\n\t\treturn self;\r\n\t},\r\n\terrorDialog : function(html) {\r\n\t\tvar self = this;\r\n\t\tvar dialog = self.createDialog({\r\n\t\t\twidth : 750,\r\n\t\t\ttitle : self.lang('uploadError'),\r\n\t\t\tbody : '<div style=\"padding:10px 20px;\"><iframe frameborder=\"0\" style=\"width:708px;height:400px;\"></iframe></div>'\r\n\t\t});\r\n\t\tvar iframe = K('iframe', dialog.div), doc = K.iframeDoc(iframe);\r\n\t\tdoc.open();\r\n\t\tdoc.write(html);\r\n\t\tdoc.close();\r\n\t\tK(doc.body).css('background-color', '#FFF');\r\n\t\tiframe[0].contentWindow.focus();\r\n\t\treturn self;\r\n\t}\r\n};\r\nfunction _editor(options) {\r\n\treturn new KEditor(options);\r\n}\r\n_instances = [];\r\nfunction _create(expr, options) {\r\n\toptions = options || {};\r\n\toptions.basePath = _undef(options.basePath, K.basePath);\r\n\toptions.themesPath = _undef(options.themesPath, options.basePath + 'themes/');\r\n\toptions.langPath = _undef(options.langPath, options.basePath + 'lang/');\r\n\toptions.pluginsPath = _undef(options.pluginsPath, options.basePath + 'plugins/');\r\n\tif (_undef(options.loadStyleMode, K.options.loadStyleMode)) {\r\n\t\tvar themeType = _undef(options.themeType, K.options.themeType);\r\n\t\t_loadStyle(options.themesPath + 'default/default.css');\r\n\t\t_loadStyle(options.themesPath + themeType + '/' + themeType + '.css');\r\n\t}\r\n\tfunction create(editor) {\r\n\t\t_each(_plugins, function(name, fn) {\r\n\t\t\tif (_isFunction(fn)) {\r\n\t\t\t\tfn.call(editor, KindEditor);\r\n\t\t\t\tif (!editor._pluginStatus) {\r\n\t\t\t\t\teditor._pluginStatus = {};\r\n\t\t\t\t}\r\n\t\t\t\teditor._pluginStatus[name] = 'inited';\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn editor.create();\r\n\t}\r\n\tvar knode = K(expr);\r\n\tif (!knode || knode.length === 0) {\r\n\t\treturn;\r\n\t}\r\n\tif (knode.length > 1) {\r\n\t\tknode.each(function() {\r\n\t\t\t_create(this, options);\r\n\t\t});\r\n\t\treturn _instances[0];\r\n\t}\r\n\toptions.srcElement = knode[0];\r\n\tvar editor = new KEditor(options);\r\n\t_instances.push(editor);\r\n\tif (_language[editor.langType]) {\r\n\t\treturn create(editor);\r\n\t}\r\n\t_loadScript(editor.langPath + editor.langType + '.js?ver=' + encodeURIComponent(K.DEBUG ? _TIME : _VERSION), function() {\r\n\t\tcreate(editor);\r\n\t});\r\n\treturn editor;\r\n}\r\nfunction _eachEditor(expr, fn) {\r\n\tK(expr).each(function(i, el) {\r\n\t\tK.each(_instances, function(j, editor) {\r\n\t\t\tif (editor && editor.srcElement[0] == el) {\r\n\t\t\t\tfn.call(editor, j);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\nK.remove = function(expr) {\r\n\t_eachEditor(expr, function(i) {\r\n\t\tthis.remove();\r\n\t\t_instances.splice(i, 1);\r\n\t});\r\n};\r\nK.sync = function(expr) {\r\n\t_eachEditor(expr, function() {\r\n\t\tthis.sync();\r\n\t});\r\n};\r\nK.html = function(expr, val) {\r\n\t_eachEditor(expr, function() {\r\n\t\tthis.html(val);\r\n\t});\r\n};\r\nK.insertHtml = function(expr, val) {\r\n\t_eachEditor(expr, function() {\r\n\t\tthis.insertHtml(val);\r\n\t});\r\n};\r\nK.appendHtml = function(expr, val) {\r\n\t_eachEditor(expr, function() {\r\n\t\tthis.appendHtml(val);\r\n\t});\r\n};\r\n\r\r\nif (_IE && _V < 7) {\r\n\t_nativeCommand(document, 'BackgroundImageCache', true);\r\n}\r\nK.EditorClass = KEditor;\r\nK.editor = _editor;\r\nK.create = _create;\r\nK.instances = _instances;\r\nK.plugin = _plugin;\r\nK.lang = _lang;\r\n\r\r\n_plugin('core', function(K) {\r\n\tvar self = this,\r\n\t\tshortcutKeys = {\r\n\t\t\tundo : 'Z', redo : 'Y', bold : 'B', italic : 'I', underline : 'U', print : 'P', selectall : 'A'\r\n\t\t};\r\n\tself.afterSetHtml(function() {\r\n\t\tif (self.options.afterChange) {\r\n\t\t\tself.options.afterChange.call(self);\r\n\t\t}\r\n\t});\r\n\tself.afterCreate(function() {\r\n\t\tif (self.syncType != 'form') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar el = K(self.srcElement), hasForm = false;\r\n\t\twhile ((el = el.parent())) {\r\n\t\t\tif (el.name == 'form') {\r\n\t\t\t\thasForm = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (hasForm) {\r\n\t\t\tel.bind('submit', function(e) {\r\n\t\t\t\tself.sync();\r\n\t\t\t\tK(window).bind('unload', function() {\r\n\t\t\t\t\tself.edit.textarea.remove();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tvar resetBtn = K('[type=\"reset\"]', el);\r\n\t\t\tresetBtn.click(function() {\r\n\t\t\t\tself.html(self.initContent);\r\n\t\t\t\tself.cmd.selection();\r\n\t\t\t});\r\n\t\t\tself.beforeRemove(function() {\r\n\t\t\t\tel.unbind();\r\n\t\t\t\tresetBtn.unbind();\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\tself.clickToolbar('source', function() {\r\n\t\tif (self.edit.designMode) {\r\n\t\t\tself.toolbar.disableAll(true);\r\n\t\t\tself.edit.design(false);\r\n\t\t\tself.toolbar.select('source');\r\n\t\t} else {\r\n\t\t\tself.toolbar.disableAll(false);\r\n\t\t\tself.edit.design(true);\r\n\t\t\tself.toolbar.unselect('source');\r\n\t\t\tif (_GECKO) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tself.cmd.selection();\r\n\t\t\t\t}, 0);\r\n\t\t\t} else {\r\n\t\t\t\tself.cmd.selection();\r\n\t\t\t}\r\n\t\t}\r\n\t\tself.designMode = self.edit.designMode;\r\n\t});\r\n\tself.afterCreate(function() {\r\n\t\tif (!self.designMode) {\r\n\t\t\tself.toolbar.disableAll(true).select('source');\r\n\t\t}\r\n\t});\r\n\tself.clickToolbar('fullscreen', function() {\r\n\t\tself.fullscreen();\r\n\t});\r\n\tif (self.fullscreenShortcut) {\r\n\t\tvar loaded = false;\r\n\t\tself.afterCreate(function() {\r\n\t\t\tK(self.edit.doc, self.edit.textarea).keyup(function(e) {\r\n\t\t\t\tif (e.which == 27) {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tself.fullscreen();\r\n\t\t\t\t\t}, 0);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (loaded) {\r\n\t\t\t\tif (_IE && !self.designMode) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tself.focus();\r\n\t\t\t}\r\n\t\t\tif (!loaded) {\r\n\t\t\t\tloaded = true;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t_each('undo,redo'.split(','), function(i, name) {\r\n\t\tif (shortcutKeys[name]) {\r\n\t\t\tself.afterCreate(function() {\r\n\t\t\t\t_ctrl(this.edit.doc, shortcutKeys[name], function() {\r\n\t\t\t\t\tself.clickToolbar(name);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\tself.clickToolbar(name, function() {\r\n\t\t\tself[name]();\r\n\t\t});\r\n\t});\r\n\tself.clickToolbar('formatblock', function() {\r\n\t\tvar blocks = self.lang('formatblock.formatBlock'),\r\n\t\t\theights = {\r\n\t\t\t\th1 : 28,\r\n\t\t\t\th2 : 24,\r\n\t\t\t\th3 : 18,\r\n\t\t\t\tH4 : 14,\r\n\t\t\t\tp : 12\r\n\t\t\t},\r\n\t\t\tcurVal = self.cmd.val('formatblock'),\r\n\t\t\tmenu = self.createMenu({\r\n\t\t\t\tname : 'formatblock',\r\n\t\t\t\twidth : self.langType == 'en' ? 200 : 150\r\n\t\t\t});\r\n\t\t_each(blocks, function(key, val) {\r\n\t\t\tvar style = 'font-size:' + heights[key] + 'px;';\r\n\t\t\tif (key.charAt(0) === 'h') {\r\n\t\t\t\tstyle += 'font-weight:bold;';\r\n\t\t\t}\r\n\t\t\tmenu.addItem({\r\n\t\t\t\ttitle : '<span style=\"' + style + '\" unselectable=\"on\">' + val + '</span>',\r\n\t\t\t\theight : heights[key] + 12,\r\n\t\t\t\tchecked : (curVal === key || curVal === val),\r\n\t\t\t\tclick : function() {\r\n\t\t\t\t\tself.select().exec('formatblock', '<' + key + '>').hideMenu();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\tself.clickToolbar('fontname', function() {\r\n\t\tvar curVal = self.cmd.val('fontname'),\r\n\t\t\tmenu = self.createMenu({\r\n\t\t\t\tname : 'fontname',\r\n\t\t\t\twidth : 150\r\n\t\t\t});\r\n\t\t_each(self.lang('fontname.fontName'), function(key, val) {\r\n\t\t\tmenu.addItem({\r\n\t\t\t\ttitle : '<span style=\"font-family: ' + key + ';\" unselectable=\"on\">' + val + '</span>',\r\n\t\t\t\tchecked : (curVal === key.toLowerCase() || curVal === val.toLowerCase()),\r\n\t\t\t\tclick : function() {\r\n\t\t\t\t\tself.exec('fontname', key).hideMenu();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\tself.clickToolbar('fontsize', function() {\r\n\t\tvar curVal = self.cmd.val('fontsize'),\r\n\t\t\tmenu = self.createMenu({\r\n\t\t\t\tname : 'fontsize',\r\n\t\t\t\twidth : 150\r\n\t\t\t});\r\n\t\t_each(self.fontSizeTable, function(i, val) {\r\n\t\t\tmenu.addItem({\r\n\t\t\t\ttitle : '<span style=\"font-size:' + val + ';\" unselectable=\"on\">' + val + '</span>',\r\n\t\t\t\theight : _removeUnit(val) + 12,\r\n\t\t\t\tchecked : curVal === val,\r\n\t\t\t\tclick : function() {\r\n\t\t\t\t\tself.exec('fontsize', val).hideMenu();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\t_each('forecolor,hilitecolor'.split(','), function(i, name) {\r\n\t\tself.clickToolbar(name, function() {\r\n\t\t\tself.createMenu({\r\n\t\t\t\tname : name,\r\n\t\t\t\tselectedColor : self.cmd.val(name) || 'default',\r\n\t\t\t\tcolors : self.colorTable,\r\n\t\t\t\tclick : function(color) {\r\n\t\t\t\t\tself.exec(name, color).hideMenu();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\t_each(('cut,copy,paste').split(','), function(i, name) {\r\n\t\tself.clickToolbar(name, function() {\r\n\t\t\tself.focus();\r\n\t\t\ttry {\r\n\t\t\t\tself.exec(name, null);\r\n\t\t\t} catch(e) {\r\n\t\t\t\talert(self.lang(name + 'Error'));\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\tself.clickToolbar('about', function() {\r\n\t\tvar html = '<div style=\"margin:20px;\">' +\r\n\t\t\t'<div>KindEditor ' + _VERSION + '</div>' +\r\n\t\t\t'<div>Copyright &copy; <a href=\"http://www.kindsoft.net/\" target=\"_blank\">kindsoft.net</a> All rights reserved.</div>' +\r\n\t\t\t'</div>';\r\n\t\tself.createDialog({\r\n\t\t\tname : 'about',\r\n\t\t\twidth : 350,\r\n\t\t\ttitle : self.lang('about'),\r\n\t\t\tbody : html\r\n\t\t});\r\n\t});\r\n\tself.plugin.getSelectedLink = function() {\r\n\t\treturn self.cmd.commonAncestor('a');\r\n\t};\r\n\tself.plugin.getSelectedImage = function() {\r\n\t\treturn _getImageFromRange(self.edit.cmd.range, function(img) {\r\n\t\t\treturn !/^ke-\\w+$/i.test(img[0].className);\r\n\t\t});\r\n\t};\r\n\tself.plugin.getSelectedFlash = function() {\r\n\t\treturn _getImageFromRange(self.edit.cmd.range, function(img) {\r\n\t\t\treturn img[0].className == 'ke-flash';\r\n\t\t});\r\n\t};\r\n\tself.plugin.getSelectedMedia = function() {\r\n\t\treturn _getImageFromRange(self.edit.cmd.range, function(img) {\r\n\t\t\treturn img[0].className == 'ke-media' || img[0].className == 'ke-rm';\r\n\t\t});\r\n\t};\r\n\tself.plugin.getSelectedAnchor = function() {\r\n\t\treturn _getImageFromRange(self.edit.cmd.range, function(img) {\r\n\t\t\treturn img[0].className == 'ke-anchor';\r\n\t\t});\r\n\t};\r\n\t_each('link,image,flash,media,anchor'.split(','), function(i, name) {\r\n\t\tvar uName = name.charAt(0).toUpperCase() + name.substr(1);\r\n\t\t_each('edit,delete'.split(','), function(j, val) {\r\n\t\t\tself.addContextmenu({\r\n\t\t\t\ttitle : self.lang(val + uName),\r\n\t\t\t\tclick : function() {\r\n\t\t\t\t\tself.loadPlugin(name, function() {\r\n\t\t\t\t\t\tself.plugin[name][val]();\r\n\t\t\t\t\t\tself.hideMenu();\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tcond : self.plugin['getSelected' + uName],\r\n\t\t\t\twidth : 150,\r\n\t\t\t\ticonClass : val == 'edit' ? 'ke-icon-' + name : undefined\r\n\t\t\t});\r\n\t\t});\r\n\t\tself.addContextmenu({ title : '-' });\r\n\t});\r\n\tself.plugin.getSelectedTable = function() {\r\n\t\treturn self.cmd.commonAncestor('table');\r\n\t};\r\n\tself.plugin.getSelectedRow = function() {\r\n\t\treturn self.cmd.commonAncestor('tr');\r\n\t};\r\n\tself.plugin.getSelectedCell = function() {\r\n\t\treturn self.cmd.commonAncestor('td');\r\n\t};\r\n\t_each(('prop,cellprop,colinsertleft,colinsertright,rowinsertabove,rowinsertbelow,rowmerge,colmerge,' +\r\n\t'rowsplit,colsplit,coldelete,rowdelete,insert,delete').split(','), function(i, val) {\r\n\t\tvar cond = _inArray(val, ['prop', 'delete']) < 0 ? self.plugin.getSelectedCell : self.plugin.getSelectedTable;\r\n\t\tself.addContextmenu({\r\n\t\t\ttitle : self.lang('table' + val),\r\n\t\t\tclick : function() {\r\n\t\t\t\tself.loadPlugin('table', function() {\r\n\t\t\t\t\tself.plugin.table[val]();\r\n\t\t\t\t\tself.hideMenu();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcond : cond,\r\n\t\t\twidth : 170,\r\n\t\t\ticonClass : 'ke-icon-table' + val\r\n\t\t});\r\n\t});\r\n\tself.addContextmenu({ title : '-' });\r\n\t_each(('selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,' +\r\n\t\t'insertunorderedlist,indent,outdent,subscript,superscript,hr,print,' +\r\n\t\t'bold,italic,underline,strikethrough,removeformat,unlink').split(','), function(i, name) {\r\n\t\tif (shortcutKeys[name]) {\r\n\t\t\tself.afterCreate(function() {\r\n\t\t\t\t_ctrl(this.edit.doc, shortcutKeys[name], function() {\r\n\t\t\t\t\tself.cmd.selection();\r\n\t\t\t\t\tself.clickToolbar(name);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\tself.clickToolbar(name, function() {\r\n\t\t\tself.focus().exec(name, null);\r\n\t\t});\r\n\t});\r\n\tself.afterCreate(function() {\r\n\t\tvar doc = self.edit.doc, cmd, bookmark, div,\r\n\t\t\tcls = '__kindeditor_paste__', pasting = false;\r\n\t\tfunction movePastedData() {\r\n\t\t\tcmd.range.moveToBookmark(bookmark);\r\n\t\t\tcmd.select();\r\n\t\t\tif (_WEBKIT) {\r\n\t\t\t\tK('div.' + cls, div).each(function() {\r\n\t\t\t\t\tK(this).after('<br />').remove(true);\r\n\t\t\t\t});\r\n\t\t\t\tK('span.Apple-style-span', div).remove(true);\r\n\t\t\t\tK('span.Apple-tab-span', div).remove(true);\r\n\t\t\t\tK('span[style]', div).each(function() {\r\n\t\t\t\t\tif (K(this).css('white-space') == 'nowrap') {\r\n\t\t\t\t\t\tK(this).remove(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tK('meta', div).remove();\r\n\t\t\t}\r\n\t\t\tvar html = div[0].innerHTML;\r\n\t\t\tdiv.remove();\r\n\t\t\tif (html === '') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (_WEBKIT) {\r\n\t\t\t\thtml = html.replace(/(<br>)\\1/ig, '$1');\r\n\t\t\t}\r\n\t\t\tif (self.pasteType === 2) {\r\n\t\t\t\thtml = html.replace(/(<(?:p|p\\s[^>]*)>) *(<\\/p>)/ig, '');\r\n\t\t\t\tif (/schemas-microsoft-com|worddocument|mso-\\w+/i.test(html)) {\r\n\t\t\t\t\thtml = _clearMsWord(html, self.filterMode ? self.htmlTags : K.options.htmlTags);\r\n\t\t\t\t} else {\r\n\t\t\t\t\thtml = _formatHtml(html, self.filterMode ? self.htmlTags : null);\r\n\t\t\t\t\thtml = self.beforeSetHtml(html);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (self.pasteType === 1) {\r\n\t\t\t\thtml = html.replace(/&nbsp;/ig, ' ');\r\n\t\t\t\thtml = html.replace(/\\n\\s*\\n/g, '\\n');\r\n\t\t\t\thtml = html.replace(/<br[^>]*>/ig, '\\n');\r\n\t\t\t\thtml = html.replace(/<\\/p><p[^>]*>/ig, '\\n');\r\n\t\t\t\thtml = html.replace(/<[^>]+>/g, '');\r\n\t\t\t\thtml = html.replace(/ {2}/g, ' &nbsp;');\r\n\t\t\t\tif (self.newlineTag == 'p') {\r\n\t\t\t\t\tif (/\\n/.test(html)) {\r\n\t\t\t\t\t\thtml = html.replace(/^/, '<p>').replace(/$/, '<br /></p>').replace(/\\n/g, '<br /></p><p>');\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\thtml = html.replace(/\\n/g, '<br />$&');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tself.insertHtml(html, true);\r\n\t\t}\r\n\t\tK(doc.body).bind('paste', function(e){\r\n\t\t\tif (self.pasteType === 0) {\r\n\t\t\t\te.stop();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (pasting) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tpasting = true;\r\n\t\t\tK('div.' + cls, doc).remove();\r\n\t\t\tcmd = self.cmd.selection();\r\n\t\t\tbookmark = cmd.range.createBookmark();\r\n\t\t\tdiv = K('<div class=\"' + cls + '\"></div>', doc).css({\r\n\t\t\t\tposition : 'absolute',\r\n\t\t\t\twidth : '1px',\r\n\t\t\t\theight : '1px',\r\n\t\t\t\toverflow : 'hidden',\r\n\t\t\t\tleft : '-1981px',\r\n\t\t\t\ttop : K(bookmark.start).pos().y + 'px',\r\n\t\t\t\t'white-space' : 'nowrap'\r\n\t\t\t});\r\n\t\t\tK(doc.body).append(div);\r\n\t\t\tif (_IE) {\r\n\t\t\t\tvar rng = cmd.range.get(true);\r\n\t\t\t\trng.moveToElementText(div[0]);\r\n\t\t\t\trng.select();\r\n\t\t\t\trng.execCommand('paste');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\tcmd.range.selectNodeContents(div[0]);\r\n\t\t\t\tcmd.select();\r\n\t\t\t\tdiv[0].tabIndex = -1;\r\n\t\t\t\tdiv[0].focus();\r\n\t\t\t}\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tmovePastedData();\r\n\t\t\t\tpasting = false;\r\n\t\t\t}, 0);\r\n\t\t});\r\n\t});\r\n\tself.beforeGetHtml(function(html) {\r\n\t\tif (_IE && _V <= 8) {\r\n\t\t\thtml = html.replace(/<div\\s+[^>]*data-ke-input-tag=\"([^\"]*)\"[^>]*>([\\s\\S]*?)<\\/div>/ig, function(full, tag) {\r\n\t\t\t\treturn unescape(tag);\r\n\t\t\t});\r\n\t\t\thtml = html.replace(/(<input)((?:\\s+[^>]*)?>)/ig, function($0, $1, $2) {\r\n\t\t\t\tif (!/\\s+type=\"[^\"]+\"/i.test($0)) {\r\n\t\t\t\t\treturn $1 + ' type=\"text\"' + $2;\r\n\t\t\t\t}\r\n\t\t\t\treturn $0;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn html.replace(/(<(?:noscript|noscript\\s[^>]*)>)([\\s\\S]*?)(<\\/noscript>)/ig, function($0, $1, $2, $3) {\r\n\t\t\treturn $1 + _unescape($2).replace(/\\s+/g, ' ') + $3;\r\n\t\t})\r\n\t\t.replace(/<img[^>]*class=\"?ke-(flash|rm|media)\"?[^>]*>/ig, function(full) {\r\n\t\t\tvar imgAttrs = _getAttrList(full);\r\n\t\t\tvar styles = _getCssList(imgAttrs.style || '');\r\n\t\t\tvar attrs = _mediaAttrs(imgAttrs['data-ke-tag']);\r\n\t\t\tvar width = _undef(styles.width, '');\r\n\t\t\tvar height = _undef(styles.height, '');\r\n\t\t\tif (/px/i.test(width)) {\r\n\t\t\t\twidth = _removeUnit(width);\r\n\t\t\t}\r\n\t\t\tif (/px/i.test(height)) {\r\n\t\t\t\theight = _removeUnit(height);\r\n\t\t\t}\r\n\t\t\tattrs.width = _undef(imgAttrs.width, width);\r\n\t\t\tattrs.height = _undef(imgAttrs.height, height);\r\n\t\t\treturn _mediaEmbed(attrs);\r\n\t\t})\r\n\t\t.replace(/<img[^>]*class=\"?ke-anchor\"?[^>]*>/ig, function(full) {\r\n\t\t\tvar imgAttrs = _getAttrList(full);\r\n\t\t\treturn '<a name=\"' + unescape(imgAttrs['data-ke-name']) + '\"></a>';\r\n\t\t})\r\n\t\t.replace(/<div\\s+[^>]*data-ke-script-attr=\"([^\"]*)\"[^>]*>([\\s\\S]*?)<\\/div>/ig, function(full, attr, code) {\r\n\t\t\treturn '<script' + unescape(attr) + '>' + unescape(code) + '</script>';\r\n\t\t})\r\n\t\t.replace(/<div\\s+[^>]*data-ke-noscript-attr=\"([^\"]*)\"[^>]*>([\\s\\S]*?)<\\/div>/ig, function(full, attr, code) {\r\n\t\t\treturn '<noscript' + unescape(attr) + '>' + unescape(code) + '</noscript>';\r\n\t\t})\r\n\t\t.replace(/(<[^>]*)data-ke-src=\"([^\"]*)\"([^>]*>)/ig, function(full, start, src, end) {\r\n\t\t\tfull = full.replace(/(\\s+(?:href|src)=\")[^\"]*(\")/i, function($0, $1, $2) {\r\n\t\t\t\treturn $1 + _unescape(src) + $2;\r\n\t\t\t});\r\n\t\t\tfull = full.replace(/\\s+data-ke-src=\"[^\"]*\"/i, '');\r\n\t\t\treturn full;\r\n\t\t})\r\n\t\t.replace(/(<[^>]+\\s)data-ke-(on\\w+=\"[^\"]*\"[^>]*>)/ig, function(full, start, end) {\r\n\t\t\treturn start + end;\r\n\t\t});\r\n\t});\r\n\tself.beforeSetHtml(function(html) {\r\n\t\tif (_IE && _V <= 8) {\r\n\t\t\thtml = html.replace(/<input[^>]*>|<(select|button)[^>]*>[\\s\\S]*?<\\/\\1>/ig, function(full) {\r\n\t\t\t\tvar attrs = _getAttrList(full);\r\n\t\t\t\tvar styles = _getCssList(attrs.style || '');\r\n\t\t\t\tif (styles.display == 'none') {\r\n\t\t\t\t\treturn '<div class=\"ke-display-none\" data-ke-input-tag=\"' + escape(full) + '\"></div>';\r\n\t\t\t\t}\r\n\t\t\t\treturn full;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn html.replace(/<embed[^>]*type=\"([^\"]+)\"[^>]*>(?:<\\/embed>)?/ig, function(full) {\r\n\t\t\tvar attrs = _getAttrList(full);\r\n\t\t\tattrs.src = _undef(attrs.src, '');\r\n\t\t\tattrs.width = _undef(attrs.width, 0);\r\n\t\t\tattrs.height = _undef(attrs.height, 0);\r\n\t\t\treturn _mediaImg(self.themesPath + 'common/blank.gif', attrs);\r\n\t\t})\r\n\t\t.replace(/<a[^>]*name=\"([^\"]+)\"[^>]*>(?:<\\/a>)?/ig, function(full) {\r\n\t\t\tvar attrs = _getAttrList(full);\r\n\t\t\tif (attrs.href !== undefined) {\r\n\t\t\t\treturn full;\r\n\t\t\t}\r\n\t\t\treturn '<img class=\"ke-anchor\" src=\"' + self.themesPath + 'common/anchor.gif\" data-ke-name=\"' + escape(attrs.name) + '\" />';\r\n\t\t})\r\n\t\t.replace(/<script([^>]*)>([\\s\\S]*?)<\\/script>/ig, function(full, attr, code) {\r\n\t\t\treturn '<div class=\"ke-script\" data-ke-script-attr=\"' + escape(attr) + '\">' + escape(code) + '</div>';\r\n\t\t})\r\n\t\t.replace(/<noscript([^>]*)>([\\s\\S]*?)<\\/noscript>/ig, function(full, attr, code) {\r\n\t\t\treturn '<div class=\"ke-noscript\" data-ke-noscript-attr=\"' + escape(attr) + '\">' + escape(code) + '</div>';\r\n\t\t})\r\n\t\t.replace(/(<[^>]*)(href|src)=\"([^\"]*)\"([^>]*>)/ig, function(full, start, key, src, end) {\r\n\t\t\tif (full.match(/\\sdata-ke-src=\"[^\"]*\"/i)) {\r\n\t\t\t\treturn full;\r\n\t\t\t}\r\n\t\t\tfull = start + key + '=\"' + src + '\"' + ' data-ke-src=\"' + _escape(src) + '\"' + end;\r\n\t\t\treturn full;\r\n\t\t})\r\n\t\t.replace(/(<[^>]+\\s)(on\\w+=\"[^\"]*\"[^>]*>)/ig, function(full, start, end) {\r\n\t\t\treturn start + 'data-ke-' + end;\r\n\t\t})\r\n\t\t.replace(/<table[^>]*\\s+border=\"0\"[^>]*>/ig, function(full) {\r\n\t\t\tif (full.indexOf('ke-zeroborder') >= 0) {\r\n\t\t\t\treturn full;\r\n\t\t\t}\r\n\t\t\treturn _addClassToTag(full, 'ke-zeroborder');\r\n\t\t});\r\n\t});\r\n});\r\n\n\r\n})(window);\r\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\nKindEditor.lang({\r\n\tsource : 'HTML代码',\r\n\tpreview : '预览',\r\n\tundo : '后退(Ctrl+Z)',\r\n\tredo : '前进(Ctrl+Y)',\r\n\tcut : '剪切(Ctrl+X)',\r\n\tcopy : '复制(Ctrl+C)',\r\n\tpaste : '粘贴(Ctrl+V)',\r\n\tplainpaste : '粘贴为无格式文本',\r\n\twordpaste : '从Word粘贴',\r\n\tselectall : '全选(Ctrl+A)',\r\n\tjustifyleft : '左对齐',\r\n\tjustifycenter : '居中',\r\n\tjustifyright : '右对齐',\r\n\tjustifyfull : '两端对齐',\r\n\tinsertorderedlist : '编号',\r\n\tinsertunorderedlist : '项目符号',\r\n\tindent : '增加缩进',\r\n\toutdent : '减少缩进',\r\n\tsubscript : '下标',\r\n\tsuperscript : '上标',\r\n\tformatblock : '段落',\r\n\tfontname : '字体',\r\n\tfontsize : '文字大小',\r\n\tforecolor : '文字颜色',\r\n\thilitecolor : '文字背景',\r\n\tbold : '粗体(Ctrl+B)',\r\n\titalic : '斜体(Ctrl+I)',\r\n\tunderline : '下划线(Ctrl+U)',\r\n\tstrikethrough : '删除线',\r\n\tremoveformat : '删除格式',\r\n\timage : '图片',\r\n\tmultiimage : '批量图片上传',\r\n\tflash : 'Flash',\r\n\tmedia : '视音频',\r\n\ttable : '表格',\r\n\ttablecell : '单元格',\r\n\thr : '插入横线',\r\n\temoticons : '插入表情',\r\n\tlink : '超级链接',\r\n\tunlink : '取消超级链接',\r\n\tfullscreen : '全屏显示',\r\n\tabout : '关于',\r\n\tprint : '打印(Ctrl+P)',\r\n\tfilemanager : '文件空间',\r\n\tcode : '插入程序代码',\r\n\tmap : 'Google地图',\r\n\tbaidumap : '百度地图',\r\n\tlineheight : '行距',\r\n\tclearhtml : '清理HTML代码',\r\n\tpagebreak : '插入分页符',\r\n\tquickformat : '一键排版',\r\n\tinsertfile : '插入文件',\r\n\ttemplate : '插入模板',\r\n\tanchor : '锚点',\r\n\tyes : '确定',\r\n\tno : '取消',\r\n\tclose : '关闭',\r\n\teditImage : '图片属性',\r\n\tdeleteImage : '删除图片',\r\n\teditFlash : 'Flash属性',\r\n\tdeleteFlash : '删除Flash',\r\n\teditMedia : '视音频属性',\r\n\tdeleteMedia : '删除视音频',\r\n\teditLink : '超级链接属性',\r\n\tdeleteLink : '取消超级链接',\r\n\teditAnchor : '锚点属性',\r\n\tdeleteAnchor : '删除锚点',\r\n\ttableprop : '表格属性',\r\n\ttablecellprop : '单元格属性',\r\n\ttableinsert : '插入表格',\r\n\ttabledelete : '删除表格',\r\n\ttablecolinsertleft : '左侧插入列',\r\n\ttablecolinsertright : '右侧插入列',\r\n\ttablerowinsertabove : '上方插入行',\r\n\ttablerowinsertbelow : '下方插入行',\r\n\ttablerowmerge : '向下合并单元格',\r\n\ttablecolmerge : '向右合并单元格',\r\n\ttablerowsplit : '拆分行',\r\n\ttablecolsplit : '拆分列',\r\n\ttablecoldelete : '删除列',\r\n\ttablerowdelete : '删除行',\r\n\tnoColor : '无颜色',\r\n\tpleaseSelectFile : '请选择文件。',\r\n\tinvalidImg : \"请输入有效的URL地址。\\n只允许jpg,gif,bmp,png格式。\",\r\n\tinvalidMedia : \"请输入有效的URL地址。\\n只允许swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb格式。\",\r\n\tinvalidWidth : \"宽度必须为数字。\",\r\n\tinvalidHeight : \"高度必须为数字。\",\r\n\tinvalidBorder : \"边框必须为数字。\",\r\n\tinvalidUrl : \"请输入有效的URL地址。\",\r\n\tinvalidRows : '行数为必选项，只允许输入大于0的数字。',\r\n\tinvalidCols : '列数为必选项，只允许输入大于0的数字。',\r\n\tinvalidPadding : '边距必须为数字。',\r\n\tinvalidSpacing : '间距必须为数字。',\r\n\tinvalidJson : '服务器发生故障。',\r\n\tuploadSuccess : '上传成功。',\r\n\tcutError : '您的浏览器安全设置不允许使用剪切操作，请使用快捷键(Ctrl+X)来完成。',\r\n\tcopyError : '您的浏览器安全设置不允许使用复制操作，请使用快捷键(Ctrl+C)来完成。',\r\n\tpasteError : '您的浏览器安全设置不允许使用粘贴操作，请使用快捷键(Ctrl+V)来完成。',\r\n\tajaxLoading : '加载中，请稍候 ...',\r\n\tuploadLoading : '上传中，请稍候 ...',\r\n\tuploadError : '上传错误',\r\n\t'plainpaste.comment' : '请使用快捷键(Ctrl+V)把内容粘贴到下面的方框里。',\r\n\t'wordpaste.comment' : '请使用快捷键(Ctrl+V)把内容粘贴到下面的方框里。',\r\n\t'code.pleaseInput' : '请输入程序代码。',\r\n\t'link.url' : 'URL',\r\n\t'link.linkType' : '打开类型',\r\n\t'link.newWindow' : '新窗口',\r\n\t'link.selfWindow' : '当前窗口',\r\n\t'flash.url' : 'URL',\r\n\t'flash.width' : '宽度',\r\n\t'flash.height' : '高度',\r\n\t'flash.upload' : '上传',\r\n\t'flash.viewServer' : '文件空间',\r\n\t'media.url' : 'URL',\r\n\t'media.width' : '宽度',\r\n\t'media.height' : '高度',\r\n\t'media.autostart' : '自动播放',\r\n\t'media.upload' : '上传',\r\n\t'media.viewServer' : '文件空间',\r\n\t'image.remoteImage' : '网络图片',\r\n\t'image.localImage' : '本地上传',\r\n\t'image.remoteUrl' : '图片地址',\r\n\t'image.localUrl' : '上传文件',\r\n\t'image.size' : '图片大小',\r\n\t'image.width' : '宽',\r\n\t'image.height' : '高',\r\n\t'image.resetSize' : '重置大小',\r\n\t'image.align' : '对齐方式',\r\n\t'image.defaultAlign' : '默认方式',\r\n\t'image.leftAlign' : '左对齐',\r\n\t'image.rightAlign' : '右对齐',\r\n\t'image.imgTitle' : '图片说明',\r\n\t'image.upload' : '浏览...',\r\n\t'image.viewServer' : '图片空间',\r\n\t'multiimage.uploadDesc' : '允许用户同时上传<%=uploadLimit%>张图片，单张图片容量不超过<%=sizeLimit%>',\r\n\t'multiimage.startUpload' : '开始上传',\r\n\t'multiimage.clearAll' : '全部清空',\r\n\t'multiimage.insertAll' : '全部插入',\r\n\t'multiimage.queueLimitExceeded' : '文件数量超过限制。',\r\n\t'multiimage.fileExceedsSizeLimit' : '文件大小超过限制。',\r\n\t'multiimage.zeroByteFile' : '无法上传空文件。',\r\n\t'multiimage.invalidFiletype' : '文件类型不正确。',\r\n\t'multiimage.unknownError' : '发生异常，无法上传。',\r\n\t'multiimage.pending' : '等待上传',\r\n\t'multiimage.uploadError' : '上传失败',\r\n\t'filemanager.emptyFolder' : '空文件夹',\r\n\t'filemanager.moveup' : '移到上一级文件夹',\r\n\t'filemanager.viewType' : '显示方式：',\r\n\t'filemanager.viewImage' : '缩略图',\r\n\t'filemanager.listImage' : '详细信息',\r\n\t'filemanager.orderType' : '排序方式：',\r\n\t'filemanager.fileName' : '名称',\r\n\t'filemanager.fileSize' : '大小',\r\n\t'filemanager.fileType' : '类型',\r\n\t'insertfile.url' : 'URL',\r\n\t'insertfile.title' : '文件说明',\r\n\t'insertfile.upload' : '上传',\r\n\t'insertfile.viewServer' : '文件空间',\r\n\t'table.cells' : '单元格数',\r\n\t'table.rows' : '行数',\r\n\t'table.cols' : '列数',\r\n\t'table.size' : '大小',\r\n\t'table.width' : '宽度',\r\n\t'table.height' : '高度',\r\n\t'table.percent' : '%',\r\n\t'table.px' : 'px',\r\n\t'table.space' : '边距间距',\r\n\t'table.padding' : '边距',\r\n\t'table.spacing' : '间距',\r\n\t'table.align' : '对齐方式',\r\n\t'table.textAlign' : '水平对齐',\r\n\t'table.verticalAlign' : '垂直对齐',\r\n\t'table.alignDefault' : '默认',\r\n\t'table.alignLeft' : '左对齐',\r\n\t'table.alignCenter' : '居中',\r\n\t'table.alignRight' : '右对齐',\r\n\t'table.alignTop' : '顶部',\r\n\t'table.alignMiddle' : '中部',\r\n\t'table.alignBottom' : '底部',\r\n\t'table.alignBaseline' : '基线',\r\n\t'table.border' : '边框',\r\n\t'table.borderWidth' : '边框',\r\n\t'table.borderColor' : '颜色',\r\n\t'table.backgroundColor' : '背景颜色',\r\n\t'map.address' : '地址: ',\r\n\t'map.search' : '搜索',\r\n\t'baidumap.address' : '地址: ',\r\n\t'baidumap.search' : '搜索',\r\n\t'baidumap.insertDynamicMap' : '插入动态地图',\r\n\t'anchor.name' : '锚点名称',\r\n\t'formatblock.formatBlock' : {\r\n\t\th1 : '标题 1',\r\n\t\th2 : '标题 2',\r\n\t\th3 : '标题 3',\r\n\t\th4 : '标题 4',\r\n\t\tp : '正 文'\r\n\t},\r\n\t'fontname.fontName' : {\r\n\t\t'SimSun' : '宋体',\r\n\t\t'NSimSun' : '新宋体',\r\n\t\t'FangSong_GB2312' : '仿宋_GB2312',\r\n\t\t'KaiTi_GB2312' : '楷体_GB2312',\r\n\t\t'SimHei' : '黑体',\r\n\t\t'Microsoft YaHei' : '微软雅黑',\r\n\t\t'Arial' : 'Arial',\r\n\t\t'Arial Black' : 'Arial Black',\r\n\t\t'Times New Roman' : 'Times New Roman',\r\n\t\t'Courier New' : 'Courier New',\r\n\t\t'Tahoma' : 'Tahoma',\r\n\t\t'Verdana' : 'Verdana'\r\n\t},\r\n\t'lineheight.lineHeight' : [\r\n\t\t{'1' : '单倍行距'},\r\n\t\t{'1.5' : '1.5倍行距'},\r\n\t\t{'2' : '2倍行距'},\r\n\t\t{'2.5' : '2.5倍行距'},\r\n\t\t{'3' : '3倍行距'}\r\n\t],\r\n\t'template.selectTemplate' : '可选模板',\r\n\t'template.replaceContent' : '替换当前内容',\r\n\t'template.fileList' : {\r\n\t\t'1.html' : '图片和文字',\r\n\t\t'2.html' : '表格',\r\n\t\t'3.html' : '项目编号'\r\n\t}\r\n}, 'zh-CN');\r\nKindEditor.options.langType = 'zh-CN';\n/*******************************************************************************\n* KindEditor - WYSIWYG HTML Editor for Internet\n* Copyright (C) 2006-2011 kindsoft.net\n*\n* @author Roddy <luolonghao@gmail.com>\n* @site http://www.kindsoft.net/\n* @licence http://www.kindsoft.net/license.php\n*******************************************************************************/\nKindEditor.plugin('anchor', function(K) {\n\tvar self = this, name = 'anchor', lang = self.lang(name + '.');\n\tself.plugin.anchor = {\n\t\tedit : function() {\n\t\t\tvar html = ['<div style=\"padding:20px;\">',\n\t\t\t\t\t'<div class=\"ke-dialog-row\">',\n\t\t\t\t\t'<label for=\"keName\">' + lang.name + '</label>',\n\t\t\t\t\t'<input class=\"ke-input-text\" type=\"text\" id=\"keName\" name=\"name\" value=\"\" style=\"width:100px;\" />',\n\t\t\t\t\t'</div>',\n\t\t\t\t\t'</div>'].join('');\n\t\t\tvar dialog = self.createDialog({\n\t\t\t\tname : name,\n\t\t\t\twidth : 300,\n\t\t\t\ttitle : self.lang(name),\n\t\t\t\tbody : html,\n\t\t\t\tyesBtn : {\n\t\t\t\t\tname : self.lang('yes'),\n\t\t\t\t\tclick : function(e) {\n\t\t\t\t\t\tself.insertHtml('<a name=\"' + nameBox.val() + '\">').hideDialog().focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar div = dialog.div,\n\t\t\t\tnameBox = K('input[name=\"name\"]', div);\n\t\t\tvar img = self.plugin.getSelectedAnchor();\n\t\t\tif (img) {\n\t\t\t\tnameBox.val(unescape(img.attr('data-ke-name')));\n\t\t\t}\n\t\t\tnameBox[0].focus();\n\t\t\tnameBox[0].select();\n\t\t},\n\t\t'delete' : function() {\n\t\t\tself.plugin.getSelectedAnchor().remove();\n\t\t}\n\t};\n\tself.clickToolbar(name, self.plugin.anchor.edit);\n});\n\n/*******************************************************************************\n* KindEditor - WYSIWYG HTML Editor for Internet\n* Copyright (C) 2006-2011 kindsoft.net\n*\n* @author Roddy <luolonghao@gmail.com>\n* @site http://www.kindsoft.net/\n* @licence http://www.kindsoft.net/license.php\n*******************************************************************************/\nKindEditor.plugin('autoheight', function(K) {\n\tvar self = this;\n\tif (!self.autoHeightMode) {\n\t\treturn;\n\t}\n\tvar minHeight;\n\tfunction hideScroll() {\n\t\tvar edit = self.edit;\n\t\tvar body = edit.doc.body;\n\t\tedit.iframe[0].scroll = 'no';\n\t\tbody.style.overflowY = 'hidden';\n\t}\n\tfunction resetHeight() {\n\t\tvar edit = self.edit;\n\t\tvar body = edit.doc.body;\n\t\tedit.iframe.height(minHeight);\n\t\tself.resize(null, Math.max((K.IE ? body.scrollHeight : body.offsetHeight) + 76, minHeight));\n\t}\n\tfunction init() {\n\t\tminHeight = K.removeUnit(self.height);\n\t\tself.edit.afterChange(resetHeight);\n\t\thideScroll();\n\t\tresetHeight();\n\t}\n\tif (self.isCreated) {\n\t\tinit();\n\t} else {\n\t\tself.afterCreate(init);\n\t}\n});\n/*\n* 如何实现真正的自动高度？\n* 修改编辑器高度之后，再次获取body内容高度时，最小值只会是当前iframe的设置高度，这样就导致高度只增不减。\n* 所以每次获取body内容高度之前，先将iframe的高度重置为最小高度，这样就能获取body的实际高度。\n* 由此就实现了真正的自动高度\n* 测试：chrome、firefox、IE9、IE8\n* */\n\n/*******************************************************************************\n* KindEditor - WYSIWYG HTML Editor for Internet\n* Copyright (C) 2006-2011 kindsoft.net\n*\n* @author Roddy <luolonghao@gmail.com>\n* @site http://www.kindsoft.net/\n* @licence http://www.kindsoft.net/license.php\n*******************************************************************************/\nKindEditor.plugin('baidumap', function(K) {\n\tvar self = this, name = 'baidumap', lang = self.lang(name + '.');\n\tvar mapWidth = K.undef(self.mapWidth, 558);\n\tvar mapHeight = K.undef(self.mapHeight, 360);\n\tself.clickToolbar(name, function() {\n\t\tvar html = ['<div style=\"padding:10px 20px;\">',\n\t\t\t'<div class=\"ke-header\">',\n\t\t\t'<div class=\"ke-left\">',\n\t\t\tlang.address + ' <input id=\"kindeditor_plugin_map_address\" name=\"address\" class=\"ke-input-text\" value=\"\" style=\"width:200px;\" /> ',\n\t\t\t'<span class=\"ke-button-common ke-button-outer\">',\n\t\t\t'<input type=\"button\" name=\"searchBtn\" class=\"ke-button-common ke-button\" value=\"' + lang.search + '\" />',\n\t\t\t'</span>',\n\t\t\t'</div>',\n\t\t\t'<div class=\"ke-right\">',\n\t\t\t'<input type=\"checkbox\" id=\"keInsertDynamicMap\" name=\"insertDynamicMap\" value=\"1\" /> <label for=\"keInsertDynamicMap\">' + lang.insertDynamicMap + '</label>',\n\t\t\t'</div>',\n\t\t\t'<div class=\"ke-clearfix\"></div>',\n\t\t\t'</div>',\n\t\t\t'<div class=\"ke-map\" style=\"width:' + mapWidth + 'px;height:' + mapHeight + 'px;\"></div>',\n\t\t\t'</div>'].join('');\n\t\tvar dialog = self.createDialog({\n\t\t\tname : name,\n\t\t\twidth : mapWidth + 42,\n\t\t\ttitle : self.lang(name),\n\t\t\tbody : html,\n\t\t\tyesBtn : {\n\t\t\t\tname : self.lang('yes'),\n\t\t\t\tclick : function(e) {\n\t\t\t\t\tvar map = win.map;\n\t\t\t\t\tvar centerObj = map.getCenter();\n\t\t\t\t\tvar center = centerObj.lng + ',' + centerObj.lat;\n\t\t\t\t\tvar zoom = map.getZoom();\n\t\t\t\t\tvar url = [checkbox[0].checked ? self.pluginsPath + 'baidumap/index.html' : 'http://api.map.baidu.com/staticimage',\n\t\t\t\t\t\t'?center=' + encodeURIComponent(center),\n\t\t\t\t\t\t'&zoom=' + encodeURIComponent(zoom),\n\t\t\t\t\t\t'&width=' + mapWidth,\n\t\t\t\t\t\t'&height=' + mapHeight,\n\t\t\t\t\t\t'&markers=' + encodeURIComponent(center),\n\t\t\t\t\t\t'&markerStyles=' + encodeURIComponent('l,A')].join('');\n\t\t\t\t\tif (checkbox[0].checked) {\n\t\t\t\t\t\tself.insertHtml('<iframe src=\"' + url + '\" frameborder=\"0\" style=\"width:' + (mapWidth + 2) + 'px;height:' + (mapHeight + 2) + 'px;\"></iframe>');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.exec('insertimage', url);\n\t\t\t\t\t}\n\t\t\t\t\tself.hideDialog().focus();\n\t\t\t\t}\n\t\t\t},\n\t\t\tbeforeRemove : function() {\n\t\t\t\tsearchBtn.remove();\n\t\t\t\tif (doc) {\n\t\t\t\t\tdoc.write('');\n\t\t\t\t}\n\t\t\t\tiframe.remove();\n\t\t\t}\n\t\t});\n\t\tvar div = dialog.div,\n\t\t\taddressBox = K('[name=\"address\"]', div),\n\t\t\tsearchBtn = K('[name=\"searchBtn\"]', div),\n\t\t\tcheckbox = K('[name=\"insertDynamicMap\"]', dialog.div),\n\t\t\twin, doc;\n\t\tvar iframe = K('<iframe class=\"ke-textarea\" frameborder=\"0\" src=\"' + self.pluginsPath + 'baidumap/map.html\" style=\"width:' + mapWidth + 'px;height:' + mapHeight + 'px;\"></iframe>');\n\t\tfunction ready() {\n\t\t\twin = iframe[0].contentWindow;\n\t\t\tdoc = K.iframeDoc(iframe);\n\t\t}\n\t\tiframe.bind('load', function() {\n\t\t\tiframe.unbind('load');\n\t\t\tif (K.IE) {\n\t\t\t\tready();\n\t\t\t} else {\n\t\t\t\tsetTimeout(ready, 0);\n\t\t\t}\n\t\t});\n\t\tK('.ke-map', div).replaceWith(iframe);\n\t\tsearchBtn.click(function() {\n\t\t\twin.search(addressBox.val());\n\t\t});\n\t});\n});\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\n\r\r\nKindEditor.plugin('map', function(K) {\r\n\tvar self = this, name = 'map', lang = self.lang(name + '.');\r\n\tself.clickToolbar(name, function() {\r\n\t\tvar html = ['<div style=\"padding:10px 20px;\">',\r\n\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\tlang.address + ' <input id=\"kindeditor_plugin_map_address\" name=\"address\" class=\"ke-input-text\" value=\"\" style=\"width:200px;\" /> ',\r\n\t\t\t'<span class=\"ke-button-common ke-button-outer\">',\r\n\t\t\t'<input type=\"button\" name=\"searchBtn\" class=\"ke-button-common ke-button\" value=\"' + lang.search + '\" />',\r\n\t\t\t'</span>',\r\n\t\t\t'</div>',\r\n\t\t\t'<div class=\"ke-map\" style=\"width:558px;height:360px;\"></div>',\r\n\t\t\t'</div>'].join('');\r\n\t\tvar dialog = self.createDialog({\r\n\t\t\tname : name,\r\n\t\t\twidth : 600,\r\n\t\t\ttitle : self.lang(name),\r\n\t\t\tbody : html,\r\n\t\t\tyesBtn : {\r\n\t\t\t\tname : self.lang('yes'),\r\n\t\t\t\tclick : function(e) {\r\n\t\t\t\t\tvar geocoder = win.geocoder,\r\n\t\t\t\t\t\tmap = win.map,\r\n\t\t\t\t\t\tcenter = map.getCenter().lat() + ',' + map.getCenter().lng(),\r\n\t\t\t\t\t\tzoom = map.getZoom(),\r\n\t\t\t\t\t\tmaptype = map.getMapTypeId(),\r\n\t\t\t\t\t\turl = 'http://maps.googleapis.com/maps/api/staticmap';\r\n\t\t\t\t\t\turl += '?center=' + encodeURIComponent(center);\r\n\t\t\t\t\t\turl += '&zoom=' + encodeURIComponent(zoom);\r\n\t\t\t\t\t\turl += '&size=558x360';\r\n\t\t\t\t\t\turl += '&maptype=' + encodeURIComponent(maptype);\r\n\t\t\t\t\t\turl += '&markers=' + encodeURIComponent(center);\r\n\t\t\t\t\t\turl += '&language=' + self.langType;\r\n\t\t\t\t\t\turl += '&sensor=false';\r\n\t\t\t\t\tself.exec('insertimage', url).hideDialog().focus();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbeforeRemove : function() {\r\n\t\t\t\tsearchBtn.remove();\r\n\t\t\t\tif (doc) {\r\n\t\t\t\t\tdoc.write('');\r\n\t\t\t\t}\r\n\t\t\t\tiframe.remove();\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar div = dialog.div,\r\n\t\t\taddressBox = K('[name=\"address\"]', div),\r\n\t\t\tsearchBtn = K('[name=\"searchBtn\"]', div),\r\n\t\t\twin, doc;\r\n\t\tvar iframeHtml = ['<!doctype html><html><head>',\r\n\t\t\t'<meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=no\" />',\r\n\t\t\t'<style>',\r\n\t\t\t'\thtml { height: 100% }',\r\n\t\t\t'\tbody { height: 100%; margin: 0; padding: 0; background-color: #FFF }',\r\n\t\t\t'\t#map_canvas { height: 100% }',\r\n\t\t\t'</style>',\r\n\t\t\t'<script src=\"http://maps.googleapis.com/maps/api/js?sensor=false&language=' + self.langType + '\"></script>',\r\n\t\t\t'<script>',\r\n\t\t\t'var map, geocoder;',\r\n\t\t\t'function initialize() {',\r\n\t\t\t'\tvar latlng = new google.maps.LatLng(31.230393, 121.473704);',\r\n\t\t\t'\tvar options = {',\r\n\t\t\t'\t\tzoom: 11,',\r\n\t\t\t'\t\tcenter: latlng,',\r\n\t\t\t'\t\tdisableDefaultUI: true,',\r\n\t\t\t'\t\tpanControl: true,',\r\n\t\t\t'\t\tzoomControl: true,',\r\n\t\t\t'\t\tmapTypeControl: true,',\r\n\t\t\t'\t\tscaleControl: true,',\r\n\t\t\t'\t\tstreetViewControl: false,',\r\n\t\t\t'\t\toverviewMapControl: true,',\r\n\t\t\t'\t\tmapTypeId: google.maps.MapTypeId.ROADMAP',\r\n\t\t\t'\t};',\r\n\t\t\t'\tmap = new google.maps.Map(document.getElementById(\"map_canvas\"), options);',\r\n\t\t\t'\tgeocoder = new google.maps.Geocoder();',\r\n\t\t\t'\tgeocoder.geocode({latLng: latlng}, function(results, status) {',\r\n\t\t\t'\t\tif (status == google.maps.GeocoderStatus.OK) {',\r\n\t\t\t'\t\t\tif (results[3]) {',\r\n\t\t\t'\t\t\t\tparent.document.getElementById(\"kindeditor_plugin_map_address\").value = results[3].formatted_address;',\r\n\t\t\t'\t\t\t}',\r\n\t\t\t'\t\t}',\r\n\t\t\t'\t});',\r\n\t\t\t'}',\r\n\t\t\t'function search(address) {',\r\n\t\t\t'\tif (!map) return;',\r\n\t\t\t'\tgeocoder.geocode({address : address}, function(results, status) {',\r\n\t\t\t'\t\tif (status == google.maps.GeocoderStatus.OK) {',\r\n\t\t\t'\t\t\tmap.setZoom(11);',\r\n\t\t\t'\t\t\tmap.setCenter(results[0].geometry.location);',\r\n\t\t\t'\t\t\tvar marker = new google.maps.Marker({',\r\n\t\t\t'\t\t\t\tmap: map,',\r\n\t\t\t'\t\t\t\tposition: results[0].geometry.location',\r\n\t\t\t'\t\t\t});',\r\n\t\t\t'\t\t} else {',\r\n\t\t\t'\t\t\talert(\"Invalid address: \" + address);',\r\n\t\t\t'\t\t}',\r\n\t\t\t'\t});',\r\n\t\t\t'}',\r\n\t\t\t'</script>',\r\n\t\t\t'</head>',\r\n\t\t\t'<body onload=\"initialize();\">',\r\n\t\t\t'<div id=\"map_canvas\" style=\"width:100%; height:100%\"></div>',\r\n\t\t\t'</body></html>'].join('\\n');\r\n\t\tvar iframe = K('<iframe class=\"ke-textarea\" frameborder=\"0\" src=\"' + self.pluginsPath + 'map/map.html\" style=\"width:558px;height:360px;\"></iframe>');\r\n\t\tfunction ready() {\r\n\t\t\twin = iframe[0].contentWindow;\r\n\t\t\tdoc = K.iframeDoc(iframe);\r\n\t\t}\r\n\t\tiframe.bind('load', function() {\r\n\t\t\tiframe.unbind('load');\r\n\t\t\tif (K.IE) {\r\n\t\t\t\tready();\r\n\t\t\t} else {\r\n\t\t\t\tsetTimeout(ready, 0);\r\n\t\t\t}\r\n\t\t});\r\n\t\tK('.ke-map', div).replaceWith(iframe);\r\n\t\tsearchBtn.click(function() {\r\n\t\t\twin.search(addressBox.val());\r\n\t\t});\r\n\t});\r\n});\r\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\nKindEditor.plugin('clearhtml', function(K) {\r\n\tvar self = this, name = 'clearhtml';\r\n\tself.clickToolbar(name, function() {\r\n\t\tself.focus();\r\n\t\tvar html = self.html();\r\n\t\thtml = html.replace(/(<script[^>]*>)([\\s\\S]*?)(<\\/script>)/ig, '');\r\n\t\thtml = html.replace(/(<style[^>]*>)([\\s\\S]*?)(<\\/style>)/ig, '');\r\n\t\thtml = K.formatHtml(html, {\r\n\t\t\ta : ['href', 'target'],\r\n\t\t\tembed : ['src', 'width', 'height', 'type', 'loop', 'autostart', 'quality', '.width', '.height', 'align', 'allowscriptaccess'],\r\n\t\t\timg : ['src', 'width', 'height', 'border', 'alt', 'title', '.width', '.height'],\r\n\t\t\ttable : ['border'],\r\n\t\t\t'td,th' : ['rowspan', 'colspan'],\r\n\t\t\t'div,hr,br,tbody,tr,p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6' : []\r\n\t\t});\r\n\t\tself.html(html);\r\n\t\tself.cmd.selection(true);\r\n\t\tself.addBookmark();\r\n\t});\r\n});\r\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\n\r\r\r\nKindEditor.plugin('code', function(K) {\r\n\tvar self = this, name = 'code';\r\n\tself.clickToolbar(name, function() {\r\n\t\tvar lang = self.lang(name + '.'),\r\n\t\t\thtml = ['<div style=\"padding:10px 20px;\">',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<select class=\"ke-code-type\">',\r\n\t\t\t\t'<option value=\"js\">JavaScript</option>',\r\n\t\t\t\t'<option value=\"html\">HTML</option>',\r\n\t\t\t\t'<option value=\"css\">CSS</option>',\r\n\t\t\t\t'<option value=\"php\">PHP</option>',\r\n\t\t\t\t'<option value=\"pl\">Perl</option>',\r\n\t\t\t\t'<option value=\"py\">Python</option>',\r\n\t\t\t\t'<option value=\"rb\">Ruby</option>',\r\n\t\t\t\t'<option value=\"java\">Java</option>',\r\n\t\t\t\t'<option value=\"vb\">ASP/VB</option>',\r\n\t\t\t\t'<option value=\"cpp\">C/C++</option>',\r\n\t\t\t\t'<option value=\"cs\">C#</option>',\r\n\t\t\t\t'<option value=\"xml\">XML</option>',\r\n\t\t\t\t'<option value=\"bsh\">Shell</option>',\r\n\t\t\t\t'<option value=\"\">Other</option>',\r\n\t\t\t\t'</select>',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'<textarea class=\"ke-textarea\" style=\"width:408px;height:260px;\"></textarea>',\r\n\t\t\t\t'</div>'].join(''),\r\n\t\t\tdialog = self.createDialog({\r\n\t\t\t\tname : name,\r\n\t\t\t\twidth : 450,\r\n\t\t\t\ttitle : self.lang(name),\r\n\t\t\t\tbody : html,\r\n\t\t\t\tyesBtn : {\r\n\t\t\t\t\tname : self.lang('yes'),\r\n\t\t\t\t\tclick : function(e) {\r\n\t\t\t\t\t\tvar type = K('.ke-code-type', dialog.div).val(),\r\n\t\t\t\t\t\t\tcode = textarea.val(),\r\n\t\t\t\t\t\t\tcls = type === '' ? '' :  ' lang-' + type,\r\n\t\t\t\t\t\t\thtml = '<pre class=\"prettyprint' + cls + '\">\\n' + K.escape(code) + '</pre> ';\r\n\t\t\t\t\t\tif (K.trim(code) === '') {\r\n\t\t\t\t\t\t\talert(lang.pleaseInput);\r\n\t\t\t\t\t\t\ttextarea[0].focus();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.insertHtml(html).hideDialog().focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\ttextarea = K('textarea', dialog.div);\r\n\t\ttextarea[0].focus();\r\n\t});\r\n});\r\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\nKindEditor.plugin('emoticons', function(K) {\r\n\tvar self = this, name = 'emoticons',\r\n\t\tpath = (self.emoticonsPath || self.pluginsPath + 'emoticons/images/'),\r\n\t\tallowPreview = self.allowPreviewEmoticons === undefined ? true : self.allowPreviewEmoticons,\r\n\t\tcurrentPageNum = 1;\r\n\tself.clickToolbar(name, function() {\r\n\t\tvar rows = 5, cols = 9, total = 135, startNum = 0,\r\n\t\t\tcells = rows * cols, pages = Math.ceil(total / cells),\r\n\t\t\tcolsHalf = Math.floor(cols / 2),\r\n\t\t\twrapperDiv = K('<div class=\"ke-plugin-emoticons\"></div>'),\r\n\t\t\telements = [],\r\n\t\t\tmenu = self.createMenu({\r\n\t\t\t\tname : name,\r\n\t\t\t\tbeforeRemove : function() {\r\n\t\t\t\t\tremoveEvent();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\tmenu.div.append(wrapperDiv);\r\n\t\tvar previewDiv, previewImg;\r\n\t\tif (allowPreview) {\r\n\t\t\tpreviewDiv = K('<div class=\"ke-preview\"></div>').css('right', 0);\r\n\t\t\tpreviewImg = K('<img class=\"ke-preview-img\" src=\"' + path + startNum + '.gif\" />');\r\n\t\t\twrapperDiv.append(previewDiv);\r\n\t\t\tpreviewDiv.append(previewImg);\r\n\t\t}\r\n\t\tfunction bindCellEvent(cell, j, num) {\r\n\t\t\tif (previewDiv) {\r\n\t\t\t\tcell.mouseover(function() {\r\n\t\t\t\t\tif (j > colsHalf) {\r\n\t\t\t\t\t\tpreviewDiv.css('left', 0);\r\n\t\t\t\t\t\tpreviewDiv.css('right', '');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpreviewDiv.css('left', '');\r\n\t\t\t\t\t\tpreviewDiv.css('right', 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpreviewImg.attr('src', path + num + '.gif');\r\n\t\t\t\t\tK(this).addClass('ke-on');\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tcell.mouseover(function() {\r\n\t\t\t\t\tK(this).addClass('ke-on');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tcell.mouseout(function() {\r\n\t\t\t\tK(this).removeClass('ke-on');\r\n\t\t\t});\r\n\t\t\tcell.click(function(e) {\r\n\t\t\t\tself.insertHtml('<img src=\"' + path + num + '.gif\" border=\"0\" alt=\"\" />').hideMenu().focus();\r\n\t\t\t\te.stop();\r\n\t\t\t});\r\n\t\t}\r\n\t\tfunction createEmoticonsTable(pageNum, parentDiv) {\r\n\t\t\tvar table = document.createElement('table');\r\n\t\t\tparentDiv.append(table);\r\n\t\t\tif (previewDiv) {\r\n\t\t\t\tK(table).mouseover(function() {\r\n\t\t\t\t\tpreviewDiv.show('block');\r\n\t\t\t\t});\r\n\t\t\t\tK(table).mouseout(function() {\r\n\t\t\t\t\tpreviewDiv.hide();\r\n\t\t\t\t});\r\n\t\t\t\telements.push(K(table));\r\n\t\t\t}\r\n\t\t\ttable.className = 'ke-table';\r\n\t\t\ttable.cellPadding = 0;\r\n\t\t\ttable.cellSpacing = 0;\r\n\t\t\ttable.border = 0;\r\n\t\t\tvar num = (pageNum - 1) * cells + startNum;\r\n\t\t\tfor (var i = 0; i < rows; i++) {\r\n\t\t\t\tvar row = table.insertRow(i);\r\n\t\t\t\tfor (var j = 0; j < cols; j++) {\r\n\t\t\t\t\tvar cell = K(row.insertCell(j));\r\n\t\t\t\t\tcell.addClass('ke-cell');\r\n\t\t\t\t\tbindCellEvent(cell, j, num);\r\n\t\t\t\t\tvar span = K('<span class=\"ke-img\"></span>')\r\n\t\t\t\t\t\t.css('background-position', '-' + (24 * num) + 'px 0px')\r\n\t\t\t\t\t\t.css('background-image', 'url(' + path + 'static.gif)');\r\n\t\t\t\t\tcell.append(span);\r\n\t\t\t\t\telements.push(cell);\r\n\t\t\t\t\tnum++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn table;\r\n\t\t}\r\n\t\tvar table = createEmoticonsTable(currentPageNum, wrapperDiv);\r\n\t\tfunction removeEvent() {\r\n\t\t\tK.each(elements, function() {\r\n\t\t\t\tthis.unbind();\r\n\t\t\t});\r\n\t\t}\r\n\t\tvar pageDiv;\r\n\t\tfunction bindPageEvent(el, pageNum) {\r\n\t\t\tel.click(function(e) {\r\n\t\t\t\tremoveEvent();\r\n\t\t\t\ttable.parentNode.removeChild(table);\r\n\t\t\t\tpageDiv.remove();\r\n\t\t\t\ttable = createEmoticonsTable(pageNum, wrapperDiv);\r\n\t\t\t\tcreatePageTable(pageNum);\r\n\t\t\t\tcurrentPageNum = pageNum;\r\n\t\t\t\te.stop();\r\n\t\t\t});\r\n\t\t}\r\n\t\tfunction createPageTable(currentPageNum) {\r\n\t\t\tpageDiv = K('<div class=\"ke-page\"></div>');\r\n\t\t\twrapperDiv.append(pageDiv);\r\n\t\t\tfor (var pageNum = 1; pageNum <= pages; pageNum++) {\r\n\t\t\t\tif (currentPageNum !== pageNum) {\r\n\t\t\t\t\tvar a = K('<a href=\"javascript:;\">[' + pageNum + ']</a>');\r\n\t\t\t\t\tbindPageEvent(a, pageNum);\r\n\t\t\t\t\tpageDiv.append(a);\r\n\t\t\t\t\telements.push(a);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpageDiv.append(K('@[' + pageNum + ']'));\r\n\t\t\t\t}\r\n\t\t\t\tpageDiv.append(K('@&nbsp;'));\r\n\t\t\t}\r\n\t\t}\r\n\t\tcreatePageTable(currentPageNum);\r\n\t});\r\n});\r\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\nKindEditor.plugin('filemanager', function(K) {\r\n\tvar self = this, name = 'filemanager',\r\n\t\tfileManagerJson = K.undef(self.fileManagerJson, self.basePath + 'php/file_manager_json.php'),\r\n\t\timgPath = self.pluginsPath + name + '/images/',\r\n\t\tlang = self.lang(name + '.');\r\n\tfunction makeFileTitle(filename, filesize, datetime) {\r\n\t\treturn filename + ' (' + Math.ceil(filesize / 1024) + 'KB, ' + datetime + ')';\r\n\t}\r\n\tfunction bindTitle(el, data) {\r\n\t\tif (data.is_dir) {\r\n\t\t\tel.attr('title', data.filename);\r\n\t\t} else {\r\n\t\t\tel.attr('title', makeFileTitle(data.filename, data.filesize, data.datetime));\r\n\t\t}\r\n\t}\r\n\tself.plugin.filemanagerDialog = function(options) {\r\n\t\tvar width = K.undef(options.width, 650),\r\n\t\t\theight = K.undef(options.height, 510),\r\n\t\t\tdirName = K.undef(options.dirName, ''),\r\n\t\t\tviewType = K.undef(options.viewType, 'VIEW').toUpperCase(),\r\n\t\t\tclickFn = options.clickFn;\r\n\t\tvar html = [\r\n\t\t\t'<div style=\"padding:10px 20px;\">',\r\n\t\t\t'<div class=\"ke-plugin-filemanager-header\">',\r\n\t\t\t'<div class=\"ke-left\">',\r\n\t\t\t'<img class=\"ke-inline-block\" name=\"moveupImg\" src=\"' + imgPath + 'go-up.gif\" width=\"16\" height=\"16\" border=\"0\" alt=\"\" /> ',\r\n\t\t\t'<a class=\"ke-inline-block\" name=\"moveupLink\" href=\"javascript:;\">' + lang.moveup + '</a>',\r\n\t\t\t'</div>',\r\n\t\t\t'<div class=\"ke-right\">',\r\n\t\t\tlang.viewType + ' <select class=\"ke-inline-block\" name=\"viewType\">',\r\n\t\t\t'<option value=\"VIEW\">' + lang.viewImage + '</option>',\r\n\t\t\t'<option value=\"LIST\">' + lang.listImage + '</option>',\r\n\t\t\t'</select> ',\r\n\t\t\tlang.orderType + ' <select class=\"ke-inline-block\" name=\"orderType\">',\r\n\t\t\t'<option value=\"NAME\">' + lang.fileName + '</option>',\r\n\t\t\t'<option value=\"SIZE\">' + lang.fileSize + '</option>',\r\n\t\t\t'<option value=\"TYPE\">' + lang.fileType + '</option>',\r\n\t\t\t'</select>',\r\n\t\t\t'</div>',\r\n\t\t\t'<div class=\"ke-clearfix\"></div>',\r\n\t\t\t'</div>',\r\n\t\t\t'<div class=\"ke-plugin-filemanager-body\"></div>',\r\n\t\t\t'</div>'\r\n\t\t].join('');\r\n\t\tvar dialog = self.createDialog({\r\n\t\t\tname : name,\r\n\t\t\twidth : width,\r\n\t\t\theight : height,\r\n\t\t\ttitle : self.lang(name),\r\n\t\t\tbody : html\r\n\t\t}),\r\n\t\tdiv = dialog.div,\r\n\t\tbodyDiv = K('.ke-plugin-filemanager-body', div),\r\n\t\tmoveupImg = K('[name=\"moveupImg\"]', div),\r\n\t\tmoveupLink = K('[name=\"moveupLink\"]', div),\r\n\t\tviewServerBtn = K('[name=\"viewServer\"]', div),\r\n\t\tviewTypeBox = K('[name=\"viewType\"]', div),\r\n\t\torderTypeBox = K('[name=\"orderType\"]', div);\r\n\t\tfunction reloadPage(path, order, func) {\r\n\t\t\tvar param = 'path=' + path + '&order=' + order + '&dir=' + dirName;\r\n\t\t\tdialog.showLoading(self.lang('ajaxLoading'));\r\n\t\t\tK.ajax(K.addParam(fileManagerJson, param + '&' + new Date().getTime()), function(data) {\r\n\t\t\t\tdialog.hideLoading();\r\n\t\t\t\tfunc(data);\r\n\t\t\t});\r\n\t\t}\r\n\t\tvar elList = [];\r\n\t\tfunction bindEvent(el, result, data, createFunc) {\r\n\t\t\tvar fileUrl = K.formatUrl(result.current_url + data.filename, 'absolute'),\r\n\t\t\t\tdirPath = encodeURIComponent(result.current_dir_path + data.filename + '/');\r\n\t\t\tif (data.is_dir) {\r\n\t\t\t\tel.click(function(e) {\r\n\t\t\t\t\treloadPage(dirPath, orderTypeBox.val(), createFunc);\r\n\t\t\t\t});\r\n\t\t\t} else if (data.is_photo) {\r\n\t\t\t\tel.click(function(e) {\r\n\t\t\t\t\tclickFn.call(this, fileUrl, data.filename);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tel.click(function(e) {\r\n\t\t\t\t\tclickFn.call(this, fileUrl, data.filename);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telList.push(el);\r\n\t\t}\r\n\t\tfunction createCommon(result, createFunc) {\r\n\t\t\tK.each(elList, function() {\r\n\t\t\t\tthis.unbind();\r\n\t\t\t});\r\n\t\t\tmoveupLink.unbind();\r\n\t\t\tviewTypeBox.unbind();\r\n\t\t\torderTypeBox.unbind();\r\n\t\t\tif (result.current_dir_path) {\r\n\t\t\t\tmoveupLink.click(function(e) {\r\n\t\t\t\t\treloadPage(result.moveup_dir_path, orderTypeBox.val(), createFunc);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tfunction changeFunc() {\r\n\t\t\t\tif (viewTypeBox.val() == 'VIEW') {\r\n\t\t\t\t\treloadPage(result.current_dir_path, orderTypeBox.val(), createView);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treloadPage(result.current_dir_path, orderTypeBox.val(), createList);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tviewTypeBox.change(changeFunc);\r\n\t\t\torderTypeBox.change(changeFunc);\r\n\t\t\tbodyDiv.html('');\r\n\t\t}\r\n\t\tfunction createList(result) {\r\n\t\t\tcreateCommon(result, createList);\r\n\t\t\tvar table = document.createElement('table');\r\n\t\t\ttable.className = 'ke-table';\r\n\t\t\ttable.cellPadding = 0;\r\n\t\t\ttable.cellSpacing = 0;\r\n\t\t\ttable.border = 0;\r\n\t\t\tbodyDiv.append(table);\r\n\t\t\tvar fileList = result.file_list;\r\n\t\t\tfor (var i = 0, len = fileList.length; i < len; i++) {\r\n\t\t\t\tvar data = fileList[i], row = K(table.insertRow(i));\r\n\t\t\t\trow.mouseover(function(e) {\r\n\t\t\t\t\tK(this).addClass('ke-on');\r\n\t\t\t\t})\r\n\t\t\t\t.mouseout(function(e) {\r\n\t\t\t\t\tK(this).removeClass('ke-on');\r\n\t\t\t\t});\r\n\t\t\t\tvar iconUrl = imgPath + (data.is_dir ? 'folder-16.gif' : 'file-16.gif'),\r\n\t\t\t\t\timg = K('<img src=\"' + iconUrl + '\" width=\"16\" height=\"16\" alt=\"' + data.filename + '\" align=\"absmiddle\" />'),\r\n\t\t\t\t\tcell0 = K(row[0].insertCell(0)).addClass('ke-cell ke-name').append(img).append(document.createTextNode(' ' + data.filename));\r\n\t\t\t\tif (!data.is_dir || data.has_file) {\r\n\t\t\t\t\trow.css('cursor', 'pointer');\r\n\t\t\t\t\tcell0.attr('title', data.filename);\r\n\t\t\t\t\tbindEvent(cell0, result, data, createList);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcell0.attr('title', lang.emptyFolder);\r\n\t\t\t\t}\r\n\t\t\t\tK(row[0].insertCell(1)).addClass('ke-cell ke-size').html(data.is_dir ? '-' : Math.ceil(data.filesize / 1024) + 'KB');\r\n\t\t\t\tK(row[0].insertCell(2)).addClass('ke-cell ke-datetime').html(data.datetime);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction createView(result) {\r\n\t\t\tcreateCommon(result, createView);\r\n\t\t\tvar fileList = result.file_list;\r\n\t\t\tfor (var i = 0, len = fileList.length; i < len; i++) {\r\n\t\t\t\tvar data = fileList[i],\r\n\t\t\t\t\tdiv = K('<div class=\"ke-inline-block ke-item\"></div>');\r\n\t\t\t\tbodyDiv.append(div);\r\n\t\t\t\tvar photoDiv = K('<div class=\"ke-inline-block ke-photo\"></div>')\r\n\t\t\t\t\t.mouseover(function(e) {\r\n\t\t\t\t\t\tK(this).addClass('ke-on');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.mouseout(function(e) {\r\n\t\t\t\t\t\tK(this).removeClass('ke-on');\r\n\t\t\t\t\t});\r\n\t\t\t\tdiv.append(photoDiv);\r\n\t\t\t\tvar fileUrl = result.current_url + data.filename,\r\n\t\t\t\t\ticonUrl = data.is_dir ? imgPath + 'folder-64.gif' : (data.is_photo ? fileUrl : imgPath + 'file-64.gif');\r\n\t\t\t\tvar img = K('<img src=\"' + iconUrl + '\" width=\"80\" height=\"80\" alt=\"' + data.filename + '\" />');\r\n\t\t\t\tif (!data.is_dir || data.has_file) {\r\n\t\t\t\t\tphotoDiv.css('cursor', 'pointer');\r\n\t\t\t\t\tbindTitle(photoDiv, data);\r\n\t\t\t\t\tbindEvent(photoDiv, result, data, createView);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tphotoDiv.attr('title', lang.emptyFolder);\r\n\t\t\t\t}\r\n\t\t\t\tphotoDiv.append(img);\r\n\t\t\t\tdiv.append('<div class=\"ke-name\" title=\"' + data.filename + '\">' + data.filename + '</div>');\r\n\t\t\t}\r\n\t\t}\r\n\t\tviewTypeBox.val(viewType);\r\n\t\treloadPage('', orderTypeBox.val(), viewType == 'VIEW' ? createView : createList);\r\n\t\treturn dialog;\r\n\t}\r\n});\r\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\nKindEditor.plugin('flash', function(K) {\r\n\tvar self = this, name = 'flash', lang = self.lang(name + '.'),\r\n\t\tallowFlashUpload = K.undef(self.allowFlashUpload, true),\r\n\t\tallowFileManager = K.undef(self.allowFileManager, false),\r\n\t\tformatUploadUrl = K.undef(self.formatUploadUrl, true),\r\n\t\textraParams = K.undef(self.extraFileUploadParams, {}),\r\n\t\tfilePostName = K.undef(self.filePostName, 'imgFile'),\r\n\t\tuploadJson = K.undef(self.uploadJson, self.basePath + 'php/upload_json.php');\r\n\tself.plugin.flash = {\r\n\t\tedit : function() {\r\n\t\t\tvar html = [\r\n\t\t\t\t'<div style=\"padding:20px;\">',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<label for=\"keUrl\" style=\"width:60px;\">' + lang.url + '</label>',\r\n\t\t\t\t'<input class=\"ke-input-text\" type=\"text\" id=\"keUrl\" name=\"url\" value=\"\" style=\"width:160px;\" /> &nbsp;',\r\n\t\t\t\t'<input type=\"button\" class=\"ke-upload-button\" value=\"' + lang.upload + '\" /> &nbsp;',\r\n\t\t\t\t'<span class=\"ke-button-common ke-button-outer\">',\r\n\t\t\t\t'<input type=\"button\" class=\"ke-button-common ke-button\" name=\"viewServer\" value=\"' + lang.viewServer + '\" />',\r\n\t\t\t\t'</span>',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<label for=\"keWidth\" style=\"width:60px;\">' + lang.width + '</label>',\r\n\t\t\t\t'<input type=\"text\" id=\"keWidth\" class=\"ke-input-text ke-input-number\" name=\"width\" value=\"550\" maxlength=\"4\" /> ',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<label for=\"keHeight\" style=\"width:60px;\">' + lang.height + '</label>',\r\n\t\t\t\t'<input type=\"text\" id=\"keHeight\" class=\"ke-input-text ke-input-number\" name=\"height\" value=\"400\" maxlength=\"4\" /> ',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'</div>'\r\n\t\t\t].join('');\r\n\t\t\tvar dialog = self.createDialog({\r\n\t\t\t\tname : name,\r\n\t\t\t\twidth : 450,\r\n\t\t\t\ttitle : self.lang(name),\r\n\t\t\t\tbody : html,\r\n\t\t\t\tyesBtn : {\r\n\t\t\t\t\tname : self.lang('yes'),\r\n\t\t\t\t\tclick : function(e) {\r\n\t\t\t\t\t\tvar url = K.trim(urlBox.val()),\r\n\t\t\t\t\t\t\twidth = widthBox.val(),\r\n\t\t\t\t\t\t\theight = heightBox.val();\r\n\t\t\t\t\t\tif (url == 'http://' || K.invalidUrl(url)) {\r\n\t\t\t\t\t\t\talert(self.lang('invalidUrl'));\r\n\t\t\t\t\t\t\turlBox[0].focus();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!/^\\d*$/.test(width)) {\r\n\t\t\t\t\t\t\talert(self.lang('invalidWidth'));\r\n\t\t\t\t\t\t\twidthBox[0].focus();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!/^\\d*$/.test(height)) {\r\n\t\t\t\t\t\t\talert(self.lang('invalidHeight'));\r\n\t\t\t\t\t\t\theightBox[0].focus();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar html = K.mediaImg(self.themesPath + 'common/blank.gif', {\r\n\t\t\t\t\t\t\t\tsrc : url,\r\n\t\t\t\t\t\t\t\ttype : K.mediaType('.swf'),\r\n\t\t\t\t\t\t\t\twidth : width,\r\n\t\t\t\t\t\t\t\theight : height,\r\n\t\t\t\t\t\t\t\tquality : 'high'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\tself.insertHtml(html).hideDialog().focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tdiv = dialog.div,\r\n\t\t\turlBox = K('[name=\"url\"]', div),\r\n\t\t\tviewServerBtn = K('[name=\"viewServer\"]', div),\r\n\t\t\twidthBox = K('[name=\"width\"]', div),\r\n\t\t\theightBox = K('[name=\"height\"]', div);\r\n\t\t\turlBox.val('http://');\r\n\t\t\tif (allowFlashUpload) {\r\n\t\t\t\tvar uploadbutton = K.uploadbutton({\r\n\t\t\t\t\tbutton : K('.ke-upload-button', div)[0],\r\n\t\t\t\t\tfieldName : filePostName,\r\n\t\t\t\t\textraParams : extraParams,\r\n\t\t\t\t\turl : K.addParam(uploadJson, 'dir=flash'),\r\n\t\t\t\t\tafterUpload : function(data) {\r\n\t\t\t\t\t\tdialog.hideLoading();\r\n\t\t\t\t\t\tif (data.error === 0) {\r\n\t\t\t\t\t\t\tvar url = data.url;\r\n\t\t\t\t\t\t\tif (formatUploadUrl) {\r\n\t\t\t\t\t\t\t\turl = K.formatUrl(url, 'absolute');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\turlBox.val(url);\r\n\t\t\t\t\t\t\tif (self.afterUpload) {\r\n\t\t\t\t\t\t\t\tself.afterUpload.call(self, url, data, name);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\talert(self.lang('uploadSuccess'));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\talert(data.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tafterError : function(html) {\r\n\t\t\t\t\t\tdialog.hideLoading();\r\n\t\t\t\t\t\tself.errorDialog(html);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tuploadbutton.fileBox.change(function(e) {\r\n\t\t\t\t\tdialog.showLoading(self.lang('uploadLoading'));\r\n\t\t\t\t\tuploadbutton.submit();\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tK('.ke-upload-button', div).hide();\r\n\t\t\t}\r\n\t\t\tif (allowFileManager) {\r\n\t\t\t\tviewServerBtn.click(function(e) {\r\n\t\t\t\t\tself.loadPlugin('filemanager', function() {\r\n\t\t\t\t\t\tself.plugin.filemanagerDialog({\r\n\t\t\t\t\t\t\tviewType : 'LIST',\r\n\t\t\t\t\t\t\tdirName : 'flash',\r\n\t\t\t\t\t\t\tclickFn : function(url, title) {\r\n\t\t\t\t\t\t\t\tif (self.dialogs.length > 1) {\r\n\t\t\t\t\t\t\t\t\tK('[name=\"url\"]', div).val(url);\r\n\t\t\t\t\t\t\t\t\tif (self.afterSelectFile) {\r\n\t\t\t\t\t\t\t\t\t\tself.afterSelectFile.call(self, url);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tself.hideDialog();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tviewServerBtn.hide();\r\n\t\t\t}\r\n\t\t\tvar img = self.plugin.getSelectedFlash();\r\n\t\t\tif (img) {\r\n\t\t\t\tvar attrs = K.mediaAttrs(img.attr('data-ke-tag'));\r\n\t\t\t\turlBox.val(attrs.src);\r\n\t\t\t\twidthBox.val(K.removeUnit(img.css('width')) || attrs.width || 0);\r\n\t\t\t\theightBox.val(K.removeUnit(img.css('height')) || attrs.height || 0);\r\n\t\t\t}\r\n\t\t\turlBox[0].focus();\r\n\t\t\turlBox[0].select();\r\n\t\t},\r\n\t\t'delete' : function() {\r\n\t\t\tself.plugin.getSelectedFlash().remove();\r\n\t\t\tself.addBookmark();\r\n\t\t}\r\n\t};\r\n\tself.clickToolbar(name, self.plugin.flash.edit);\r\n});\r\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\nKindEditor.plugin('image', function(K) {\r\n\tvar self = this, name = 'image',\r\n\t\tallowImageUpload = K.undef(self.allowImageUpload, true),\r\n\t\tallowImageRemote = K.undef(self.allowImageRemote, true),\r\n\t\tformatUploadUrl = K.undef(self.formatUploadUrl, true),\r\n\t\tallowFileManager = K.undef(self.allowFileManager, false),\r\n\t\tuploadJson = K.undef(self.uploadJson, self.basePath + 'php/upload_json.php'),\r\n\t\timageTabIndex = K.undef(self.imageTabIndex, 0),\r\n\t\timgPath = self.pluginsPath + 'image/images/',\r\n\t\textraParams = K.undef(self.extraFileUploadParams, {}),\r\n\t\tfilePostName = K.undef(self.filePostName, 'imgFile'),\r\n\t\tfillDescAfterUploadImage = K.undef(self.fillDescAfterUploadImage, false),\r\n\t\tlang = self.lang(name + '.');\r\n\tself.plugin.imageDialog = function(options) {\r\n\t\tvar imageUrl = options.imageUrl,\r\n\t\t\timageWidth = K.undef(options.imageWidth, ''),\r\n\t\t\timageHeight = K.undef(options.imageHeight, ''),\r\n\t\t\timageTitle = K.undef(options.imageTitle, ''),\r\n\t\t\timageAlign = K.undef(options.imageAlign, ''),\r\n\t\t\tshowRemote = K.undef(options.showRemote, true),\r\n\t\t\tshowLocal = K.undef(options.showLocal, true),\r\n\t\t\ttabIndex = K.undef(options.tabIndex, 0),\r\n\t\t\tclickFn = options.clickFn;\r\n\t\tvar target = 'kindeditor_upload_iframe_' + new Date().getTime();\r\n\t\tvar hiddenElements = [];\r\n\t\tfor(var k in extraParams){\r\n\t\t\thiddenElements.push('<input type=\"hidden\" name=\"' + k + '\" value=\"' + extraParams[k] + '\" />');\r\n\t\t}\r\n\t\tvar html = [\r\n\t\t\t'<div style=\"padding:20px;\">',\r\n\t\t\t'<div class=\"tabs\"></div>',\r\n\t\t\t'<div class=\"tab1\" style=\"display:none;\">',\r\n\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t'<label for=\"remoteUrl\" style=\"width:60px;\">' + lang.remoteUrl + '</label>',\r\n\t\t\t'<input type=\"text\" id=\"remoteUrl\" class=\"ke-input-text\" name=\"url\" value=\"\" style=\"width:200px;\" /> &nbsp;',\r\n\t\t\t'<span class=\"ke-button-common ke-button-outer\">',\r\n\t\t\t'<input type=\"button\" class=\"ke-button-common ke-button\" name=\"viewServer\" value=\"' + lang.viewServer + '\" />',\r\n\t\t\t'</span>',\r\n\t\t\t'</div>',\r\n\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t'<label for=\"remoteWidth\" style=\"width:60px;\">' + lang.size + '</label>',\r\n\t\t\tlang.width + ' <input type=\"text\" id=\"remoteWidth\" class=\"ke-input-text ke-input-number\" name=\"width\" value=\"\" maxlength=\"4\" /> ',\r\n\t\t\tlang.height + ' <input type=\"text\" class=\"ke-input-text ke-input-number\" name=\"height\" value=\"\" maxlength=\"4\" /> ',\r\n\t\t\t'<img class=\"ke-refresh-btn\" src=\"' + imgPath + 'refresh.png\" width=\"16\" height=\"16\" alt=\"\" style=\"cursor:pointer;\" title=\"' + lang.resetSize + '\" />',\r\n\t\t\t'</div>',\r\n\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t'<label style=\"width:60px;\">' + lang.align + '</label>',\r\n\t\t\t'<input type=\"radio\" name=\"align\" class=\"ke-inline-block\" value=\"\" checked=\"checked\" /> <img name=\"defaultImg\" src=\"' + imgPath + 'align_top.gif\" width=\"23\" height=\"25\" alt=\"\" />',\r\n\t\t\t' <input type=\"radio\" name=\"align\" class=\"ke-inline-block\" value=\"left\" /> <img name=\"leftImg\" src=\"' + imgPath + 'align_left.gif\" width=\"23\" height=\"25\" alt=\"\" />',\r\n\t\t\t' <input type=\"radio\" name=\"align\" class=\"ke-inline-block\" value=\"right\" /> <img name=\"rightImg\" src=\"' + imgPath + 'align_right.gif\" width=\"23\" height=\"25\" alt=\"\" />',\r\n\t\t\t'</div>',\r\n\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t'<label for=\"remoteTitle\" style=\"width:60px;\">' + lang.imgTitle + '</label>',\r\n\t\t\t'<input type=\"text\" id=\"remoteTitle\" class=\"ke-input-text\" name=\"title\" value=\"\" style=\"width:200px;\" />',\r\n\t\t\t'</div>',\r\n\t\t\t'</div>',\r\n\t\t\t'<div class=\"tab2\" style=\"display:none;\">',\r\n\t\t\t'<iframe name=\"' + target + '\" style=\"display:none;\"></iframe>',\r\n\t\t\t'<form class=\"ke-upload-area ke-form\" method=\"post\" enctype=\"multipart/form-data\" target=\"' + target + '\" action=\"' + K.addParam(uploadJson, 'dir=image') + '\">',\r\n\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\thiddenElements.join(''),\r\n\t\t\t'<label style=\"width:60px;\">' + lang.localUrl + '</label>',\r\n\t\t\t'<input type=\"text\" name=\"localUrl\" class=\"ke-input-text\" tabindex=\"-1\" style=\"width:200px;\" readonly=\"true\" /> &nbsp;',\r\n\t\t\t'<input type=\"button\" class=\"ke-upload-button\" value=\"' + lang.upload + '\" />',\r\n\t\t\t'</div>',\r\n\t\t\t'</form>',\r\n\t\t\t'</div>',\r\n\t\t\t'</div>'\r\n\t\t].join('');\r\n\t\tvar dialogWidth = showLocal || allowFileManager ? 450 : 400,\r\n\t\t\tdialogHeight = showLocal && showRemote ? 300 : 250;\r\n\t\tvar dialog = self.createDialog({\r\n\t\t\tname : name,\r\n\t\t\twidth : dialogWidth,\r\n\t\t\theight : dialogHeight,\r\n\t\t\ttitle : self.lang(name),\r\n\t\t\tbody : html,\r\n\t\t\tyesBtn : {\r\n\t\t\t\tname : self.lang('yes'),\r\n\t\t\t\tclick : function(e) {\r\n\t\t\t\t\tif (dialog.isLoading) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (showLocal && showRemote && tabs && tabs.selectedIndex === 1 || !showRemote) {\r\n\t\t\t\t\t\tif (uploadbutton.fileBox.val() == '') {\r\n\t\t\t\t\t\t\talert(self.lang('pleaseSelectFile'));\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdialog.showLoading(self.lang('uploadLoading'));\r\n\t\t\t\t\t\tuploadbutton.submit();\r\n\t\t\t\t\t\tlocalUrlBox.val('');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar url = K.trim(urlBox.val()),\r\n\t\t\t\t\t\twidth = widthBox.val(),\r\n\t\t\t\t\t\theight = heightBox.val(),\r\n\t\t\t\t\t\ttitle = titleBox.val(),\r\n\t\t\t\t\t\talign = '';\r\n\t\t\t\t\talignBox.each(function() {\r\n\t\t\t\t\t\tif (this.checked) {\r\n\t\t\t\t\t\t\talign = this.value;\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (url == 'http://' || K.invalidUrl(url)) {\r\n\t\t\t\t\t\talert(self.lang('invalidUrl'));\r\n\t\t\t\t\t\turlBox[0].focus();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!/^\\d*$/.test(width)) {\r\n\t\t\t\t\t\talert(self.lang('invalidWidth'));\r\n\t\t\t\t\t\twidthBox[0].focus();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!/^\\d*$/.test(height)) {\r\n\t\t\t\t\t\talert(self.lang('invalidHeight'));\r\n\t\t\t\t\t\theightBox[0].focus();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclickFn.call(self, url, title, width, height, 0, align);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbeforeRemove : function() {\r\n\t\t\t\tviewServerBtn.unbind();\r\n\t\t\t\twidthBox.unbind();\r\n\t\t\t\theightBox.unbind();\r\n\t\t\t\trefreshBtn.unbind();\r\n\t\t\t}\r\n\t\t}),\r\n\t\tdiv = dialog.div;\r\n\t\tvar urlBox = K('[name=\"url\"]', div),\r\n\t\t\tlocalUrlBox = K('[name=\"localUrl\"]', div),\r\n\t\t\tviewServerBtn = K('[name=\"viewServer\"]', div),\r\n\t\t\twidthBox = K('.tab1 [name=\"width\"]', div),\r\n\t\t\theightBox = K('.tab1 [name=\"height\"]', div),\r\n\t\t\trefreshBtn = K('.ke-refresh-btn', div),\r\n\t\t\ttitleBox = K('.tab1 [name=\"title\"]', div),\r\n\t\t\talignBox = K('.tab1 [name=\"align\"]', div);\r\n\t\tvar tabs;\r\n\t\tif (showRemote && showLocal) {\r\n\t\t\ttabs = K.tabs({\r\n\t\t\t\tsrc : K('.tabs', div),\r\n\t\t\t\tafterSelect : function(i) {}\r\n\t\t\t});\r\n\t\t\ttabs.add({\r\n\t\t\t\ttitle : lang.remoteImage,\r\n\t\t\t\tpanel : K('.tab1', div)\r\n\t\t\t});\r\n\t\t\ttabs.add({\r\n\t\t\t\ttitle : lang.localImage,\r\n\t\t\t\tpanel : K('.tab2', div)\r\n\t\t\t});\r\n\t\t\ttabs.select(tabIndex);\r\n\t\t} else if (showRemote) {\r\n\t\t\tK('.tab1', div).show();\r\n\t\t} else if (showLocal) {\r\n\t\t\tK('.tab2', div).show();\r\n\t\t}\r\n\t\tvar uploadbutton = K.uploadbutton({\r\n\t\t\tbutton : K('.ke-upload-button', div)[0],\r\n\t\t\tfieldName : filePostName,\r\n\t\t\tform : K('.ke-form', div),\r\n\t\t\ttarget : target,\r\n\t\t\twidth: 60,\r\n\t\t\tafterUpload : function(data) {\r\n\t\t\t\tdialog.hideLoading();\r\n\t\t\t\tif (data.error === 0) {\r\n\t\t\t\t\tvar url = data.url;\r\n\t\t\t\t\tif (formatUploadUrl) {\r\n\t\t\t\t\t\turl = K.formatUrl(url, 'absolute');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (self.afterUpload) {\r\n\t\t\t\t\t\tself.afterUpload.call(self, url, data, name);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!fillDescAfterUploadImage) {\r\n\t\t\t\t\t\tclickFn.call(self, url, data.title, data.width, data.height, data.border, data.align);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tK(\".ke-dialog-row #remoteUrl\", div).val(url);\r\n\t\t\t\t\t\tK(\".ke-tabs-li\", div)[0].click();\r\n\t\t\t\t\t\tK(\".ke-refresh-btn\", div).click();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(data.message);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tafterError : function(html) {\r\n\t\t\t\tdialog.hideLoading();\r\n\t\t\t\tself.errorDialog(html);\r\n\t\t\t}\r\n\t\t});\r\n\t\tuploadbutton.fileBox.change(function(e) {\r\n\t\t\tlocalUrlBox.val(uploadbutton.fileBox.val());\r\n\t\t});\r\n\t\tif (allowFileManager) {\r\n\t\t\tviewServerBtn.click(function(e) {\r\n\t\t\t\tself.loadPlugin('filemanager', function() {\r\n\t\t\t\t\tself.plugin.filemanagerDialog({\r\n\t\t\t\t\t\tviewType : 'VIEW',\r\n\t\t\t\t\t\tdirName : 'image',\r\n\t\t\t\t\t\tclickFn : function(url, title) {\r\n\t\t\t\t\t\t\tif (self.dialogs.length > 1) {\r\n\t\t\t\t\t\t\t\tK('[name=\"url\"]', div).val(url);\r\n\t\t\t\t\t\t\t\tif (self.afterSelectFile) {\r\n\t\t\t\t\t\t\t\t\tself.afterSelectFile.call(self, url);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tself.hideDialog();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tviewServerBtn.hide();\r\n\t\t}\r\n\t\tvar originalWidth = 0, originalHeight = 0;\r\n\t\tfunction setSize(width, height) {\r\n\t\t\twidthBox.val(width);\r\n\t\t\theightBox.val(height);\r\n\t\t\toriginalWidth = width;\r\n\t\t\toriginalHeight = height;\r\n\t\t}\r\n\t\trefreshBtn.click(function(e) {\r\n\t\t\tvar tempImg = K('<img src=\"' + urlBox.val() + '\" />', document).css({\r\n\t\t\t\tposition : 'absolute',\r\n\t\t\t\tvisibility : 'hidden',\r\n\t\t\t\ttop : 0,\r\n\t\t\t\tleft : '-1000px'\r\n\t\t\t});\r\n\t\t\ttempImg.bind('load', function() {\r\n\t\t\t\tsetSize(tempImg.width(), tempImg.height());\r\n\t\t\t\ttempImg.remove();\r\n\t\t\t});\r\n\t\t\tK(document.body).append(tempImg);\r\n\t\t});\r\n\t\twidthBox.change(function(e) {\r\n\t\t\tif (originalWidth > 0) {\r\n\t\t\t\theightBox.val(Math.round(originalHeight / originalWidth * parseInt(this.value, 10)));\r\n\t\t\t}\r\n\t\t});\r\n\t\theightBox.change(function(e) {\r\n\t\t\tif (originalHeight > 0) {\r\n\t\t\t\twidthBox.val(Math.round(originalWidth / originalHeight * parseInt(this.value, 10)));\r\n\t\t\t}\r\n\t\t});\r\n\t\turlBox.val(options.imageUrl);\r\n\t\tsetSize(options.imageWidth, options.imageHeight);\r\n\t\ttitleBox.val(options.imageTitle);\r\n\t\talignBox.each(function() {\r\n\t\t\tif (this.value === options.imageAlign) {\r\n\t\t\t\tthis.checked = true;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (showRemote && tabIndex === 0) {\r\n\t\t\turlBox[0].focus();\r\n\t\t\turlBox[0].select();\r\n\t\t}\r\n\t\treturn dialog;\r\n\t};\r\n\tself.plugin.image = {\r\n\t\tedit : function() {\r\n\t\t\tvar img = self.plugin.getSelectedImage();\r\n\t\t\tself.plugin.imageDialog({\r\n\t\t\t\timageUrl : img ? img.attr('data-ke-src') : 'http://',\r\n\t\t\t\timageWidth : img ? img.width() : '',\r\n\t\t\t\timageHeight : img ? img.height() : '',\r\n\t\t\t\timageTitle : img ? img.attr('title') : '',\r\n\t\t\t\timageAlign : img ? img.attr('align') : '',\r\n\t\t\t\tshowRemote : allowImageRemote,\r\n\t\t\t\tshowLocal : allowImageUpload,\r\n\t\t\t\ttabIndex: img ? 0 : imageTabIndex,\r\n\t\t\t\tclickFn : function(url, title, width, height, border, align) {\r\n\t\t\t\t\tif (img) {\r\n\t\t\t\t\t\timg.attr('src', url);\r\n\t\t\t\t\t\timg.attr('data-ke-src', url);\r\n\t\t\t\t\t\timg.attr('width', width);\r\n\t\t\t\t\t\timg.attr('height', height);\r\n\t\t\t\t\t\timg.attr('title', title);\r\n\t\t\t\t\t\timg.attr('align', align);\r\n\t\t\t\t\t\timg.attr('alt', title);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tself.exec('insertimage', url, title, width, height, border, align);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tself.hideDialog().focus();\r\n\t\t\t\t\t}, 0);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t'delete' : function() {\r\n\t\t\tvar target = self.plugin.getSelectedImage();\r\n\t\t\tif (target.parent().name == 'a') {\r\n\t\t\t\ttarget = target.parent();\r\n\t\t\t}\r\n\t\t\ttarget.remove();\r\n\t\t\tself.addBookmark();\r\n\t\t}\r\n\t};\r\n\tself.clickToolbar(name, self.plugin.image.edit);\r\n});\r\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\nKindEditor.plugin('insertfile', function(K) {\r\n\tvar self = this, name = 'insertfile',\r\n\t\tallowFileUpload = K.undef(self.allowFileUpload, true),\r\n\t\tallowFileManager = K.undef(self.allowFileManager, false),\r\n\t\tformatUploadUrl = K.undef(self.formatUploadUrl, true),\r\n\t\tuploadJson = K.undef(self.uploadJson, self.basePath + 'php/upload_json.php'),\r\n\t\textraParams = K.undef(self.extraFileUploadParams, {}),\r\n\t\tfilePostName = K.undef(self.filePostName, 'imgFile'),\r\n\t\tlang = self.lang(name + '.');\r\n\tself.plugin.fileDialog = function(options) {\r\n\t\tvar fileUrl = K.undef(options.fileUrl, 'http://'),\r\n\t\t\tfileTitle = K.undef(options.fileTitle, ''),\r\n\t\t\tclickFn = options.clickFn;\r\n\t\tvar html = [\r\n\t\t\t'<div style=\"padding:20px;\">',\r\n\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t'<label for=\"keUrl\" style=\"width:60px;\">' + lang.url + '</label>',\r\n\t\t\t'<input type=\"text\" id=\"keUrl\" name=\"url\" class=\"ke-input-text\" style=\"width:160px;\" /> &nbsp;',\r\n\t\t\t'<input type=\"button\" class=\"ke-upload-button\" value=\"' + lang.upload + '\" /> &nbsp;',\r\n\t\t\t'<span class=\"ke-button-common ke-button-outer\">',\r\n\t\t\t'<input type=\"button\" class=\"ke-button-common ke-button\" name=\"viewServer\" value=\"' + lang.viewServer + '\" />',\r\n\t\t\t'</span>',\r\n\t\t\t'</div>',\r\n\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t'<label for=\"keTitle\" style=\"width:60px;\">' + lang.title + '</label>',\r\n\t\t\t'<input type=\"text\" id=\"keTitle\" class=\"ke-input-text\" name=\"title\" value=\"\" style=\"width:160px;\" /></div>',\r\n\t\t\t'</div>',\r\n\t\t\t'</form>',\r\n\t\t\t'</div>'\r\n\t\t\t].join('');\r\n\t\tvar dialog = self.createDialog({\r\n\t\t\tname : name,\r\n\t\t\twidth : 450,\r\n\t\t\ttitle : self.lang(name),\r\n\t\t\tbody : html,\r\n\t\t\tyesBtn : {\r\n\t\t\t\tname : self.lang('yes'),\r\n\t\t\t\tclick : function(e) {\r\n\t\t\t\t\tvar url = K.trim(urlBox.val()),\r\n\t\t\t\t\t\ttitle = titleBox.val();\r\n\t\t\t\t\tif (url == 'http://' || K.invalidUrl(url)) {\r\n\t\t\t\t\t\talert(self.lang('invalidUrl'));\r\n\t\t\t\t\t\turlBox[0].focus();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (K.trim(title) === '') {\r\n\t\t\t\t\t\ttitle = url;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclickFn.call(self, url, title);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}),\r\n\t\tdiv = dialog.div;\r\n\t\tvar urlBox = K('[name=\"url\"]', div),\r\n\t\t\tviewServerBtn = K('[name=\"viewServer\"]', div),\r\n\t\t\ttitleBox = K('[name=\"title\"]', div);\r\n\t\tif (allowFileUpload) {\r\n\t\t\tvar uploadbutton = K.uploadbutton({\r\n\t\t\t\tbutton : K('.ke-upload-button', div)[0],\r\n\t\t\t\tfieldName : filePostName,\r\n\t\t\t\turl : K.addParam(uploadJson, 'dir=file'),\r\n\t\t\t\textraParams : extraParams,\r\n\t\t\t\tafterUpload : function(data) {\r\n\t\t\t\t\tdialog.hideLoading();\r\n\t\t\t\t\tif (data.error === 0) {\r\n\t\t\t\t\t\tvar url = data.url;\r\n\t\t\t\t\t\tif (formatUploadUrl) {\r\n\t\t\t\t\t\t\turl = K.formatUrl(url, 'absolute');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\turlBox.val(url);\r\n\t\t\t\t\t\tif (self.afterUpload) {\r\n\t\t\t\t\t\t\tself.afterUpload.call(self, url, data, name);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\talert(self.lang('uploadSuccess'));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talert(data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tafterError : function(html) {\r\n\t\t\t\t\tdialog.hideLoading();\r\n\t\t\t\t\tself.errorDialog(html);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tuploadbutton.fileBox.change(function(e) {\r\n\t\t\t\tdialog.showLoading(self.lang('uploadLoading'));\r\n\t\t\t\tuploadbutton.submit();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tK('.ke-upload-button', div).hide();\r\n\t\t}\r\n\t\tif (allowFileManager) {\r\n\t\t\tviewServerBtn.click(function(e) {\r\n\t\t\t\tself.loadPlugin('filemanager', function() {\r\n\t\t\t\t\tself.plugin.filemanagerDialog({\r\n\t\t\t\t\t\tviewType : 'LIST',\r\n\t\t\t\t\t\tdirName : 'file',\r\n\t\t\t\t\t\tclickFn : function(url, title) {\r\n\t\t\t\t\t\t\tif (self.dialogs.length > 1) {\r\n\t\t\t\t\t\t\t\tK('[name=\"url\"]', div).val(url);\r\n\t\t\t\t\t\t\t\tif (self.afterSelectFile) {\r\n\t\t\t\t\t\t\t\t\tself.afterSelectFile.call(self, url);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tself.hideDialog();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tviewServerBtn.hide();\r\n\t\t}\r\n\t\turlBox.val(fileUrl);\r\n\t\ttitleBox.val(fileTitle);\r\n\t\turlBox[0].focus();\r\n\t\turlBox[0].select();\r\n\t};\r\n\tself.clickToolbar(name, function() {\r\n\t\tself.plugin.fileDialog({\r\n\t\t\tclickFn : function(url, title) {\r\n\t\t\t\tvar html = '<a class=\"ke-insertfile\" href=\"' + url + '\" data-ke-src=\"' + url + '\" target=\"_blank\">' + title + '</a>';\r\n\t\t\t\tself.insertHtml(html).hideDialog().focus();\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n});\r\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\nKindEditor.plugin('lineheight', function(K) {\r\n\tvar self = this, name = 'lineheight', lang = self.lang(name + '.');\r\n\tself.clickToolbar(name, function() {\r\n\t\tvar curVal = '', commonNode = self.cmd.commonNode({'*' : '.line-height'});\r\n\t\tif (commonNode) {\r\n\t\t\tcurVal = commonNode.css('line-height');\r\n\t\t}\r\n\t\tvar menu = self.createMenu({\r\n\t\t\tname : name,\r\n\t\t\twidth : 150\r\n\t\t});\r\n\t\tK.each(lang.lineHeight, function(i, row) {\r\n\t\t\tK.each(row, function(key, val) {\r\n\t\t\t\tmenu.addItem({\r\n\t\t\t\t\ttitle : val,\r\n\t\t\t\t\tchecked : curVal === key,\r\n\t\t\t\t\tclick : function() {\r\n\t\t\t\t\t\tself.cmd.toggle('<span style=\"line-height:' + key + ';\"></span>', {\r\n\t\t\t\t\t\t\tspan : '.line-height=' + key\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tself.updateState();\r\n\t\t\t\t\t\tself.addBookmark();\r\n\t\t\t\t\t\tself.hideMenu();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n});\r\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\nKindEditor.plugin('link', function(K) {\r\n\tvar self = this, name = 'link';\r\n\tself.plugin.link = {\r\n\t\tedit : function() {\r\n\t\t\tvar lang = self.lang(name + '.'),\r\n\t\t\t\thtml = '<div style=\"padding:20px;\">' +\r\n\t\t\t\t\t'<div class=\"ke-dialog-row\">' +\r\n\t\t\t\t\t'<label for=\"keUrl\" style=\"width:60px;\">' + lang.url + '</label>' +\r\n\t\t\t\t\t'<input class=\"ke-input-text\" type=\"text\" id=\"keUrl\" name=\"url\" value=\"\" style=\"width:260px;\" /></div>' +\r\n\t\t\t\t\t'<div class=\"ke-dialog-row\"\">' +\r\n\t\t\t\t\t'<label for=\"keType\" style=\"width:60px;\">' + lang.linkType + '</label>' +\r\n\t\t\t\t\t'<select id=\"keType\" name=\"type\"></select>' +\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t'</div>',\r\n\t\t\t\tdialog = self.createDialog({\r\n\t\t\t\t\tname : name,\r\n\t\t\t\t\twidth : 450,\r\n\t\t\t\t\ttitle : self.lang(name),\r\n\t\t\t\t\tbody : html,\r\n\t\t\t\t\tyesBtn : {\r\n\t\t\t\t\t\tname : self.lang('yes'),\r\n\t\t\t\t\t\tclick : function(e) {\r\n\t\t\t\t\t\t\tvar url = K.trim(urlBox.val());\r\n\t\t\t\t\t\t\tif (url == 'http://' || K.invalidUrl(url)) {\r\n\t\t\t\t\t\t\t\talert(self.lang('invalidUrl'));\r\n\t\t\t\t\t\t\t\turlBox[0].focus();\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tself.exec('createlink', url, typeBox.val()).hideDialog().focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tdiv = dialog.div,\r\n\t\t\t\turlBox = K('input[name=\"url\"]', div),\r\n\t\t\t\ttypeBox = K('select[name=\"type\"]', div);\r\n\t\t\turlBox.val('http://');\r\n\t\t\ttypeBox[0].options[0] = new Option(lang.newWindow, '_blank');\r\n\t\t\ttypeBox[0].options[1] = new Option(lang.selfWindow, '');\r\n\t\t\tself.cmd.selection();\r\n\t\t\tvar a = self.plugin.getSelectedLink();\r\n\t\t\tif (a) {\r\n\t\t\t\tself.cmd.range.selectNode(a[0]);\r\n\t\t\t\tself.cmd.select();\r\n\t\t\t\turlBox.val(a.attr('data-ke-src'));\r\n\t\t\t\ttypeBox.val(a.attr('target'));\r\n\t\t\t}\r\n\t\t\turlBox[0].focus();\r\n\t\t\turlBox[0].select();\r\n\t\t},\r\n\t\t'delete' : function() {\r\n\t\t\tself.exec('unlink', null);\r\n\t\t}\r\n\t};\r\n\tself.clickToolbar(name, self.plugin.link.edit);\r\n});\r\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\nKindEditor.plugin('media', function(K) {\r\n\tvar self = this, name = 'media', lang = self.lang(name + '.'),\r\n\t\tallowMediaUpload = K.undef(self.allowMediaUpload, true),\r\n\t\tallowFileManager = K.undef(self.allowFileManager, false),\r\n\t\tformatUploadUrl = K.undef(self.formatUploadUrl, true),\r\n\t\textraParams = K.undef(self.extraFileUploadParams, {}),\r\n\t\tfilePostName = K.undef(self.filePostName, 'imgFile'),\r\n\t\tuploadJson = K.undef(self.uploadJson, self.basePath + 'php/upload_json.php');\r\n\tself.plugin.media = {\r\n\t\tedit : function() {\r\n\t\t\tvar html = [\r\n\t\t\t\t'<div style=\"padding:20px;\">',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<label for=\"keUrl\" style=\"width:60px;\">' + lang.url + '</label>',\r\n\t\t\t\t'<input class=\"ke-input-text\" type=\"text\" id=\"keUrl\" name=\"url\" value=\"\" style=\"width:160px;\" /> &nbsp;',\r\n\t\t\t\t'<input type=\"button\" class=\"ke-upload-button\" value=\"' + lang.upload + '\" /> &nbsp;',\r\n\t\t\t\t'<span class=\"ke-button-common ke-button-outer\">',\r\n\t\t\t\t'<input type=\"button\" class=\"ke-button-common ke-button\" name=\"viewServer\" value=\"' + lang.viewServer + '\" />',\r\n\t\t\t\t'</span>',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<label for=\"keWidth\" style=\"width:60px;\">' + lang.width + '</label>',\r\n\t\t\t\t'<input type=\"text\" id=\"keWidth\" class=\"ke-input-text ke-input-number\" name=\"width\" value=\"550\" maxlength=\"4\" />',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<label for=\"keHeight\" style=\"width:60px;\">' + lang.height + '</label>',\r\n\t\t\t\t'<input type=\"text\" id=\"keHeight\" class=\"ke-input-text ke-input-number\" name=\"height\" value=\"400\" maxlength=\"4\" />',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<label for=\"keAutostart\">' + lang.autostart + '</label>',\r\n\t\t\t\t'<input type=\"checkbox\" id=\"keAutostart\" name=\"autostart\" value=\"\" /> ',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'</div>'\r\n\t\t\t].join('');\r\n\t\t\tvar dialog = self.createDialog({\r\n\t\t\t\tname : name,\r\n\t\t\t\twidth : 450,\r\n\t\t\t\theight : 230,\r\n\t\t\t\ttitle : self.lang(name),\r\n\t\t\t\tbody : html,\r\n\t\t\t\tyesBtn : {\r\n\t\t\t\t\tname : self.lang('yes'),\r\n\t\t\t\t\tclick : function(e) {\r\n\t\t\t\t\t\tvar url = K.trim(urlBox.val()),\r\n\t\t\t\t\t\t\twidth = widthBox.val(),\r\n\t\t\t\t\t\t\theight = heightBox.val();\r\n\t\t\t\t\t\tif (url == 'http://' || K.invalidUrl(url)) {\r\n\t\t\t\t\t\t\talert(self.lang('invalidUrl'));\r\n\t\t\t\t\t\t\turlBox[0].focus();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!/^\\d*$/.test(width)) {\r\n\t\t\t\t\t\t\talert(self.lang('invalidWidth'));\r\n\t\t\t\t\t\t\twidthBox[0].focus();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!/^\\d*$/.test(height)) {\r\n\t\t\t\t\t\t\talert(self.lang('invalidHeight'));\r\n\t\t\t\t\t\t\theightBox[0].focus();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar html = K.mediaImg(self.themesPath + 'common/blank.gif', {\r\n\t\t\t\t\t\t\t\tsrc : url,\r\n\t\t\t\t\t\t\t\ttype : K.mediaType(url),\r\n\t\t\t\t\t\t\t\twidth : width,\r\n\t\t\t\t\t\t\t\theight : height,\r\n\t\t\t\t\t\t\t\tautostart : autostartBox[0].checked ? 'true' : 'false',\r\n\t\t\t\t\t\t\t\tloop : 'true'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\tself.insertHtml(html).hideDialog().focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tdiv = dialog.div,\r\n\t\t\turlBox = K('[name=\"url\"]', div),\r\n\t\t\tviewServerBtn = K('[name=\"viewServer\"]', div),\r\n\t\t\twidthBox = K('[name=\"width\"]', div),\r\n\t\t\theightBox = K('[name=\"height\"]', div),\r\n\t\t\tautostartBox = K('[name=\"autostart\"]', div);\r\n\t\t\turlBox.val('http://');\r\n\t\t\tif (allowMediaUpload) {\r\n\t\t\t\tvar uploadbutton = K.uploadbutton({\r\n\t\t\t\t\tbutton : K('.ke-upload-button', div)[0],\r\n\t\t\t\t\tfieldName : filePostName,\r\n\t\t\t\t\textraParams : extraParams,\r\n\t\t\t\t\turl : K.addParam(uploadJson, 'dir=media'),\r\n\t\t\t\t\tafterUpload : function(data) {\r\n\t\t\t\t\t\tdialog.hideLoading();\r\n\t\t\t\t\t\tif (data.error === 0) {\r\n\t\t\t\t\t\t\tvar url = data.url;\r\n\t\t\t\t\t\t\tif (formatUploadUrl) {\r\n\t\t\t\t\t\t\t\turl = K.formatUrl(url, 'absolute');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\turlBox.val(url);\r\n\t\t\t\t\t\t\tif (self.afterUpload) {\r\n\t\t\t\t\t\t\t\tself.afterUpload.call(self, url, data, name);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\talert(self.lang('uploadSuccess'));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\talert(data.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tafterError : function(html) {\r\n\t\t\t\t\t\tdialog.hideLoading();\r\n\t\t\t\t\t\tself.errorDialog(html);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tuploadbutton.fileBox.change(function(e) {\r\n\t\t\t\t\tdialog.showLoading(self.lang('uploadLoading'));\r\n\t\t\t\t\tuploadbutton.submit();\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tK('.ke-upload-button', div).hide();\r\n\t\t\t}\r\n\t\t\tif (allowFileManager) {\r\n\t\t\t\tviewServerBtn.click(function(e) {\r\n\t\t\t\t\tself.loadPlugin('filemanager', function() {\r\n\t\t\t\t\t\tself.plugin.filemanagerDialog({\r\n\t\t\t\t\t\t\tviewType : 'LIST',\r\n\t\t\t\t\t\t\tdirName : 'media',\r\n\t\t\t\t\t\t\tclickFn : function(url, title) {\r\n\t\t\t\t\t\t\t\tif (self.dialogs.length > 1) {\r\n\t\t\t\t\t\t\t\t\tK('[name=\"url\"]', div).val(url);\r\n\t\t\t\t\t\t\t\t\tif (self.afterSelectFile) {\r\n\t\t\t\t\t\t\t\t\t\tself.afterSelectFile.call(self, url);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tself.hideDialog();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tviewServerBtn.hide();\r\n\t\t\t}\r\n\t\t\tvar img = self.plugin.getSelectedMedia();\r\n\t\t\tif (img) {\r\n\t\t\t\tvar attrs = K.mediaAttrs(img.attr('data-ke-tag'));\r\n\t\t\t\turlBox.val(attrs.src);\r\n\t\t\t\twidthBox.val(K.removeUnit(img.css('width')) || attrs.width || 0);\r\n\t\t\t\theightBox.val(K.removeUnit(img.css('height')) || attrs.height || 0);\r\n\t\t\t\tautostartBox[0].checked = (attrs.autostart === 'true');\r\n\t\t\t}\r\n\t\t\turlBox[0].focus();\r\n\t\t\turlBox[0].select();\r\n\t\t},\r\n\t\t'delete' : function() {\r\n\t\t\tself.plugin.getSelectedMedia().remove();\r\n\t\t\tself.addBookmark();\r\n\t\t}\r\n\t};\r\n\tself.clickToolbar(name, self.plugin.media.edit);\r\n});\r\n\n/*******************************************************************************\n* KindEditor - WYSIWYG HTML Editor for Internet\n* Copyright (C) 2006-2011 kindsoft.net\n*\n* @author Roddy <luolonghao@gmail.com>\n* @site http://www.kindsoft.net/\n* @licence http://www.kindsoft.net/license.php\n*******************************************************************************/\n(function(K) {\nfunction KSWFUpload(options) {\n\tthis.init(options);\n}\nK.extend(KSWFUpload, {\n\tinit : function(options) {\n\t\tvar self = this;\n\t\toptions.afterError = options.afterError || function(str) {\n\t\t\talert(str);\n\t\t};\n\t\tself.options = options;\n\t\tself.progressbars = {};\n\t\tself.div = K(options.container).html([\n\t\t\t'<div class=\"ke-swfupload\">',\n\t\t\t'<div class=\"ke-swfupload-top\">',\n\t\t\t'<div class=\"ke-inline-block ke-swfupload-button\">',\n\t\t\t'<input type=\"button\" value=\"Browse\" />',\n\t\t\t'</div>',\n\t\t\t'<div class=\"ke-inline-block ke-swfupload-desc\">' + options.uploadDesc + '</div>',\n\t\t\t'<span class=\"ke-button-common ke-button-outer ke-swfupload-startupload\">',\n\t\t\t'<input type=\"button\" class=\"ke-button-common ke-button\" value=\"' + options.startButtonValue + '\" />',\n\t\t\t'</span>',\n\t\t\t'</div>',\n\t\t\t'<div class=\"ke-swfupload-body\"></div>',\n\t\t\t'</div>'\n\t\t].join(''));\n\t\tself.bodyDiv = K('.ke-swfupload-body', self.div);\n\t\tfunction showError(itemDiv, msg) {\n\t\t\tK('.ke-status > div', itemDiv).hide();\n\t\t\tK('.ke-message', itemDiv).addClass('ke-error').show().html(K.escape(msg));\n\t\t}\n\t\tvar settings = {\n\t\t\tdebug : false,\n\t\t\tupload_url : options.uploadUrl,\n\t\t\tflash_url : options.flashUrl,\n\t\t\tfile_post_name : options.filePostName,\n\t\t\tbutton_placeholder : K('.ke-swfupload-button > input', self.div)[0],\n\t\t\tbutton_image_url: options.buttonImageUrl,\n\t\t\tbutton_width: options.buttonWidth,\n\t\t\tbutton_height: options.buttonHeight,\n\t\t\tbutton_cursor : SWFUpload.CURSOR.HAND,\n\t\t\tfile_types : options.fileTypes,\n\t\t\tfile_types_description : options.fileTypesDesc,\n\t\t\tfile_upload_limit : options.fileUploadLimit,\n\t\t\tfile_size_limit : options.fileSizeLimit,\n\t\t\tpost_params : options.postParams,\n\t\t\tfile_queued_handler : function(file) {\n\t\t\t\tfile.url = self.options.fileIconUrl;\n\t\t\t\tself.appendFile(file);\n\t\t\t},\n\t\t\tfile_queue_error_handler : function(file, errorCode, message) {\n\t\t\t\tvar errorName = '';\n\t\t\t\tswitch (errorCode) {\n\t\t\t\t\tcase SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:\n\t\t\t\t\t\terrorName = options.queueLimitExceeded;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:\n\t\t\t\t\t\terrorName = options.fileExceedsSizeLimit;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:\n\t\t\t\t\t\terrorName = options.zeroByteFile;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:\n\t\t\t\t\t\terrorName = options.invalidFiletype;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\terrorName = options.unknownError;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tK.DEBUG && alert(errorName);\n\t\t\t},\n\t\t\tupload_start_handler : function(file) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar itemDiv = K('div[data-id=\"' + file.id + '\"]', self.bodyDiv);\n\t\t\t\tK('.ke-status > div', itemDiv).hide();\n\t\t\t\tK('.ke-progressbar', itemDiv).show();\n\t\t\t},\n\t\t\tupload_progress_handler : function(file, bytesLoaded, bytesTotal) {\n\t\t\t\tvar percent = Math.round(bytesLoaded * 100 / bytesTotal);\n\t\t\t\tvar progressbar = self.progressbars[file.id];\n\t\t\t\tprogressbar.bar.css('width', Math.round(percent * 80 / 100) + 'px');\n\t\t\t\tprogressbar.percent.html(percent + '%');\n\t\t\t},\n\t\t\tupload_error_handler : function(file, errorCode, message) {\n\t\t\t\tif (file && file.filestatus == SWFUpload.FILE_STATUS.ERROR) {\n\t\t\t\t\tvar itemDiv = K('div[data-id=\"' + file.id + '\"]', self.bodyDiv).eq(0);\n\t\t\t\t\tshowError(itemDiv, self.options.errorMessage);\n\t\t\t\t}\n\t\t\t},\n\t\t\tupload_success_handler : function(file, serverData) {\n\t\t\t\tvar itemDiv = K('div[data-id=\"' + file.id + '\"]', self.bodyDiv).eq(0);\n\t\t\t\tvar data = {};\n\t\t\t\ttry {\n\t\t\t\t\tdata = K.json(serverData);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tself.options.afterError.call(this, '<!doctype html><html>' + serverData + '</html>');\n\t\t\t\t}\n\t\t\t\tif (data.error !== 0) {\n\t\t\t\t\tshowError(itemDiv, K.DEBUG ? data.message : self.options.errorMessage);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfile.url = data.url;\n\t\t\t\tK('.ke-img', itemDiv).attr('src', file.url).attr('data-status', file.filestatus).data('data', data);\n\t\t\t\tK('.ke-status > div', itemDiv).hide();\n\t\t\t}\n\t\t};\n\t\tself.swfu = new SWFUpload(settings);\n\t\tK('.ke-swfupload-startupload input', self.div).click(function() {\n\t\t\tself.swfu.startUpload();\n\t\t});\n\t},\n\tgetUrlList : function() {\n\t\tvar list = [];\n\t\tK('.ke-img', self.bodyDiv).each(function() {\n\t\t\tvar img = K(this);\n\t\t\tvar status = img.attr('data-status');\n\t\t\tif (status == SWFUpload.FILE_STATUS.COMPLETE) {\n\t\t\t\tlist.push(img.data('data'));\n\t\t\t}\n\t\t});\n\t\treturn list;\n\t},\n\tremoveFile : function(fileId) {\n\t\tvar self = this;\n\t\tself.swfu.cancelUpload(fileId);\n\t\tvar itemDiv = K('div[data-id=\"' + fileId + '\"]', self.bodyDiv);\n\t\tK('.ke-photo', itemDiv).unbind();\n\t\tK('.ke-delete', itemDiv).unbind();\n\t\titemDiv.remove();\n\t},\n\tremoveFiles : function() {\n\t\tvar self = this;\n\t\tK('.ke-item', self.bodyDiv).each(function() {\n\t\t\tself.removeFile(K(this).attr('data-id'));\n\t\t});\n\t},\n\tappendFile : function(file) {\n\t\tvar self = this;\n\t\tvar itemDiv = K('<div class=\"ke-inline-block ke-item\" data-id=\"' + file.id + '\"></div>');\n\t\tself.bodyDiv.append(itemDiv);\n\t\tvar photoDiv = K('<div class=\"ke-inline-block ke-photo\"></div>')\n\t\t\t.mouseover(function(e) {\n\t\t\t\tK(this).addClass('ke-on');\n\t\t\t})\n\t\t\t.mouseout(function(e) {\n\t\t\t\tK(this).removeClass('ke-on');\n\t\t\t});\n\t\titemDiv.append(photoDiv);\n\t\tvar img = K('<img src=\"' + file.url + '\" class=\"ke-img\" data-status=\"' + file.filestatus + '\" width=\"80\" height=\"80\" alt=\"' + file.name + '\" />');\n\t\tphotoDiv.append(img);\n\t\tK('<span class=\"ke-delete\"></span>').appendTo(photoDiv).click(function() {\n\t\t\tself.removeFile(file.id);\n\t\t});\n\t\tvar statusDiv = K('<div class=\"ke-status\"></div>').appendTo(photoDiv);\n\t\tK(['<div class=\"ke-progressbar\">',\n\t\t\t'<div class=\"ke-progressbar-bar\"><div class=\"ke-progressbar-bar-inner\"></div></div>',\n\t\t\t'<div class=\"ke-progressbar-percent\">0%</div></div>'].join('')).hide().appendTo(statusDiv);\n\t\tK('<div class=\"ke-message\">' + self.options.pendingMessage + '</div>').appendTo(statusDiv);\n\t\titemDiv.append('<div class=\"ke-name\">' + file.name + '</div>');\n\t\tself.progressbars[file.id] = {\n\t\t\tbar : K('.ke-progressbar-bar-inner', photoDiv),\n\t\t\tpercent : K('.ke-progressbar-percent', photoDiv)\n\t\t};\n\t},\n\tremove : function() {\n\t\tthis.removeFiles();\n\t\tthis.swfu.destroy();\n\t\tthis.div.html('');\n\t}\n});\nK.swfupload = function(element, options) {\n\treturn new KSWFUpload(element, options);\n};\n})(KindEditor);\nKindEditor.plugin('multiimage', function(K) {\n\tvar self = this, name = 'multiimage',\n\t\tformatUploadUrl = K.undef(self.formatUploadUrl, true),\n\t\tuploadJson = K.undef(self.uploadJson, self.basePath + 'php/upload_json.php'),\n\t\timgPath = self.pluginsPath + 'multiimage/images/',\n\t\timageSizeLimit = K.undef(self.imageSizeLimit, '1MB'),\n\t\timageFileTypes = K.undef(self.imageFileTypes, '*.jpg;*.gif;*.png'),\n\t\timageUploadLimit = K.undef(self.imageUploadLimit, 20),\n\t\tfilePostName = K.undef(self.filePostName, 'imgFile'),\n\t\tlang = self.lang(name + '.');\n\tself.plugin.multiImageDialog = function(options) {\n\t\tvar clickFn = options.clickFn,\n\t\t\tuploadDesc = K.tmpl(lang.uploadDesc, {uploadLimit : imageUploadLimit, sizeLimit : imageSizeLimit});\n\t\tvar html = [\n\t\t\t'<div style=\"padding:20px;\">',\n\t\t\t'<div class=\"swfupload\">',\n\t\t\t'</div>',\n\t\t\t'</div>'\n\t\t].join('');\n\t\tvar dialog = self.createDialog({\n\t\t\tname : name,\n\t\t\twidth : 650,\n\t\t\theight : 510,\n\t\t\ttitle : self.lang(name),\n\t\t\tbody : html,\n\t\t\tpreviewBtn : {\n\t\t\t\tname : lang.insertAll,\n\t\t\t\tclick : function(e) {\n\t\t\t\t\tclickFn.call(self, swfupload.getUrlList());\n\t\t\t\t}\n\t\t\t},\n\t\t\tyesBtn : {\n\t\t\t\tname : lang.clearAll,\n\t\t\t\tclick : function(e) {\n\t\t\t\t\tswfupload.removeFiles();\n\t\t\t\t}\n\t\t\t},\n\t\t\tbeforeRemove : function() {\n\t\t\t\tif (!K.IE || K.V <= 8) {\n\t\t\t\t\tswfupload.remove();\n\t\t\t\t}\n\t\t\t}\n\t\t}),\n\t\tdiv = dialog.div;\n\t\tvar swfupload = K.swfupload({\n\t\t\tcontainer : K('.swfupload', div),\n\t\t\tbuttonImageUrl : imgPath + (self.langType == 'zh-CN' ? 'select-files-zh-CN.png' : 'select-files-en.png'),\n\t\t\tbuttonWidth : self.langType == 'zh-CN' ? 72 : 88,\n\t\t\tbuttonHeight : 23,\n\t\t\tfileIconUrl : imgPath + 'image.png',\n\t\t\tuploadDesc : uploadDesc,\n\t\t\tstartButtonValue : lang.startUpload,\n\t\t\tuploadUrl : K.addParam(uploadJson, 'dir=image'),\n\t\t\tflashUrl : imgPath + 'swfupload.swf',\n\t\t\tfilePostName : filePostName,\n\t\t\tfileTypes : '*.jpg;*.jpeg;*.gif;*.png;*.bmp',\n\t\t\tfileTypesDesc : 'Image Files',\n\t\t\tfileUploadLimit : imageUploadLimit,\n\t\t\tfileSizeLimit : imageSizeLimit,\n\t\t\tpostParams :  K.undef(self.extraFileUploadParams, {}),\n\t\t\tqueueLimitExceeded : lang.queueLimitExceeded,\n\t\t\tfileExceedsSizeLimit : lang.fileExceedsSizeLimit,\n\t\t\tzeroByteFile : lang.zeroByteFile,\n\t\t\tinvalidFiletype : lang.invalidFiletype,\n\t\t\tunknownError : lang.unknownError,\n\t\t\tpendingMessage : lang.pending,\n\t\t\terrorMessage : lang.uploadError,\n\t\t\tafterError : function(html) {\n\t\t\t\tself.errorDialog(html);\n\t\t\t}\n\t\t});\n\t\treturn dialog;\n\t};\n\tself.clickToolbar(name, function() {\n\t\tself.plugin.multiImageDialog({\n\t\t\tclickFn : function (urlList) {\n\t\t\t\tif (urlList.length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tK.each(urlList, function(i, data) {\n\t\t\t\t\tif (self.afterUpload) {\n\t\t\t\t\t\tself.afterUpload.call(self, data.url, data, 'multiimage');\n\t\t\t\t\t}\n\t\t\t\t\tself.exec('insertimage', data.url, data.title, data.width, data.height, data.border, data.align);\n\t\t\t\t});\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.hideDialog().focus();\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t});\n\t});\n});\n/* ******************* */\n/* Constructor & Init  */\n/* ******************* */\n(function() {\nwindow.SWFUpload = function (settings) {\n\tthis.initSWFUpload(settings);\n};\nSWFUpload.prototype.initSWFUpload = function (settings) {\n\ttry {\n\t\tthis.customSettings = {};\n\t\tthis.settings = settings;\n\t\tthis.eventQueue = [];\n\t\tthis.movieName = \"KindEditor_SWFUpload_\" + SWFUpload.movieCount++;\n\t\tthis.movieElement = null;\n\t\tSWFUpload.instances[this.movieName] = this;\n\t\tthis.initSettings();\n\t\tthis.loadFlash();\n\t\tthis.displayDebugInfo();\n\t} catch (ex) {\n\t\tdelete SWFUpload.instances[this.movieName];\n\t\tthrow ex;\n\t}\n};\n/* *************** */\n/* Static Members  */\n/* *************** */\nSWFUpload.instances = {};\nSWFUpload.movieCount = 0;\nSWFUpload.version = \"2.2.0 2009-03-25\";\nSWFUpload.QUEUE_ERROR = {\n\tQUEUE_LIMIT_EXCEEDED\t  \t\t: -100,\n\tFILE_EXCEEDS_SIZE_LIMIT  \t\t: -110,\n\tZERO_BYTE_FILE\t\t\t  \t\t: -120,\n\tINVALID_FILETYPE\t\t  \t\t: -130\n};\nSWFUpload.UPLOAD_ERROR = {\n\tHTTP_ERROR\t\t\t\t  \t\t: -200,\n\tMISSING_UPLOAD_URL\t      \t\t: -210,\n\tIO_ERROR\t\t\t\t  \t\t: -220,\n\tSECURITY_ERROR\t\t\t  \t\t: -230,\n\tUPLOAD_LIMIT_EXCEEDED\t  \t\t: -240,\n\tUPLOAD_FAILED\t\t\t  \t\t: -250,\n\tSPECIFIED_FILE_ID_NOT_FOUND\t\t: -260,\n\tFILE_VALIDATION_FAILED\t  \t\t: -270,\n\tFILE_CANCELLED\t\t\t  \t\t: -280,\n\tUPLOAD_STOPPED\t\t\t\t\t: -290\n};\nSWFUpload.FILE_STATUS = {\n\tQUEUED\t\t : -1,\n\tIN_PROGRESS\t : -2,\n\tERROR\t\t : -3,\n\tCOMPLETE\t : -4,\n\tCANCELLED\t : -5\n};\nSWFUpload.BUTTON_ACTION = {\n\tSELECT_FILE  : -100,\n\tSELECT_FILES : -110,\n\tSTART_UPLOAD : -120\n};\nSWFUpload.CURSOR = {\n\tARROW : -1,\n\tHAND : -2\n};\nSWFUpload.WINDOW_MODE = {\n\tWINDOW : \"window\",\n\tTRANSPARENT : \"transparent\",\n\tOPAQUE : \"opaque\"\n};\nSWFUpload.completeURL = function(url) {\n\tif (typeof(url) !== \"string\" || url.match(/^https?:\\/\\//i) || url.match(/^\\//)) {\n\t\treturn url;\n\t}\n\tvar currentURL = window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? \":\" + window.location.port : \"\");\n\tvar indexSlash = window.location.pathname.lastIndexOf(\"/\");\n\tif (indexSlash <= 0) {\n\t\tpath = \"/\";\n\t} else {\n\t\tpath = window.location.pathname.substr(0, indexSlash) + \"/\";\n\t}\n\treturn /*currentURL +*/ path + url;\n};\n/* ******************** */\n/* Instance Members  */\n/* ******************** */\nSWFUpload.prototype.initSettings = function () {\n\tthis.ensureDefault = function (settingName, defaultValue) {\n\t\tthis.settings[settingName] = (this.settings[settingName] == undefined) ? defaultValue : this.settings[settingName];\n\t};\n\tthis.ensureDefault(\"upload_url\", \"\");\n\tthis.ensureDefault(\"preserve_relative_urls\", false);\n\tthis.ensureDefault(\"file_post_name\", \"Filedata\");\n\tthis.ensureDefault(\"post_params\", {});\n\tthis.ensureDefault(\"use_query_string\", false);\n\tthis.ensureDefault(\"requeue_on_error\", false);\n\tthis.ensureDefault(\"http_success\", []);\n\tthis.ensureDefault(\"assume_success_timeout\", 0);\n\tthis.ensureDefault(\"file_types\", \"*.*\");\n\tthis.ensureDefault(\"file_types_description\", \"All Files\");\n\tthis.ensureDefault(\"file_size_limit\", 0);\n\tthis.ensureDefault(\"file_upload_limit\", 0);\n\tthis.ensureDefault(\"file_queue_limit\", 0);\n\tthis.ensureDefault(\"flash_url\", \"swfupload.swf\");\n\tthis.ensureDefault(\"prevent_swf_caching\", true);\n\tthis.ensureDefault(\"button_image_url\", \"\");\n\tthis.ensureDefault(\"button_width\", 1);\n\tthis.ensureDefault(\"button_height\", 1);\n\tthis.ensureDefault(\"button_text\", \"\");\n\tthis.ensureDefault(\"button_text_style\", \"color: #000000; font-size: 16pt;\");\n\tthis.ensureDefault(\"button_text_top_padding\", 0);\n\tthis.ensureDefault(\"button_text_left_padding\", 0);\n\tthis.ensureDefault(\"button_action\", SWFUpload.BUTTON_ACTION.SELECT_FILES);\n\tthis.ensureDefault(\"button_disabled\", false);\n\tthis.ensureDefault(\"button_placeholder_id\", \"\");\n\tthis.ensureDefault(\"button_placeholder\", null);\n\tthis.ensureDefault(\"button_cursor\", SWFUpload.CURSOR.ARROW);\n\tthis.ensureDefault(\"button_window_mode\", SWFUpload.WINDOW_MODE.WINDOW);\n\tthis.ensureDefault(\"debug\", false);\n\tthis.settings.debug_enabled = this.settings.debug;\n\tthis.settings.return_upload_start_handler = this.returnUploadStart;\n\tthis.ensureDefault(\"swfupload_loaded_handler\", null);\n\tthis.ensureDefault(\"file_dialog_start_handler\", null);\n\tthis.ensureDefault(\"file_queued_handler\", null);\n\tthis.ensureDefault(\"file_queue_error_handler\", null);\n\tthis.ensureDefault(\"file_dialog_complete_handler\", null);\n\tthis.ensureDefault(\"upload_start_handler\", null);\n\tthis.ensureDefault(\"upload_progress_handler\", null);\n\tthis.ensureDefault(\"upload_error_handler\", null);\n\tthis.ensureDefault(\"upload_success_handler\", null);\n\tthis.ensureDefault(\"upload_complete_handler\", null);\n\tthis.ensureDefault(\"debug_handler\", this.debugMessage);\n\tthis.ensureDefault(\"custom_settings\", {});\n\tthis.customSettings = this.settings.custom_settings;\n\tif (!!this.settings.prevent_swf_caching) {\n\t\tthis.settings.flash_url = this.settings.flash_url + (this.settings.flash_url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + \"preventswfcaching=\" + new Date().getTime();\n\t}\n\tif (!this.settings.preserve_relative_urls) {\n\t\tthis.settings.upload_url = SWFUpload.completeURL(this.settings.upload_url);\n\t\tthis.settings.button_image_url = SWFUpload.completeURL(this.settings.button_image_url);\n\t}\n\tdelete this.ensureDefault;\n};\nSWFUpload.prototype.loadFlash = function () {\n\tvar targetElement, tempParent;\n\tif (document.getElementById(this.movieName) !== null) {\n\t\tthrow \"ID \" + this.movieName + \" is already in use. The Flash Object could not be added\";\n\t}\n\ttargetElement = document.getElementById(this.settings.button_placeholder_id) || this.settings.button_placeholder;\n\tif (targetElement == undefined) {\n\t\tthrow \"Could not find the placeholder element: \" + this.settings.button_placeholder_id;\n\t}\n\ttempParent = document.createElement(\"div\");\n\ttempParent.innerHTML = this.getFlashHTML();\n\ttargetElement.parentNode.replaceChild(tempParent.firstChild, targetElement);\n\tif (window[this.movieName] == undefined) {\n\t\twindow[this.movieName] = this.getMovieElement();\n\t}\n};\nSWFUpload.prototype.getFlashHTML = function () {\n\tvar classid = '';\n\tif (KindEditor.IE && KindEditor.V > 8) {\n\t\tclassid = ' classid = \"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"';\n\t}\n\treturn ['<object id=\"', this.movieName, '\"' + classid + ' type=\"application/x-shockwave-flash\" data=\"', this.settings.flash_url, '\" width=\"', this.settings.button_width, '\" height=\"', this.settings.button_height, '\" class=\"swfupload\">',\n\t\t\t\t'<param name=\"wmode\" value=\"', this.settings.button_window_mode, '\" />',\n\t\t\t\t'<param name=\"movie\" value=\"', this.settings.flash_url, '\" />',\n\t\t\t\t'<param name=\"quality\" value=\"high\" />',\n\t\t\t\t'<param name=\"menu\" value=\"false\" />',\n\t\t\t\t'<param name=\"allowScriptAccess\" value=\"always\" />',\n\t\t\t\t'<param name=\"flashvars\" value=\"' + this.getFlashVars() + '\" />',\n\t\t\t\t'</object>'].join(\"\");\n};\nSWFUpload.prototype.getFlashVars = function () {\n\tvar paramString = this.buildParamString();\n\tvar httpSuccessString = this.settings.http_success.join(\",\");\n\treturn [\"movieName=\", encodeURIComponent(this.movieName),\n\t\t\t\"&amp;uploadURL=\", encodeURIComponent(this.settings.upload_url),\n\t\t\t\"&amp;useQueryString=\", encodeURIComponent(this.settings.use_query_string),\n\t\t\t\"&amp;requeueOnError=\", encodeURIComponent(this.settings.requeue_on_error),\n\t\t\t\"&amp;httpSuccess=\", encodeURIComponent(httpSuccessString),\n\t\t\t\"&amp;assumeSuccessTimeout=\", encodeURIComponent(this.settings.assume_success_timeout),\n\t\t\t\"&amp;params=\", encodeURIComponent(paramString),\n\t\t\t\"&amp;filePostName=\", encodeURIComponent(this.settings.file_post_name),\n\t\t\t\"&amp;fileTypes=\", encodeURIComponent(this.settings.file_types),\n\t\t\t\"&amp;fileTypesDescription=\", encodeURIComponent(this.settings.file_types_description),\n\t\t\t\"&amp;fileSizeLimit=\", encodeURIComponent(this.settings.file_size_limit),\n\t\t\t\"&amp;fileUploadLimit=\", encodeURIComponent(this.settings.file_upload_limit),\n\t\t\t\"&amp;fileQueueLimit=\", encodeURIComponent(this.settings.file_queue_limit),\n\t\t\t\"&amp;debugEnabled=\", encodeURIComponent(this.settings.debug_enabled),\n\t\t\t\"&amp;buttonImageURL=\", encodeURIComponent(this.settings.button_image_url),\n\t\t\t\"&amp;buttonWidth=\", encodeURIComponent(this.settings.button_width),\n\t\t\t\"&amp;buttonHeight=\", encodeURIComponent(this.settings.button_height),\n\t\t\t\"&amp;buttonText=\", encodeURIComponent(this.settings.button_text),\n\t\t\t\"&amp;buttonTextTopPadding=\", encodeURIComponent(this.settings.button_text_top_padding),\n\t\t\t\"&amp;buttonTextLeftPadding=\", encodeURIComponent(this.settings.button_text_left_padding),\n\t\t\t\"&amp;buttonTextStyle=\", encodeURIComponent(this.settings.button_text_style),\n\t\t\t\"&amp;buttonAction=\", encodeURIComponent(this.settings.button_action),\n\t\t\t\"&amp;buttonDisabled=\", encodeURIComponent(this.settings.button_disabled),\n\t\t\t\"&amp;buttonCursor=\", encodeURIComponent(this.settings.button_cursor)\n\t\t].join(\"\");\n};\nSWFUpload.prototype.getMovieElement = function () {\n\tif (this.movieElement == undefined) {\n\t\tthis.movieElement = document.getElementById(this.movieName);\n\t}\n\tif (this.movieElement === null) {\n\t\tthrow \"Could not find Flash element\";\n\t}\n\treturn this.movieElement;\n};\nSWFUpload.prototype.buildParamString = function () {\n\tvar postParams = this.settings.post_params;\n\tvar paramStringPairs = [];\n\tif (typeof(postParams) === \"object\") {\n\t\tfor (var name in postParams) {\n\t\t\tif (postParams.hasOwnProperty(name)) {\n\t\t\t\tparamStringPairs.push(encodeURIComponent(name.toString()) + \"=\" + encodeURIComponent(postParams[name].toString()));\n\t\t\t}\n\t\t}\n\t}\n\treturn paramStringPairs.join(\"&amp;\");\n};\nSWFUpload.prototype.destroy = function () {\n\ttry {\n\t\tthis.cancelUpload(null, false);\n\t\tvar movieElement = null;\n\t\tmovieElement = this.getMovieElement();\n\t\tif (movieElement && typeof(movieElement.CallFunction) === \"unknown\") {\n\t\t\tfor (var i in movieElement) {\n\t\t\t\ttry {\n\t\t\t\t\tif (typeof(movieElement[i]) === \"function\") {\n\t\t\t\t\t\tmovieElement[i] = null;\n\t\t\t\t\t}\n\t\t\t\t} catch (ex1) {}\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tmovieElement.parentNode.removeChild(movieElement);\n\t\t\t} catch (ex) {}\n\t\t}\n\t\twindow[this.movieName] = null;\n\t\tSWFUpload.instances[this.movieName] = null;\n\t\tdelete SWFUpload.instances[this.movieName];\n\t\tthis.movieElement = null;\n\t\tthis.settings = null;\n\t\tthis.customSettings = null;\n\t\tthis.eventQueue = null;\n\t\tthis.movieName = null;\n\t\treturn true;\n\t} catch (ex2) {\n\t\treturn false;\n\t}\n};\nSWFUpload.prototype.displayDebugInfo = function () {\n\tthis.debug(\n\t\t[\n\t\t\t\"---SWFUpload Instance Info---\\n\",\n\t\t\t\"Version: \", SWFUpload.version, \"\\n\",\n\t\t\t\"Movie Name: \", this.movieName, \"\\n\",\n\t\t\t\"Settings:\\n\",\n\t\t\t\"\\t\", \"upload_url:               \", this.settings.upload_url, \"\\n\",\n\t\t\t\"\\t\", \"flash_url:                \", this.settings.flash_url, \"\\n\",\n\t\t\t\"\\t\", \"use_query_string:         \", this.settings.use_query_string.toString(), \"\\n\",\n\t\t\t\"\\t\", \"requeue_on_error:         \", this.settings.requeue_on_error.toString(), \"\\n\",\n\t\t\t\"\\t\", \"http_success:             \", this.settings.http_success.join(\", \"), \"\\n\",\n\t\t\t\"\\t\", \"assume_success_timeout:   \", this.settings.assume_success_timeout, \"\\n\",\n\t\t\t\"\\t\", \"file_post_name:           \", this.settings.file_post_name, \"\\n\",\n\t\t\t\"\\t\", \"post_params:              \", this.settings.post_params.toString(), \"\\n\",\n\t\t\t\"\\t\", \"file_types:               \", this.settings.file_types, \"\\n\",\n\t\t\t\"\\t\", \"file_types_description:   \", this.settings.file_types_description, \"\\n\",\n\t\t\t\"\\t\", \"file_size_limit:          \", this.settings.file_size_limit, \"\\n\",\n\t\t\t\"\\t\", \"file_upload_limit:        \", this.settings.file_upload_limit, \"\\n\",\n\t\t\t\"\\t\", \"file_queue_limit:         \", this.settings.file_queue_limit, \"\\n\",\n\t\t\t\"\\t\", \"debug:                    \", this.settings.debug.toString(), \"\\n\",\n\t\t\t\"\\t\", \"prevent_swf_caching:      \", this.settings.prevent_swf_caching.toString(), \"\\n\",\n\t\t\t\"\\t\", \"button_placeholder_id:    \", this.settings.button_placeholder_id.toString(), \"\\n\",\n\t\t\t\"\\t\", \"button_placeholder:       \", (this.settings.button_placeholder ? \"Set\" : \"Not Set\"), \"\\n\",\n\t\t\t\"\\t\", \"button_image_url:         \", this.settings.button_image_url.toString(), \"\\n\",\n\t\t\t\"\\t\", \"button_width:             \", this.settings.button_width.toString(), \"\\n\",\n\t\t\t\"\\t\", \"button_height:            \", this.settings.button_height.toString(), \"\\n\",\n\t\t\t\"\\t\", \"button_text:              \", this.settings.button_text.toString(), \"\\n\",\n\t\t\t\"\\t\", \"button_text_style:        \", this.settings.button_text_style.toString(), \"\\n\",\n\t\t\t\"\\t\", \"button_text_top_padding:  \", this.settings.button_text_top_padding.toString(), \"\\n\",\n\t\t\t\"\\t\", \"button_text_left_padding: \", this.settings.button_text_left_padding.toString(), \"\\n\",\n\t\t\t\"\\t\", \"button_action:            \", this.settings.button_action.toString(), \"\\n\",\n\t\t\t\"\\t\", \"button_disabled:          \", this.settings.button_disabled.toString(), \"\\n\",\n\t\t\t\"\\t\", \"custom_settings:          \", this.settings.custom_settings.toString(), \"\\n\",\n\t\t\t\"Event Handlers:\\n\",\n\t\t\t\"\\t\", \"swfupload_loaded_handler assigned:  \", (typeof this.settings.swfupload_loaded_handler === \"function\").toString(), \"\\n\",\n\t\t\t\"\\t\", \"file_dialog_start_handler assigned: \", (typeof this.settings.file_dialog_start_handler === \"function\").toString(), \"\\n\",\n\t\t\t\"\\t\", \"file_queued_handler assigned:       \", (typeof this.settings.file_queued_handler === \"function\").toString(), \"\\n\",\n\t\t\t\"\\t\", \"file_queue_error_handler assigned:  \", (typeof this.settings.file_queue_error_handler === \"function\").toString(), \"\\n\",\n\t\t\t\"\\t\", \"upload_start_handler assigned:      \", (typeof this.settings.upload_start_handler === \"function\").toString(), \"\\n\",\n\t\t\t\"\\t\", \"upload_progress_handler assigned:   \", (typeof this.settings.upload_progress_handler === \"function\").toString(), \"\\n\",\n\t\t\t\"\\t\", \"upload_error_handler assigned:      \", (typeof this.settings.upload_error_handler === \"function\").toString(), \"\\n\",\n\t\t\t\"\\t\", \"upload_success_handler assigned:    \", (typeof this.settings.upload_success_handler === \"function\").toString(), \"\\n\",\n\t\t\t\"\\t\", \"upload_complete_handler assigned:   \", (typeof this.settings.upload_complete_handler === \"function\").toString(), \"\\n\",\n\t\t\t\"\\t\", \"debug_handler assigned:             \", (typeof this.settings.debug_handler === \"function\").toString(), \"\\n\"\n\t\t].join(\"\")\n\t);\n};\n/* Note: addSetting and getSetting are no longer used by SWFUpload but are included\n\tthe maintain v2 API compatibility\n*/\nSWFUpload.prototype.addSetting = function (name, value, default_value) {\n    if (value == undefined) {\n        return (this.settings[name] = default_value);\n    } else {\n        return (this.settings[name] = value);\n\t}\n};\nSWFUpload.prototype.getSetting = function (name) {\n    if (this.settings[name] != undefined) {\n        return this.settings[name];\n\t}\n    return \"\";\n};\nSWFUpload.prototype.callFlash = function (functionName, argumentArray) {\n\targumentArray = argumentArray || [];\n\tvar movieElement = this.getMovieElement();\n\tvar returnValue, returnString;\n\ttry {\n\t\treturnString = movieElement.CallFunction('<invoke name=\"' + functionName + '\" returntype=\"javascript\">' + __flash__argumentsToXML(argumentArray, 0) + '</invoke>');\n\t\treturnValue = eval(returnString);\n\t} catch (ex) {\n\t\tthrow \"Call to \" + functionName + \" failed\";\n\t}\n\tif (returnValue != undefined && typeof returnValue.post === \"object\") {\n\t\treturnValue = this.unescapeFilePostParams(returnValue);\n\t}\n\treturn returnValue;\n};\n/* *****************************\n\t-- Flash control methods --\n\tYour UI should use these\n\tto operate SWFUpload\n   ***************************** */\nSWFUpload.prototype.selectFile = function () {\n\tthis.callFlash(\"SelectFile\");\n};\nSWFUpload.prototype.selectFiles = function () {\n\tthis.callFlash(\"SelectFiles\");\n};\nSWFUpload.prototype.startUpload = function (fileID) {\n\tthis.callFlash(\"StartUpload\", [fileID]);\n};\nSWFUpload.prototype.cancelUpload = function (fileID, triggerErrorEvent) {\n\tif (triggerErrorEvent !== false) {\n\t\ttriggerErrorEvent = true;\n\t}\n\tthis.callFlash(\"CancelUpload\", [fileID, triggerErrorEvent]);\n};\nSWFUpload.prototype.stopUpload = function () {\n\tthis.callFlash(\"StopUpload\");\n};\n/* ************************\n * Settings methods\n *   These methods change the SWFUpload settings.\n *   SWFUpload settings should not be changed directly on the settings object\n *   since many of the settings need to be passed to Flash in order to take\n *   effect.\n * *********************** */\nSWFUpload.prototype.getStats = function () {\n\treturn this.callFlash(\"GetStats\");\n};\nSWFUpload.prototype.setStats = function (statsObject) {\n\tthis.callFlash(\"SetStats\", [statsObject]);\n};\nSWFUpload.prototype.getFile = function (fileID) {\n\tif (typeof(fileID) === \"number\") {\n\t\treturn this.callFlash(\"GetFileByIndex\", [fileID]);\n\t} else {\n\t\treturn this.callFlash(\"GetFile\", [fileID]);\n\t}\n};\nSWFUpload.prototype.addFileParam = function (fileID, name, value) {\n\treturn this.callFlash(\"AddFileParam\", [fileID, name, value]);\n};\nSWFUpload.prototype.removeFileParam = function (fileID, name) {\n\tthis.callFlash(\"RemoveFileParam\", [fileID, name]);\n};\nSWFUpload.prototype.setUploadURL = function (url) {\n\tthis.settings.upload_url = url.toString();\n\tthis.callFlash(\"SetUploadURL\", [url]);\n};\nSWFUpload.prototype.setPostParams = function (paramsObject) {\n\tthis.settings.post_params = paramsObject;\n\tthis.callFlash(\"SetPostParams\", [paramsObject]);\n};\nSWFUpload.prototype.addPostParam = function (name, value) {\n\tthis.settings.post_params[name] = value;\n\tthis.callFlash(\"SetPostParams\", [this.settings.post_params]);\n};\nSWFUpload.prototype.removePostParam = function (name) {\n\tdelete this.settings.post_params[name];\n\tthis.callFlash(\"SetPostParams\", [this.settings.post_params]);\n};\nSWFUpload.prototype.setFileTypes = function (types, description) {\n\tthis.settings.file_types = types;\n\tthis.settings.file_types_description = description;\n\tthis.callFlash(\"SetFileTypes\", [types, description]);\n};\nSWFUpload.prototype.setFileSizeLimit = function (fileSizeLimit) {\n\tthis.settings.file_size_limit = fileSizeLimit;\n\tthis.callFlash(\"SetFileSizeLimit\", [fileSizeLimit]);\n};\nSWFUpload.prototype.setFileUploadLimit = function (fileUploadLimit) {\n\tthis.settings.file_upload_limit = fileUploadLimit;\n\tthis.callFlash(\"SetFileUploadLimit\", [fileUploadLimit]);\n};\nSWFUpload.prototype.setFileQueueLimit = function (fileQueueLimit) {\n\tthis.settings.file_queue_limit = fileQueueLimit;\n\tthis.callFlash(\"SetFileQueueLimit\", [fileQueueLimit]);\n};\nSWFUpload.prototype.setFilePostName = function (filePostName) {\n\tthis.settings.file_post_name = filePostName;\n\tthis.callFlash(\"SetFilePostName\", [filePostName]);\n};\nSWFUpload.prototype.setUseQueryString = function (useQueryString) {\n\tthis.settings.use_query_string = useQueryString;\n\tthis.callFlash(\"SetUseQueryString\", [useQueryString]);\n};\nSWFUpload.prototype.setRequeueOnError = function (requeueOnError) {\n\tthis.settings.requeue_on_error = requeueOnError;\n\tthis.callFlash(\"SetRequeueOnError\", [requeueOnError]);\n};\nSWFUpload.prototype.setHTTPSuccess = function (http_status_codes) {\n\tif (typeof http_status_codes === \"string\") {\n\t\thttp_status_codes = http_status_codes.replace(\" \", \"\").split(\",\");\n\t}\n\tthis.settings.http_success = http_status_codes;\n\tthis.callFlash(\"SetHTTPSuccess\", [http_status_codes]);\n};\nSWFUpload.prototype.setAssumeSuccessTimeout = function (timeout_seconds) {\n\tthis.settings.assume_success_timeout = timeout_seconds;\n\tthis.callFlash(\"SetAssumeSuccessTimeout\", [timeout_seconds]);\n};\nSWFUpload.prototype.setDebugEnabled = function (debugEnabled) {\n\tthis.settings.debug_enabled = debugEnabled;\n\tthis.callFlash(\"SetDebugEnabled\", [debugEnabled]);\n};\nSWFUpload.prototype.setButtonImageURL = function (buttonImageURL) {\n\tif (buttonImageURL == undefined) {\n\t\tbuttonImageURL = \"\";\n\t}\n\tthis.settings.button_image_url = buttonImageURL;\n\tthis.callFlash(\"SetButtonImageURL\", [buttonImageURL]);\n};\nSWFUpload.prototype.setButtonDimensions = function (width, height) {\n\tthis.settings.button_width = width;\n\tthis.settings.button_height = height;\n\tvar movie = this.getMovieElement();\n\tif (movie != undefined) {\n\t\tmovie.style.width = width + \"px\";\n\t\tmovie.style.height = height + \"px\";\n\t}\n\tthis.callFlash(\"SetButtonDimensions\", [width, height]);\n};\nSWFUpload.prototype.setButtonText = function (html) {\n\tthis.settings.button_text = html;\n\tthis.callFlash(\"SetButtonText\", [html]);\n};\nSWFUpload.prototype.setButtonTextPadding = function (left, top) {\n\tthis.settings.button_text_top_padding = top;\n\tthis.settings.button_text_left_padding = left;\n\tthis.callFlash(\"SetButtonTextPadding\", [left, top]);\n};\nSWFUpload.prototype.setButtonTextStyle = function (css) {\n\tthis.settings.button_text_style = css;\n\tthis.callFlash(\"SetButtonTextStyle\", [css]);\n};\nSWFUpload.prototype.setButtonDisabled = function (isDisabled) {\n\tthis.settings.button_disabled = isDisabled;\n\tthis.callFlash(\"SetButtonDisabled\", [isDisabled]);\n};\nSWFUpload.prototype.setButtonAction = function (buttonAction) {\n\tthis.settings.button_action = buttonAction;\n\tthis.callFlash(\"SetButtonAction\", [buttonAction]);\n};\nSWFUpload.prototype.setButtonCursor = function (cursor) {\n\tthis.settings.button_cursor = cursor;\n\tthis.callFlash(\"SetButtonCursor\", [cursor]);\n};\n/* *******************************\n\tFlash Event Interfaces\n\tThese functions are used by Flash to trigger the various\n\tevents.\n\tAll these functions a Private.\n\tBecause the ExternalInterface library is buggy the event calls\n\tare added to a queue and the queue then executed by a setTimeout.\n\tThis ensures that events are executed in a determinate order and that\n\tthe ExternalInterface bugs are avoided.\n******************************* */\nSWFUpload.prototype.queueEvent = function (handlerName, argumentArray) {\n\tif (argumentArray == undefined) {\n\t\targumentArray = [];\n\t} else if (!(argumentArray instanceof Array)) {\n\t\targumentArray = [argumentArray];\n\t}\n\tvar self = this;\n\tif (typeof this.settings[handlerName] === \"function\") {\n\t\tthis.eventQueue.push(function () {\n\t\t\tthis.settings[handlerName].apply(this, argumentArray);\n\t\t});\n\t\tsetTimeout(function () {\n\t\t\tself.executeNextEvent();\n\t\t}, 0);\n\t} else if (this.settings[handlerName] !== null) {\n\t\tthrow \"Event handler \" + handlerName + \" is unknown or is not a function\";\n\t}\n};\nSWFUpload.prototype.executeNextEvent = function () {\n\tvar  f = this.eventQueue ? this.eventQueue.shift() : null;\n\tif (typeof(f) === \"function\") {\n\t\tf.apply(this);\n\t}\n};\nSWFUpload.prototype.unescapeFilePostParams = function (file) {\n\tvar reg = /[$]([0-9a-f]{4})/i;\n\tvar unescapedPost = {};\n\tvar uk;\n\tif (file != undefined) {\n\t\tfor (var k in file.post) {\n\t\t\tif (file.post.hasOwnProperty(k)) {\n\t\t\t\tuk = k;\n\t\t\t\tvar match;\n\t\t\t\twhile ((match = reg.exec(uk)) !== null) {\n\t\t\t\t\tuk = uk.replace(match[0], String.fromCharCode(parseInt(\"0x\" + match[1], 16)));\n\t\t\t\t}\n\t\t\t\tunescapedPost[uk] = file.post[k];\n\t\t\t}\n\t\t}\n\t\tfile.post = unescapedPost;\n\t}\n\treturn file;\n};\nSWFUpload.prototype.testExternalInterface = function () {\n\ttry {\n\t\treturn this.callFlash(\"TestExternalInterface\");\n\t} catch (ex) {\n\t\treturn false;\n\t}\n};\nSWFUpload.prototype.flashReady = function () {\n\tvar movieElement = this.getMovieElement();\n\tif (!movieElement) {\n\t\tthis.debug(\"Flash called back ready but the flash movie can't be found.\");\n\t\treturn;\n\t}\n\tthis.cleanUp(movieElement);\n\tthis.queueEvent(\"swfupload_loaded_handler\");\n};\nSWFUpload.prototype.cleanUp = function (movieElement) {\n\ttry {\n\t\tif (this.movieElement && typeof(movieElement.CallFunction) === \"unknown\") {\n\t\t\tthis.debug(\"Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)\");\n\t\t\tfor (var key in movieElement) {\n\t\t\t\ttry {\n\t\t\t\t\tif (typeof(movieElement[key]) === \"function\") {\n\t\t\t\t\t\tmovieElement[key] = null;\n\t\t\t\t\t}\n\t\t\t\t} catch (ex) {\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (ex1) {\n\t}\n\twindow[\"__flash__removeCallback\"] = function (instance, name) {\n\t\ttry {\n\t\t\tif (instance) {\n\t\t\t\tinstance[name] = null;\n\t\t\t}\n\t\t} catch (flashEx) {\n\t\t}\n\t};\n};\n/* This is a chance to do something before the browse window opens */\nSWFUpload.prototype.fileDialogStart = function () {\n\tthis.queueEvent(\"file_dialog_start_handler\");\n};\n/* Called when a file is successfully added to the queue. */\nSWFUpload.prototype.fileQueued = function (file) {\n\tfile = this.unescapeFilePostParams(file);\n\tthis.queueEvent(\"file_queued_handler\", file);\n};\n/* Handle errors that occur when an attempt to queue a file fails. */\nSWFUpload.prototype.fileQueueError = function (file, errorCode, message) {\n\tfile = this.unescapeFilePostParams(file);\n\tthis.queueEvent(\"file_queue_error_handler\", [file, errorCode, message]);\n};\n/* Called after the file dialog has closed and the selected files have been queued.\n\tYou could call startUpload here if you want the queued files to begin uploading immediately. */\nSWFUpload.prototype.fileDialogComplete = function (numFilesSelected, numFilesQueued, numFilesInQueue) {\n\tthis.queueEvent(\"file_dialog_complete_handler\", [numFilesSelected, numFilesQueued, numFilesInQueue]);\n};\nSWFUpload.prototype.uploadStart = function (file) {\n\tfile = this.unescapeFilePostParams(file);\n\tthis.queueEvent(\"return_upload_start_handler\", file);\n};\nSWFUpload.prototype.returnUploadStart = function (file) {\n\tvar returnValue;\n\tif (typeof this.settings.upload_start_handler === \"function\") {\n\t\tfile = this.unescapeFilePostParams(file);\n\t\treturnValue = this.settings.upload_start_handler.call(this, file);\n\t} else if (this.settings.upload_start_handler != undefined) {\n\t\tthrow \"upload_start_handler must be a function\";\n\t}\n\tif (returnValue === undefined) {\n\t\treturnValue = true;\n\t}\n\treturnValue = !!returnValue;\n\tthis.callFlash(\"ReturnUploadStart\", [returnValue]);\n};\nSWFUpload.prototype.uploadProgress = function (file, bytesComplete, bytesTotal) {\n\tfile = this.unescapeFilePostParams(file);\n\tthis.queueEvent(\"upload_progress_handler\", [file, bytesComplete, bytesTotal]);\n};\nSWFUpload.prototype.uploadError = function (file, errorCode, message) {\n\tfile = this.unescapeFilePostParams(file);\n\tthis.queueEvent(\"upload_error_handler\", [file, errorCode, message]);\n};\nSWFUpload.prototype.uploadSuccess = function (file, serverData, responseReceived) {\n\tfile = this.unescapeFilePostParams(file);\n\tthis.queueEvent(\"upload_success_handler\", [file, serverData, responseReceived]);\n};\nSWFUpload.prototype.uploadComplete = function (file) {\n\tfile = this.unescapeFilePostParams(file);\n\tthis.queueEvent(\"upload_complete_handler\", file);\n};\n/* Called by SWFUpload JavaScript and Flash functions when debug is enabled. By default it writes messages to the\n   internal debug console.  You can override this event and have messages written where you want. */\nSWFUpload.prototype.debug = function (message) {\n\tthis.queueEvent(\"debug_handler\", message);\n};\n/* **********************************\n\tDebug Console\n\tThe debug console is a self contained, in page location\n\tfor debug message to be sent.  The Debug Console adds\n\titself to the body if necessary.\n\tThe console is automatically scrolled as messages appear.\n\tIf you are using your own debug handler or when you deploy to production and\n\thave debug disabled you can remove these functions to reduce the file size\n\tand complexity.\n********************************** */\nSWFUpload.prototype.debugMessage = function (message) {\n\tif (this.settings.debug) {\n\t\tvar exceptionMessage, exceptionValues = [];\n\t\tif (typeof message === \"object\" && typeof message.name === \"string\" && typeof message.message === \"string\") {\n\t\t\tfor (var key in message) {\n\t\t\t\tif (message.hasOwnProperty(key)) {\n\t\t\t\t\texceptionValues.push(key + \": \" + message[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t\texceptionMessage = exceptionValues.join(\"\\n\") || \"\";\n\t\t\texceptionValues = exceptionMessage.split(\"\\n\");\n\t\t\texceptionMessage = \"EXCEPTION: \" + exceptionValues.join(\"\\nEXCEPTION: \");\n\t\t\tSWFUpload.Console.writeLine(exceptionMessage);\n\t\t} else {\n\t\t\tSWFUpload.Console.writeLine(message);\n\t\t}\n\t}\n};\nSWFUpload.Console = {};\nSWFUpload.Console.writeLine = function (message) {\n\tvar console, documentForm;\n\ttry {\n\t\tconsole = document.getElementById(\"SWFUpload_Console\");\n\t\tif (!console) {\n\t\t\tdocumentForm = document.createElement(\"form\");\n\t\t\tdocument.getElementsByTagName(\"body\")[0].appendChild(documentForm);\n\t\t\tconsole = document.createElement(\"textarea\");\n\t\t\tconsole.id = \"SWFUpload_Console\";\n\t\t\tconsole.style.fontFamily = \"monospace\";\n\t\t\tconsole.setAttribute(\"wrap\", \"off\");\n\t\t\tconsole.wrap = \"off\";\n\t\t\tconsole.style.overflow = \"auto\";\n\t\t\tconsole.style.width = \"700px\";\n\t\t\tconsole.style.height = \"350px\";\n\t\t\tconsole.style.margin = \"5px\";\n\t\t\tdocumentForm.appendChild(console);\n\t\t}\n\t\tconsole.value += message + \"\\n\";\n\t\tconsole.scrollTop = console.scrollHeight - console.clientHeight;\n\t} catch (ex) {\n\t\talert(\"Exception: \" + ex.name + \" Message: \" + ex.message);\n\t}\n};\n})();\n(function() {\n/*\n\tQueue Plug-in\n\tFeatures:\n\t\t*Adds a cancelQueue() method for cancelling the entire queue.\n\t\t*All queued files are uploaded when startUpload() is called.\n\t\t*If false is returned from uploadComplete then the queue upload is stopped.\n\t\t If false is not returned (strict comparison) then the queue upload is continued.\n\t\t*Adds a QueueComplete event that is fired when all the queued files have finished uploading.\n\t\t Set the event handler with the queue_complete_handler setting.\n\t*/\nif (typeof(SWFUpload) === \"function\") {\n\tSWFUpload.queue = {};\n\tSWFUpload.prototype.initSettings = (function (oldInitSettings) {\n\t\treturn function () {\n\t\t\tif (typeof(oldInitSettings) === \"function\") {\n\t\t\t\toldInitSettings.call(this);\n\t\t\t}\n\t\t\tthis.queueSettings = {};\n\t\t\tthis.queueSettings.queue_cancelled_flag = false;\n\t\t\tthis.queueSettings.queue_upload_count = 0;\n\t\t\tthis.queueSettings.user_upload_complete_handler = this.settings.upload_complete_handler;\n\t\t\tthis.queueSettings.user_upload_start_handler = this.settings.upload_start_handler;\n\t\t\tthis.settings.upload_complete_handler = SWFUpload.queue.uploadCompleteHandler;\n\t\t\tthis.settings.upload_start_handler = SWFUpload.queue.uploadStartHandler;\n\t\t\tthis.settings.queue_complete_handler = this.settings.queue_complete_handler || null;\n\t\t};\n\t})(SWFUpload.prototype.initSettings);\n\tSWFUpload.prototype.startUpload = function (fileID) {\n\t\tthis.queueSettings.queue_cancelled_flag = false;\n\t\tthis.callFlash(\"StartUpload\", [fileID]);\n\t};\n\tSWFUpload.prototype.cancelQueue = function () {\n\t\tthis.queueSettings.queue_cancelled_flag = true;\n\t\tthis.stopUpload();\n\t\tvar stats = this.getStats();\n\t\twhile (stats.files_queued > 0) {\n\t\t\tthis.cancelUpload();\n\t\t\tstats = this.getStats();\n\t\t}\n\t};\n\tSWFUpload.queue.uploadStartHandler = function (file) {\n\t\tvar returnValue;\n\t\tif (typeof(this.queueSettings.user_upload_start_handler) === \"function\") {\n\t\t\treturnValue = this.queueSettings.user_upload_start_handler.call(this, file);\n\t\t}\n\t\treturnValue = (returnValue === false) ? false : true;\n\t\tthis.queueSettings.queue_cancelled_flag = !returnValue;\n\t\treturn returnValue;\n\t};\n\tSWFUpload.queue.uploadCompleteHandler = function (file) {\n\t\tvar user_upload_complete_handler = this.queueSettings.user_upload_complete_handler;\n\t\tvar continueUpload;\n\t\tif (file.filestatus === SWFUpload.FILE_STATUS.COMPLETE) {\n\t\t\tthis.queueSettings.queue_upload_count++;\n\t\t}\n\t\tif (typeof(user_upload_complete_handler) === \"function\") {\n\t\t\tcontinueUpload = (user_upload_complete_handler.call(this, file) === false) ? false : true;\n\t\t} else if (file.filestatus === SWFUpload.FILE_STATUS.QUEUED) {\n\t\t\tcontinueUpload = false;\n\t\t} else {\n\t\t\tcontinueUpload = true;\n\t\t}\n\t\tif (continueUpload) {\n\t\t\tvar stats = this.getStats();\n\t\t\tif (stats.files_queued > 0 && this.queueSettings.queue_cancelled_flag === false) {\n\t\t\t\tthis.startUpload();\n\t\t\t} else if (this.queueSettings.queue_cancelled_flag === false) {\n\t\t\t\tthis.queueEvent(\"queue_complete_handler\", [this.queueSettings.queue_upload_count]);\n\t\t\t\tthis.queueSettings.queue_upload_count = 0;\n\t\t\t} else {\n\t\t\t\tthis.queueSettings.queue_cancelled_flag = false;\n\t\t\t\tthis.queueSettings.queue_upload_count = 0;\n\t\t\t}\n\t\t}\n\t};\n}\n})();\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\nKindEditor.plugin('pagebreak', function(K) {\r\n\tvar self = this;\r\n\tvar name = 'pagebreak';\r\n\tvar pagebreakHtml = K.undef(self.pagebreakHtml, '<hr style=\"page-break-after: always;\" class=\"ke-pagebreak\" />');\r\n\tself.clickToolbar(name, function() {\r\n\t\tvar cmd = self.cmd, range = cmd.range;\r\n\t\tself.focus();\r\n\t\tvar tail = self.newlineTag == 'br' || K.WEBKIT ? '' : '<span id=\"__kindeditor_tail_tag__\"></span>';\r\n\t\tself.insertHtml(pagebreakHtml + tail);\r\n\t\tif (tail !== '') {\r\n\t\t\tvar p = K('#__kindeditor_tail_tag__', self.edit.doc);\r\n\t\t\trange.selectNodeContents(p[0]);\r\n\t\t\tp.removeAttr('id');\r\n\t\t\tcmd.select();\r\n\t\t}\r\n\t});\r\n});\r\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\nKindEditor.plugin('plainpaste', function(K) {\r\n\tvar self = this, name = 'plainpaste';\r\n\tself.clickToolbar(name, function() {\r\n\t\tvar lang = self.lang(name + '.'),\r\n\t\t\thtml = '<div style=\"padding:10px 20px;\">' +\r\n\t\t\t\t'<div style=\"margin-bottom:10px;\">' + lang.comment + '</div>' +\r\n\t\t\t\t'<textarea class=\"ke-textarea\" style=\"width:408px;height:260px;\"></textarea>' +\r\n\t\t\t\t'</div>',\r\n\t\t\tdialog = self.createDialog({\r\n\t\t\t\tname : name,\r\n\t\t\t\twidth : 450,\r\n\t\t\t\ttitle : self.lang(name),\r\n\t\t\t\tbody : html,\r\n\t\t\t\tyesBtn : {\r\n\t\t\t\t\tname : self.lang('yes'),\r\n\t\t\t\t\tclick : function(e) {\r\n\t\t\t\t\t\tvar html = textarea.val();\r\n\t\t\t\t\t\thtml = K.escape(html);\r\n\t\t\t\t\t\thtml = html.replace(/ {2}/g, ' &nbsp;');\r\n\t\t\t\t\t\tif (self.newlineTag == 'p') {\r\n\t\t\t\t\t\t\thtml = html.replace(/^/, '<p>').replace(/$/, '</p>').replace(/\\n/g, '</p><p>');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\thtml = html.replace(/\\n/g, '<br />$&');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.insertHtml(html).hideDialog().focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\ttextarea = K('textarea', dialog.div);\r\n\t\ttextarea[0].focus();\r\n\t});\r\n});\r\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\nKindEditor.plugin('preview', function(K) {\r\n\tvar self = this, name = 'preview', undefined;\r\n\tself.clickToolbar(name, function() {\r\n\t\tvar lang = self.lang(name + '.'),\r\n\t\t\thtml = '<div style=\"padding:10px 20px;\">' +\r\n\t\t\t\t'<iframe class=\"ke-textarea\" frameborder=\"0\" style=\"width:708px;height:400px;\"></iframe>' +\r\n\t\t\t\t'</div>',\r\n\t\t\tdialog = self.createDialog({\r\n\t\t\t\tname : name,\r\n\t\t\t\twidth : 750,\r\n\t\t\t\ttitle : self.lang(name),\r\n\t\t\t\tbody : html\r\n\t\t\t}),\r\n\t\t\tiframe = K('iframe', dialog.div),\r\n\t\t\tdoc = K.iframeDoc(iframe);\r\n\t\tdoc.open();\r\n\t\tdoc.write(self.fullHtml());\r\n\t\tdoc.close();\r\n\t\tK(doc.body).css('background-color', '#FFF');\r\n\t\tiframe[0].contentWindow.focus();\r\n\t});\r\n});\r\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\nKindEditor.plugin('quickformat', function(K) {\r\n\tvar self = this, name = 'quickformat',\r\n\t\tblockMap = K.toMap('blockquote,center,div,h1,h2,h3,h4,h5,h6,p');\r\n\tfunction getFirstChild(knode) {\r\n\t\tvar child = knode.first();\r\n\t\twhile (child && child.first()) {\r\n\t\t\tchild = child.first();\r\n\t\t}\r\n\t\treturn child;\r\n\t}\r\n\tself.clickToolbar(name, function() {\r\n\t\tself.focus();\r\n\t\tvar doc = self.edit.doc,\r\n\t\t\trange = self.cmd.range,\r\n\t\t\tchild = K(doc.body).first(), next,\r\n\t\t\tnodeList = [], subList = [],\r\n\t\t\tbookmark = range.createBookmark(true);\r\n\t\twhile(child) {\r\n\t\t\tnext = child.next();\r\n\t\t\tvar firstChild = getFirstChild(child);\r\n\t\t\tif (!firstChild || firstChild.name != 'img') {\r\n\t\t\t\tif (blockMap[child.name]) {\r\n\t\t\t\t\tchild.html(child.html().replace(/^(\\s|&nbsp;|　)+/ig, ''));\r\n\t\t\t\t\tchild.css('text-indent', '2em');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsubList.push(child);\r\n\t\t\t\t}\r\n\t\t\t\tif (!next || (blockMap[next.name] || blockMap[child.name] && !blockMap[next.name])) {\r\n\t\t\t\t\tif (subList.length > 0) {\r\n\t\t\t\t\t\tnodeList.push(subList);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsubList = [];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tchild = next;\r\n\t\t}\r\n\t\tK.each(nodeList, function(i, subList) {\r\n\t\t\tvar wrapper = K('<p style=\"text-indent:2em;\"></p>', doc);\r\n\t\t\tsubList[0].before(wrapper);\r\n\t\t\tK.each(subList, function(i, knode) {\r\n\t\t\t\twrapper.append(knode);\r\n\t\t\t});\r\n\t\t});\r\n\t\trange.moveToBookmark(bookmark);\r\n\t\tself.addBookmark();\r\n\t});\r\n});\r\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\nKindEditor.plugin('table', function(K) {\r\n\tvar self = this, name = 'table', lang = self.lang(name + '.'), zeroborder = 'ke-zeroborder';\r\n\tfunction _setColor(box, color) {\r\n\t\tcolor = color.toUpperCase();\r\n\t\tbox.css('background-color', color);\r\n\t\tbox.css('color', color === '#000000' ? '#FFFFFF' : '#000000');\r\n\t\tbox.html(color);\r\n\t}\r\n\tvar pickerList = [];\r\n\tfunction _initColorPicker(dialogDiv, colorBox) {\r\n\t\tcolorBox.bind('click,mousedown', function(e){\r\n\t\t\te.stopPropagation();\r\n\t\t});\r\n\t\tfunction removePicker() {\r\n\t\t\tK.each(pickerList, function() {\r\n\t\t\t\tthis.remove();\r\n\t\t\t});\r\n\t\t\tpickerList = [];\r\n\t\t\tK(document).unbind('click,mousedown', removePicker);\r\n\t\t\tdialogDiv.unbind('click,mousedown', removePicker);\r\n\t\t}\r\n\t\tcolorBox.click(function(e) {\r\n\t\t\tremovePicker();\r\n\t\t\tvar box = K(this),\r\n\t\t\t\tpos = box.pos();\r\n\t\t\tvar picker = K.colorpicker({\r\n\t\t\t\tx : pos.x,\r\n\t\t\t\ty : pos.y + box.height(),\r\n\t\t\t\tz : 811214,\r\n\t\t\t\tselectedColor : K(this).html(),\r\n\t\t\t\tcolors : self.colorTable,\r\n\t\t\t\tnoColor : self.lang('noColor'),\r\n\t\t\t\tshadowMode : self.shadowMode,\r\n\t\t\t\tclick : function(color) {\r\n\t\t\t\t\t_setColor(box, color);\r\n\t\t\t\t\tremovePicker();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tpickerList.push(picker);\r\n\t\t\tK(document).bind('click,mousedown', removePicker);\r\n\t\t\tdialogDiv.bind('click,mousedown', removePicker);\r\n\t\t});\r\n\t}\r\n\tfunction _getCellIndex(table, row, cell) {\r\n\t\tvar rowSpanCount = 0;\r\n\t\tfor (var i = 0, len = row.cells.length; i < len; i++) {\r\n\t\t\tif (row.cells[i] == cell) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\trowSpanCount += row.cells[i].rowSpan - 1;\r\n\t\t}\r\n\t\treturn cell.cellIndex - rowSpanCount;\r\n\t}\r\n\tself.plugin.table = {\r\n\t\tprop : function(isInsert) {\r\n\t\t\tvar html = [\r\n\t\t\t\t'<div style=\"padding:20px;\">',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<label for=\"keRows\" style=\"width:90px;\">' + lang.cells + '</label>',\r\n\t\t\t\tlang.rows + ' <input type=\"text\" id=\"keRows\" class=\"ke-input-text ke-input-number\" name=\"rows\" value=\"\" maxlength=\"4\" /> &nbsp; ',\r\n\t\t\t\tlang.cols + ' <input type=\"text\" class=\"ke-input-text ke-input-number\" name=\"cols\" value=\"\" maxlength=\"4\" />',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<label for=\"keWidth\" style=\"width:90px;\">' + lang.size + '</label>',\r\n\t\t\t\tlang.width + ' <input type=\"text\" id=\"keWidth\" class=\"ke-input-text ke-input-number\" name=\"width\" value=\"\" maxlength=\"4\" /> &nbsp; ',\r\n\t\t\t\t'<select name=\"widthType\">',\r\n\t\t\t\t'<option value=\"%\">' + lang.percent + '</option>',\r\n\t\t\t\t'<option value=\"px\">' + lang.px + '</option>',\r\n\t\t\t\t'</select> &nbsp; ',\r\n\t\t\t\tlang.height + ' <input type=\"text\" class=\"ke-input-text ke-input-number\" name=\"height\" value=\"\" maxlength=\"4\" /> &nbsp; ',\r\n\t\t\t\t'<select name=\"heightType\">',\r\n\t\t\t\t'<option value=\"%\">' + lang.percent + '</option>',\r\n\t\t\t\t'<option value=\"px\">' + lang.px + '</option>',\r\n\t\t\t\t'</select>',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<label for=\"kePadding\" style=\"width:90px;\">' + lang.space + '</label>',\r\n\t\t\t\tlang.padding + ' <input type=\"text\" id=\"kePadding\" class=\"ke-input-text ke-input-number\" name=\"padding\" value=\"\" maxlength=\"4\" /> &nbsp; ',\r\n\t\t\t\tlang.spacing + ' <input type=\"text\" class=\"ke-input-text ke-input-number\" name=\"spacing\" value=\"\" maxlength=\"4\" />',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<label for=\"keAlign\" style=\"width:90px;\">' + lang.align + '</label>',\r\n\t\t\t\t'<select id=\"keAlign\" name=\"align\">',\r\n\t\t\t\t'<option value=\"\">' + lang.alignDefault + '</option>',\r\n\t\t\t\t'<option value=\"left\">' + lang.alignLeft + '</option>',\r\n\t\t\t\t'<option value=\"center\">' + lang.alignCenter + '</option>',\r\n\t\t\t\t'<option value=\"right\">' + lang.alignRight + '</option>',\r\n\t\t\t\t'</select>',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<label for=\"keBorder\" style=\"width:90px;\">' + lang.border + '</label>',\r\n\t\t\t\tlang.borderWidth + ' <input type=\"text\" id=\"keBorder\" class=\"ke-input-text ke-input-number\" name=\"border\" value=\"\" maxlength=\"4\" /> &nbsp; ',\r\n\t\t\t\tlang.borderColor + ' <span class=\"ke-inline-block ke-input-color\"></span>',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<label for=\"keBgColor\" style=\"width:90px;\">' + lang.backgroundColor + '</label>',\r\n\t\t\t\t'<span class=\"ke-inline-block ke-input-color\"></span>',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'</div>'\r\n\t\t\t].join('');\r\n\t\t\tvar bookmark = self.cmd.range.createBookmark();\r\n\t\t\tvar dialog = self.createDialog({\r\n\t\t\t\tname : name,\r\n\t\t\t\twidth : 500,\r\n\t\t\t\ttitle : self.lang(name),\r\n\t\t\t\tbody : html,\r\n\t\t\t\tbeforeRemove : function() {\r\n\t\t\t\t\tcolorBox.unbind();\r\n\t\t\t\t},\r\n\t\t\t\tyesBtn : {\r\n\t\t\t\t\tname : self.lang('yes'),\r\n\t\t\t\t\tclick : function(e) {\r\n\t\t\t\t\t\tvar rows = rowsBox.val(),\r\n\t\t\t\t\t\t\tcols = colsBox.val(),\r\n\t\t\t\t\t\t\twidth = widthBox.val(),\r\n\t\t\t\t\t\t\theight = heightBox.val(),\r\n\t\t\t\t\t\t\twidthType = widthTypeBox.val(),\r\n\t\t\t\t\t\t\theightType = heightTypeBox.val(),\r\n\t\t\t\t\t\t\tpadding = paddingBox.val(),\r\n\t\t\t\t\t\t\tspacing = spacingBox.val(),\r\n\t\t\t\t\t\t\talign = alignBox.val(),\r\n\t\t\t\t\t\t\tborder = borderBox.val(),\r\n\t\t\t\t\t\t\tborderColor = K(colorBox[0]).html() || '',\r\n\t\t\t\t\t\t\tbgColor = K(colorBox[1]).html() || '';\r\n\t\t\t\t\t\tif (rows == 0 || !/^\\d+$/.test(rows)) {\r\n\t\t\t\t\t\t\talert(self.lang('invalidRows'));\r\n\t\t\t\t\t\t\trowsBox[0].focus();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (cols == 0 || !/^\\d+$/.test(cols)) {\r\n\t\t\t\t\t\t\talert(self.lang('invalidRows'));\r\n\t\t\t\t\t\t\tcolsBox[0].focus();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!/^\\d*$/.test(width)) {\r\n\t\t\t\t\t\t\talert(self.lang('invalidWidth'));\r\n\t\t\t\t\t\t\twidthBox[0].focus();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!/^\\d*$/.test(height)) {\r\n\t\t\t\t\t\t\talert(self.lang('invalidHeight'));\r\n\t\t\t\t\t\t\theightBox[0].focus();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!/^\\d*$/.test(padding)) {\r\n\t\t\t\t\t\t\talert(self.lang('invalidPadding'));\r\n\t\t\t\t\t\t\tpaddingBox[0].focus();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!/^\\d*$/.test(spacing)) {\r\n\t\t\t\t\t\t\talert(self.lang('invalidSpacing'));\r\n\t\t\t\t\t\t\tspacingBox[0].focus();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!/^\\d*$/.test(border)) {\r\n\t\t\t\t\t\t\talert(self.lang('invalidBorder'));\r\n\t\t\t\t\t\t\tborderBox[0].focus();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (table) {\r\n\t\t\t\t\t\t\tif (width !== '') {\r\n\t\t\t\t\t\t\t\ttable.width(width + widthType);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttable.css('width', '');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (table[0].width !== undefined) {\r\n\t\t\t\t\t\t\t\ttable.removeAttr('width');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (height !== '') {\r\n\t\t\t\t\t\t\t\ttable.height(height + heightType);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttable.css('height', '');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (table[0].height !== undefined) {\r\n\t\t\t\t\t\t\t\ttable.removeAttr('height');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttable.css('background-color', bgColor);\r\n\t\t\t\t\t\t\tif (table[0].bgColor !== undefined) {\r\n\t\t\t\t\t\t\t\ttable.removeAttr('bgColor');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (padding !== '') {\r\n\t\t\t\t\t\t\t\ttable[0].cellPadding = padding;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttable.removeAttr('cellPadding');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (spacing !== '') {\r\n\t\t\t\t\t\t\t\ttable[0].cellSpacing = spacing;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttable.removeAttr('cellSpacing');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (align !== '') {\r\n\t\t\t\t\t\t\t\ttable[0].align = align;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttable.removeAttr('align');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (border !== '') {\r\n\t\t\t\t\t\t\t\ttable.attr('border', border);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttable.removeAttr('border');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (border === '' || border === '0') {\r\n\t\t\t\t\t\t\t\ttable.addClass(zeroborder);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttable.removeClass(zeroborder);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (borderColor !== '') {\r\n\t\t\t\t\t\t\t\ttable.attr('borderColor', borderColor);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttable.removeAttr('borderColor');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tself.hideDialog().focus();\r\n\t\t\t\t\t\t\tself.cmd.range.moveToBookmark(bookmark);\r\n\t\t\t\t\t\t\tself.cmd.select();\r\n\t\t\t\t\t\t\tself.addBookmark();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar style = '';\r\n\t\t\t\t\t\tif (width !== '') {\r\n\t\t\t\t\t\t\tstyle += 'width:' + width + widthType + ';';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (height !== '') {\r\n\t\t\t\t\t\t\tstyle += 'height:' + height + heightType + ';';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (bgColor !== '') {\r\n\t\t\t\t\t\t\tstyle += 'background-color:' + bgColor + ';';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar html = '<table';\r\n\t\t\t\t\t\tif (style !== '') {\r\n\t\t\t\t\t\t\thtml += ' style=\"' + style + '\"';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (padding !== '') {\r\n\t\t\t\t\t\t\thtml += ' cellpadding=\"' + padding + '\"';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (spacing !== '') {\r\n\t\t\t\t\t\t\thtml += ' cellspacing=\"' + spacing + '\"';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (align !== '') {\r\n\t\t\t\t\t\t\thtml += ' align=\"' + align + '\"';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (border !== '') {\r\n\t\t\t\t\t\t\thtml += ' border=\"' + border + '\"';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (border === '' || border === '0') {\r\n\t\t\t\t\t\t\thtml += ' class=\"' + zeroborder + '\"';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (borderColor !== '') {\r\n\t\t\t\t\t\t\thtml += ' bordercolor=\"' + borderColor + '\"';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thtml += '>';\r\n\t\t\t\t\t\tfor (var i = 0; i < rows; i++) {\r\n\t\t\t\t\t\t\thtml += '<tr>';\r\n\t\t\t\t\t\t\tfor (var j = 0; j < cols; j++) {\r\n\t\t\t\t\t\t\t\thtml += '<td>' + (K.IE ? '&nbsp;' : '<br />') + '</td>';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\thtml += '</tr>';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thtml += '</table>';\r\n\t\t\t\t\t\tif (!K.IE) {\r\n\t\t\t\t\t\t\thtml += '<br />';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.insertHtml(html);\r\n\t\t\t\t\t\tself.select().hideDialog().focus();\r\n\t\t\t\t\t\tself.addBookmark();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tdiv = dialog.div,\r\n\t\t\trowsBox = K('[name=\"rows\"]', div).val(3),\r\n\t\t\tcolsBox = K('[name=\"cols\"]', div).val(2),\r\n\t\t\twidthBox = K('[name=\"width\"]', div).val(100),\r\n\t\t\theightBox = K('[name=\"height\"]', div),\r\n\t\t\twidthTypeBox = K('[name=\"widthType\"]', div),\r\n\t\t\theightTypeBox = K('[name=\"heightType\"]', div),\r\n\t\t\tpaddingBox = K('[name=\"padding\"]', div).val(2),\r\n\t\t\tspacingBox = K('[name=\"spacing\"]', div).val(0),\r\n\t\t\talignBox = K('[name=\"align\"]', div),\r\n\t\t\tborderBox = K('[name=\"border\"]', div).val(1),\r\n\t\t\tcolorBox = K('.ke-input-color', div);\r\n\t\t\t_initColorPicker(div, colorBox.eq(0));\r\n\t\t\t_initColorPicker(div, colorBox.eq(1));\r\n\t\t\t_setColor(colorBox.eq(0), '#000000');\r\n\t\t\t_setColor(colorBox.eq(1), '');\r\n\t\t\trowsBox[0].focus();\r\n\t\t\trowsBox[0].select();\r\n\t\t\tvar table;\r\n\t\t\tif (isInsert) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ttable = self.plugin.getSelectedTable();\r\n\t\t\tif (table) {\r\n\t\t\t\trowsBox.val(table[0].rows.length);\r\n\t\t\t\tcolsBox.val(table[0].rows.length > 0 ? table[0].rows[0].cells.length : 0);\r\n\t\t\t\trowsBox.attr('disabled', true);\r\n\t\t\t\tcolsBox.attr('disabled', true);\r\n\t\t\t\tvar match,\r\n\t\t\t\t\ttableWidth = table[0].style.width || table[0].width,\r\n\t\t\t\t\ttableHeight = table[0].style.height || table[0].height;\r\n\t\t\t\tif (tableWidth !== undefined && (match = /^(\\d+)((?:px|%)*)$/.exec(tableWidth))) {\r\n\t\t\t\t\twidthBox.val(match[1]);\r\n\t\t\t\t\twidthTypeBox.val(match[2]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\twidthBox.val('');\r\n\t\t\t\t}\r\n\t\t\t\tif (tableHeight !== undefined && (match = /^(\\d+)((?:px|%)*)$/.exec(tableHeight))) {\r\n\t\t\t\t\theightBox.val(match[1]);\r\n\t\t\t\t\theightTypeBox.val(match[2]);\r\n\t\t\t\t}\r\n\t\t\t\tpaddingBox.val(table[0].cellPadding || '');\r\n\t\t\t\tspacingBox.val(table[0].cellSpacing || '');\r\n\t\t\t\talignBox.val(table[0].align || '');\r\n\t\t\t\tborderBox.val(table[0].border === undefined ? '' : table[0].border);\r\n\t\t\t\t_setColor(colorBox.eq(0), K.toHex(table.attr('borderColor') || ''));\r\n\t\t\t\t_setColor(colorBox.eq(1), K.toHex(table[0].style.backgroundColor || table[0].bgColor || ''));\r\n\t\t\t\twidthBox[0].focus();\r\n\t\t\t\twidthBox[0].select();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcellprop : function() {\r\n\t\t\tvar html = [\r\n\t\t\t\t'<div style=\"padding:20px;\">',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<label for=\"keWidth\" style=\"width:90px;\">' + lang.size + '</label>',\r\n\t\t\t\tlang.width + ' <input type=\"text\" id=\"keWidth\" class=\"ke-input-text ke-input-number\" name=\"width\" value=\"\" maxlength=\"4\" /> &nbsp; ',\r\n\t\t\t\t'<select name=\"widthType\">',\r\n\t\t\t\t'<option value=\"%\">' + lang.percent + '</option>',\r\n\t\t\t\t'<option value=\"px\">' + lang.px + '</option>',\r\n\t\t\t\t'</select> &nbsp; ',\r\n\t\t\t\tlang.height + ' <input type=\"text\" class=\"ke-input-text ke-input-number\" name=\"height\" value=\"\" maxlength=\"4\" /> &nbsp; ',\r\n\t\t\t\t'<select name=\"heightType\">',\r\n\t\t\t\t'<option value=\"%\">' + lang.percent + '</option>',\r\n\t\t\t\t'<option value=\"px\">' + lang.px + '</option>',\r\n\t\t\t\t'</select>',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<label for=\"keAlign\" style=\"width:90px;\">' + lang.align + '</label>',\r\n\t\t\t\tlang.textAlign + ' <select id=\"keAlign\" name=\"textAlign\">',\r\n\t\t\t\t'<option value=\"\">' + lang.alignDefault + '</option>',\r\n\t\t\t\t'<option value=\"left\">' + lang.alignLeft + '</option>',\r\n\t\t\t\t'<option value=\"center\">' + lang.alignCenter + '</option>',\r\n\t\t\t\t'<option value=\"right\">' + lang.alignRight + '</option>',\r\n\t\t\t\t'</select> ',\r\n\t\t\t\tlang.verticalAlign + ' <select name=\"verticalAlign\">',\r\n\t\t\t\t'<option value=\"\">' + lang.alignDefault + '</option>',\r\n\t\t\t\t'<option value=\"top\">' + lang.alignTop + '</option>',\r\n\t\t\t\t'<option value=\"middle\">' + lang.alignMiddle + '</option>',\r\n\t\t\t\t'<option value=\"bottom\">' + lang.alignBottom + '</option>',\r\n\t\t\t\t'<option value=\"baseline\">' + lang.alignBaseline + '</option>',\r\n\t\t\t\t'</select>',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<label for=\"keBorder\" style=\"width:90px;\">' + lang.border + '</label>',\r\n\t\t\t\tlang.borderWidth + ' <input type=\"text\" id=\"keBorder\" class=\"ke-input-text ke-input-number\" name=\"border\" value=\"\" maxlength=\"4\" /> &nbsp; ',\r\n\t\t\t\tlang.borderColor + ' <span class=\"ke-inline-block ke-input-color\"></span>',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'<div class=\"ke-dialog-row\">',\r\n\t\t\t\t'<label for=\"keBgColor\" style=\"width:90px;\">' + lang.backgroundColor + '</label>',\r\n\t\t\t\t'<span class=\"ke-inline-block ke-input-color\"></span>',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'</div>'\r\n\t\t\t].join('');\r\n\t\t\tvar bookmark = self.cmd.range.createBookmark();\r\n\t\t\tvar dialog = self.createDialog({\r\n\t\t\t\tname : name,\r\n\t\t\t\twidth : 500,\r\n\t\t\t\ttitle : self.lang('tablecell'),\r\n\t\t\t\tbody : html,\r\n\t\t\t\tbeforeRemove : function() {\r\n\t\t\t\t\tcolorBox.unbind();\r\n\t\t\t\t},\r\n\t\t\t\tyesBtn : {\r\n\t\t\t\t\tname : self.lang('yes'),\r\n\t\t\t\t\tclick : function(e) {\r\n\t\t\t\t\t\tvar width = widthBox.val(),\r\n\t\t\t\t\t\t\theight = heightBox.val(),\r\n\t\t\t\t\t\t\twidthType = widthTypeBox.val(),\r\n\t\t\t\t\t\t\theightType = heightTypeBox.val(),\r\n\t\t\t\t\t\t\tpadding = paddingBox.val(),\r\n\t\t\t\t\t\t\tspacing = spacingBox.val(),\r\n\t\t\t\t\t\t\ttextAlign = textAlignBox.val(),\r\n\t\t\t\t\t\t\tverticalAlign = verticalAlignBox.val(),\r\n\t\t\t\t\t\t\tborder = borderBox.val(),\r\n\t\t\t\t\t\t\tborderColor = K(colorBox[0]).html() || '',\r\n\t\t\t\t\t\t\tbgColor = K(colorBox[1]).html() || '';\r\n\t\t\t\t\t\tif (!/^\\d*$/.test(width)) {\r\n\t\t\t\t\t\t\talert(self.lang('invalidWidth'));\r\n\t\t\t\t\t\t\twidthBox[0].focus();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!/^\\d*$/.test(height)) {\r\n\t\t\t\t\t\t\talert(self.lang('invalidHeight'));\r\n\t\t\t\t\t\t\theightBox[0].focus();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!/^\\d*$/.test(border)) {\r\n\t\t\t\t\t\t\talert(self.lang('invalidBorder'));\r\n\t\t\t\t\t\t\tborderBox[0].focus();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcell.css({\r\n\t\t\t\t\t\t\twidth : width !== '' ? (width + widthType) : '',\r\n\t\t\t\t\t\t\theight : height !== '' ? (height + heightType) : '',\r\n\t\t\t\t\t\t\t'background-color' : bgColor,\r\n\t\t\t\t\t\t\t'text-align' : textAlign,\r\n\t\t\t\t\t\t\t'vertical-align' : verticalAlign,\r\n\t\t\t\t\t\t\t'border-width' : border,\r\n\t\t\t\t\t\t\t'border-style' : border !== '' ? 'solid' : '',\r\n\t\t\t\t\t\t\t'border-color' : borderColor\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tself.hideDialog().focus();\r\n\t\t\t\t\t\tself.cmd.range.moveToBookmark(bookmark);\r\n\t\t\t\t\t\tself.cmd.select();\r\n\t\t\t\t\t\tself.addBookmark();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tdiv = dialog.div,\r\n\t\t\twidthBox = K('[name=\"width\"]', div).val(100),\r\n\t\t\theightBox = K('[name=\"height\"]', div),\r\n\t\t\twidthTypeBox = K('[name=\"widthType\"]', div),\r\n\t\t\theightTypeBox = K('[name=\"heightType\"]', div),\r\n\t\t\tpaddingBox = K('[name=\"padding\"]', div).val(2),\r\n\t\t\tspacingBox = K('[name=\"spacing\"]', div).val(0),\r\n\t\t\ttextAlignBox = K('[name=\"textAlign\"]', div),\r\n\t\t\tverticalAlignBox = K('[name=\"verticalAlign\"]', div),\r\n\t\t\tborderBox = K('[name=\"border\"]', div).val(1),\r\n\t\t\tcolorBox = K('.ke-input-color', div);\r\n\t\t\t_initColorPicker(div, colorBox.eq(0));\r\n\t\t\t_initColorPicker(div, colorBox.eq(1));\r\n\t\t\t_setColor(colorBox.eq(0), '#000000');\r\n\t\t\t_setColor(colorBox.eq(1), '');\r\n\t\t\twidthBox[0].focus();\r\n\t\t\twidthBox[0].select();\r\n\t\t\tvar cell = self.plugin.getSelectedCell();\r\n\t\t\tvar match,\r\n\t\t\t\tcellWidth = cell[0].style.width || cell[0].width || '',\r\n\t\t\t\tcellHeight = cell[0].style.height || cell[0].height || '';\r\n\t\t\tif ((match = /^(\\d+)((?:px|%)*)$/.exec(cellWidth))) {\r\n\t\t\t\twidthBox.val(match[1]);\r\n\t\t\t\twidthTypeBox.val(match[2]);\r\n\t\t\t} else {\r\n\t\t\t\twidthBox.val('');\r\n\t\t\t}\r\n\t\t\tif ((match = /^(\\d+)((?:px|%)*)$/.exec(cellHeight))) {\r\n\t\t\t\theightBox.val(match[1]);\r\n\t\t\t\theightTypeBox.val(match[2]);\r\n\t\t\t}\r\n\t\t\ttextAlignBox.val(cell[0].style.textAlign || '');\r\n\t\t\tverticalAlignBox.val(cell[0].style.verticalAlign || '');\r\n\t\t\tvar border = cell[0].style.borderWidth || '';\r\n\t\t\tif (border) {\r\n\t\t\t\tborder = parseInt(border);\r\n\t\t\t}\r\n\t\t\tborderBox.val(border);\r\n\t\t\t_setColor(colorBox.eq(0), K.toHex(cell[0].style.borderColor || ''));\r\n\t\t\t_setColor(colorBox.eq(1), K.toHex(cell[0].style.backgroundColor || ''));\r\n\t\t\twidthBox[0].focus();\r\n\t\t\twidthBox[0].select();\r\n\t\t},\r\n\t\tinsert : function() {\r\n\t\t\tthis.prop(true);\r\n\t\t},\r\n\t\t'delete' : function() {\r\n\t\t\tvar table = self.plugin.getSelectedTable();\r\n\t\t\tself.cmd.range.setStartBefore(table[0]).collapse(true);\r\n\t\t\tself.cmd.select();\r\n\t\t\ttable.remove();\r\n\t\t\tself.addBookmark();\r\n\t\t},\r\n\t\tcolinsert : function(offset) {\r\n\t\t\tvar table = self.plugin.getSelectedTable()[0],\r\n\t\t\t\trow = self.plugin.getSelectedRow()[0],\r\n\t\t\t\tcell = self.plugin.getSelectedCell()[0],\r\n\t\t\t\tindex = cell.cellIndex + offset;\r\n\t\t\tindex += table.rows[0].cells.length - row.cells.length;\r\n\t\t\tfor (var i = 0, len = table.rows.length; i < len; i++) {\r\n\t\t\t\tvar newRow = table.rows[i],\r\n\t\t\t\t\tnewCell = newRow.insertCell(index);\r\n\t\t\t\tnewCell.innerHTML = K.IE ? '' : '<br />';\r\n\t\t\t\tindex = _getCellIndex(table, newRow, newCell);\r\n\t\t\t}\r\n\t\t\tself.cmd.range.selectNodeContents(cell).collapse(true);\r\n\t\t\tself.cmd.select();\r\n\t\t\tself.addBookmark();\r\n\t\t},\r\n\t\tcolinsertleft : function() {\r\n\t\t\tthis.colinsert(0);\r\n\t\t},\r\n\t\tcolinsertright : function() {\r\n\t\t\tthis.colinsert(1);\r\n\t\t},\r\n\t\trowinsert : function(offset) {\r\n\t\t\tvar table = self.plugin.getSelectedTable()[0],\r\n\t\t\t\trow = self.plugin.getSelectedRow()[0],\r\n\t\t\t\tcell = self.plugin.getSelectedCell()[0];\r\n\t\t\tvar rowIndex = row.rowIndex;\r\n\t\t\tif (offset === 1) {\r\n\t\t\t\trowIndex = row.rowIndex + (cell.rowSpan - 1) + offset;\r\n\t\t\t}\r\n\t\t\tvar newRow = table.insertRow(rowIndex);\r\n\t\t\tfor (var i = 0, len = row.cells.length; i < len; i++) {\r\n\t\t\t\tif (row.cells[i].rowSpan > 1) {\r\n\t\t\t\t\tlen -= row.cells[i].rowSpan - 1;\r\n\t\t\t\t}\r\n\t\t\t\tvar newCell = newRow.insertCell(i);\r\n\t\t\t\tif (offset === 1 && row.cells[i].colSpan > 1) {\r\n\t\t\t\t\tnewCell.colSpan = row.cells[i].colSpan;\r\n\t\t\t\t}\r\n\t\t\t\tnewCell.innerHTML = K.IE ? '' : '<br />';\r\n\t\t\t}\r\n\t\t\tfor (var j = rowIndex; j >= 0; j--) {\r\n\t\t\t\tvar cells = table.rows[j].cells;\r\n\t\t\t\tif (cells.length > i) {\r\n\t\t\t\t\tfor (var k = cell.cellIndex; k >= 0; k--) {\r\n\t\t\t\t\t\tif (cells[k].rowSpan > 1) {\r\n\t\t\t\t\t\t\tcells[k].rowSpan += 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tself.cmd.range.selectNodeContents(cell).collapse(true);\r\n\t\t\tself.cmd.select();\r\n\t\t\tself.addBookmark();\r\n\t\t},\r\n\t\trowinsertabove : function() {\r\n\t\t\tthis.rowinsert(0);\r\n\t\t},\r\n\t\trowinsertbelow : function() {\r\n\t\t\tthis.rowinsert(1);\r\n\t\t},\r\n\t\trowmerge : function() {\r\n\t\t\tvar table = self.plugin.getSelectedTable()[0],\r\n\t\t\t\trow = self.plugin.getSelectedRow()[0],\r\n\t\t\t\tcell = self.plugin.getSelectedCell()[0],\r\n\t\t\t\trowIndex = row.rowIndex,\r\n\t\t\t\tnextRowIndex = rowIndex + cell.rowSpan,\r\n\t\t\t\tnextRow = table.rows[nextRowIndex];\r\n\t\t\tif (table.rows.length <= nextRowIndex) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar cellIndex = cell.cellIndex;\r\n\t\t\tif (nextRow.cells.length <= cellIndex) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar nextCell = nextRow.cells[cellIndex];\r\n\t\t\tif (cell.colSpan !== nextCell.colSpan) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcell.rowSpan += nextCell.rowSpan;\r\n\t\t\tnextRow.deleteCell(cellIndex);\r\n\t\t\tself.cmd.range.selectNodeContents(cell).collapse(true);\r\n\t\t\tself.cmd.select();\r\n\t\t\tself.addBookmark();\r\n\t\t},\r\n\t\tcolmerge : function() {\r\n\t\t\tvar table = self.plugin.getSelectedTable()[0],\r\n\t\t\t\trow = self.plugin.getSelectedRow()[0],\r\n\t\t\t\tcell = self.plugin.getSelectedCell()[0],\r\n\t\t\t\trowIndex = row.rowIndex,\r\n\t\t\t\tcellIndex = cell.cellIndex,\r\n\t\t\t\tnextCellIndex = cellIndex + 1;\r\n\t\t\tif (row.cells.length <= nextCellIndex) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar nextCell = row.cells[nextCellIndex];\r\n\t\t\tif (cell.rowSpan !== nextCell.rowSpan) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcell.colSpan += nextCell.colSpan;\r\n\t\t\trow.deleteCell(nextCellIndex);\r\n\t\t\tself.cmd.range.selectNodeContents(cell).collapse(true);\r\n\t\t\tself.cmd.select();\r\n\t\t\tself.addBookmark();\r\n\t\t},\r\n\t\trowsplit : function() {\r\n\t\t\tvar table = self.plugin.getSelectedTable()[0],\r\n\t\t\t\trow = self.plugin.getSelectedRow()[0],\r\n\t\t\t\tcell = self.plugin.getSelectedCell()[0],\r\n\t\t\t\trowIndex = row.rowIndex;\r\n\t\t\tif (cell.rowSpan === 1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar cellIndex = _getCellIndex(table, row, cell);\r\n\t\t\tfor (var i = 1, len = cell.rowSpan; i < len; i++) {\r\n\t\t\t\tvar newRow = table.rows[rowIndex + i],\r\n\t\t\t\t\tnewCell = newRow.insertCell(cellIndex);\r\n\t\t\t\tif (cell.colSpan > 1) {\r\n\t\t\t\t\tnewCell.colSpan = cell.colSpan;\r\n\t\t\t\t}\r\n\t\t\t\tnewCell.innerHTML = K.IE ? '' : '<br />';\r\n\t\t\t\tcellIndex = _getCellIndex(table, newRow, newCell);\r\n\t\t\t}\r\n\t\t\tK(cell).removeAttr('rowSpan');\r\n\t\t\tself.cmd.range.selectNodeContents(cell).collapse(true);\r\n\t\t\tself.cmd.select();\r\n\t\t\tself.addBookmark();\r\n\t\t},\r\n\t\tcolsplit : function() {\r\n\t\t\tvar table = self.plugin.getSelectedTable()[0],\r\n\t\t\t\trow = self.plugin.getSelectedRow()[0],\r\n\t\t\t\tcell = self.plugin.getSelectedCell()[0],\r\n\t\t\t\tcellIndex = cell.cellIndex;\r\n\t\t\tif (cell.colSpan === 1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tfor (var i = 1, len = cell.colSpan; i < len; i++) {\r\n\t\t\t\tvar newCell = row.insertCell(cellIndex + i);\r\n\t\t\t\tif (cell.rowSpan > 1) {\r\n\t\t\t\t\tnewCell.rowSpan = cell.rowSpan;\r\n\t\t\t\t}\r\n\t\t\t\tnewCell.innerHTML = K.IE ? '' : '<br />';\r\n\t\t\t}\r\n\t\t\tK(cell).removeAttr('colSpan');\r\n\t\t\tself.cmd.range.selectNodeContents(cell).collapse(true);\r\n\t\t\tself.cmd.select();\r\n\t\t\tself.addBookmark();\r\n\t\t},\r\n\t\tcoldelete : function() {\r\n\t\t\tvar table = self.plugin.getSelectedTable()[0],\r\n\t\t\t\trow = self.plugin.getSelectedRow()[0],\r\n\t\t\t\tcell = self.plugin.getSelectedCell()[0],\r\n\t\t\t\tindex = cell.cellIndex;\r\n\t\t\tfor (var i = 0, len = table.rows.length; i < len; i++) {\r\n\t\t\t\tvar newRow = table.rows[i],\r\n\t\t\t\t\tnewCell = newRow.cells[index];\r\n\t\t\t\tif (newCell.colSpan > 1) {\r\n\t\t\t\t\tnewCell.colSpan -= 1;\r\n\t\t\t\t\tif (newCell.colSpan === 1) {\r\n\t\t\t\t\t\tK(newCell).removeAttr('colSpan');\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewRow.deleteCell(index);\r\n\t\t\t\t}\r\n\t\t\t\tif (newCell.rowSpan > 1) {\r\n\t\t\t\t\ti += newCell.rowSpan - 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (row.cells.length === 0) {\r\n\t\t\t\tself.cmd.range.setStartBefore(table).collapse(true);\r\n\t\t\t\tself.cmd.select();\r\n\t\t\t\tK(table).remove();\r\n\t\t\t} else {\r\n\t\t\t\tself.cmd.selection(true);\r\n\t\t\t}\r\n\t\t\tself.addBookmark();\r\n\t\t},\r\n\t\trowdelete : function() {\r\n\t\t\tvar table = self.plugin.getSelectedTable()[0],\r\n\t\t\t\trow = self.plugin.getSelectedRow()[0],\r\n\t\t\t\tcell = self.plugin.getSelectedCell()[0],\r\n\t\t\t\trowIndex = row.rowIndex;\r\n\t\t\tfor (var i = cell.rowSpan - 1; i >= 0; i--) {\r\n\t\t\t\ttable.deleteRow(rowIndex + i);\r\n\t\t\t}\r\n\t\t\tif (table.rows.length === 0) {\r\n\t\t\t\tself.cmd.range.setStartBefore(table).collapse(true);\r\n\t\t\t\tself.cmd.select();\r\n\t\t\t\tK(table).remove();\r\n\t\t\t} else {\r\n\t\t\t\tself.cmd.selection(true);\r\n\t\t\t}\r\n\t\t\tself.addBookmark();\r\n\t\t}\r\n\t};\r\n\tself.clickToolbar(name, self.plugin.table.prop);\r\n});\r\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\nKindEditor.plugin('template', function(K) {\r\n\tvar self = this, name = 'template', lang = self.lang(name + '.'),\r\n\t\thtmlPath = self.pluginsPath + name + '/html/';\r\n\tfunction getFilePath(fileName) {\r\n\t\treturn htmlPath + fileName + '?ver=' + encodeURIComponent(K.DEBUG ? K.TIME : K.VERSION);\r\n\t}\r\n\tself.clickToolbar(name, function() {\r\n\t\tvar lang = self.lang(name + '.'),\r\n\t\t\tarr = ['<div style=\"padding:10px 20px;\">',\r\n\t\t\t\t'<div class=\"ke-header\">',\r\n\t\t\t\t'<div class=\"ke-left\">',\r\n\t\t\t\tlang. selectTemplate + ' <select>'];\r\n\t\t\tK.each(lang.fileList, function(key, val) {\r\n\t\t\t\tarr.push('<option value=\"' + key + '\">' + val + '</option>');\r\n\t\t\t});\r\n\t\t\thtml = [arr.join(''),\r\n\t\t\t\t'</select></div>',\r\n\t\t\t\t'<div class=\"ke-right\">',\r\n\t\t\t\t'<input type=\"checkbox\" id=\"keReplaceFlag\" name=\"replaceFlag\" value=\"1\" /> <label for=\"keReplaceFlag\">' + lang.replaceContent + '</label>',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'<div class=\"ke-clearfix\"></div>',\r\n\t\t\t\t'</div>',\r\n\t\t\t\t'<iframe class=\"ke-textarea\" frameborder=\"0\" style=\"width:458px;height:260px;background-color:#FFF;\"></iframe>',\r\n\t\t\t\t'</div>'].join('');\r\n\t\tvar dialog = self.createDialog({\r\n\t\t\tname : name,\r\n\t\t\twidth : 500,\r\n\t\t\ttitle : self.lang(name),\r\n\t\t\tbody : html,\r\n\t\t\tyesBtn : {\r\n\t\t\t\tname : self.lang('yes'),\r\n\t\t\t\tclick : function(e) {\r\n\t\t\t\t\tvar doc = K.iframeDoc(iframe);\r\n\t\t\t\t\tself[checkbox[0].checked ? 'html' : 'insertHtml'](doc.body.innerHTML).hideDialog().focus();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar selectBox = K('select', dialog.div),\r\n\t\t\tcheckbox = K('[name=\"replaceFlag\"]', dialog.div),\r\n\t\t\tiframe = K('iframe', dialog.div);\r\n\t\tcheckbox[0].checked = true;\r\n\t\tiframe.attr('src', getFilePath(selectBox.val()));\r\n\t\tselectBox.change(function() {\r\n\t\t\tiframe.attr('src', getFilePath(this.value));\r\n\t\t});\r\n\t});\r\n});\r\n\n/*******************************************************************************\r\n* KindEditor - WYSIWYG HTML Editor for Internet\r\n* Copyright (C) 2006-2011 kindsoft.net\r\n*\r\n* @author Roddy <luolonghao@gmail.com>\r\n* @site http://www.kindsoft.net/\r\n* @licence http://www.kindsoft.net/license.php\r\n*******************************************************************************/\r\nKindEditor.plugin('wordpaste', function(K) {\r\n\tvar self = this, name = 'wordpaste';\r\n\tself.clickToolbar(name, function() {\r\n\t\tvar lang = self.lang(name + '.'),\r\n\t\t\thtml = '<div style=\"padding:10px 20px;\">' +\r\n\t\t\t\t'<div style=\"margin-bottom:10px;\">' + lang.comment + '</div>' +\r\n\t\t\t\t'<iframe class=\"ke-textarea\" frameborder=\"0\" style=\"width:408px;height:260px;\"></iframe>' +\r\n\t\t\t\t'</div>',\r\n\t\t\tdialog = self.createDialog({\r\n\t\t\t\tname : name,\r\n\t\t\t\twidth : 450,\r\n\t\t\t\ttitle : self.lang(name),\r\n\t\t\t\tbody : html,\r\n\t\t\t\tyesBtn : {\r\n\t\t\t\t\tname : self.lang('yes'),\r\n\t\t\t\t\tclick : function(e) {\r\n\t\t\t\t\t\tvar str = doc.body.innerHTML;\r\n\t\t\t\t\t\tstr = K.clearMsWord(str, self.filterMode ? self.htmlTags : K.options.htmlTags);\r\n\t\t\t\t\t\tself.insertHtml(str).hideDialog().focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tdiv = dialog.div,\r\n\t\t\tiframe = K('iframe', div),\r\n\t\t\tdoc = K.iframeDoc(iframe);\r\n\t\tif (!K.IE) {\r\n\t\t\tdoc.designMode = 'on';\r\n\t\t}\r\n\t\tdoc.open();\r\n\t\tdoc.write('<!doctype html><html><head><title>WordPaste</title></head>');\r\n\t\tdoc.write('<body style=\"background-color:#FFF;font-size:12px;margin:2px;\">');\r\n\t\tif (!K.IE) {\r\n\t\t\tdoc.write('<br />');\r\n\t\t}\r\n\t\tdoc.write('</body></html>');\r\n\t\tdoc.close();\r\n\t\tif (K.IE) {\r\n\t\t\tdoc.body.contentEditable = 'true';\r\n\t\t}\r\n\t\tiframe[0].contentWindow.focus();\r\n\t});\r\n});\r\n\n\nKindEditor.plugin('fixtoolbar', function (K) {\n    var self = this;\n    if (!self.fixToolBar) {\n        return;\n    }\n    function init() {\n        var toolbar = K('.ke-toolbar');\n        var originY = toolbar.pos().y;\n        K(window).bind('scroll', function () {\n            if (toolbar.css('position') == 'fixed') {\n                if(document.body.scrollTop - originY < 0){\n                    toolbar.css('position', 'static');\n                    toolbar.css('top', 'auto');\n                }\n            } else {\n                if (toolbar.pos().y - document.body.scrollTop < 0) {\n                    toolbar.css('position', 'fixed');\n                    toolbar.css('top', 0);\n                }\n            }\n        });\n    }\n    if (self.isCreated) {\n        init();\n    } else {\n        self.afterCreate(init);\n    }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/kindeditor/kindeditor-all.js\n// module id = dlod\n// module chunks = 4 7","// removed by extract-text-webpack-plugin\n\n\n// WEBPACK FOOTER //\n// \"}!./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-07d9cd4a\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/PostArticle/PostArticle.vue"],"sourceRoot":""}